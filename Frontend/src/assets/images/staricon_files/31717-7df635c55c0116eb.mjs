"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["31717"],{244914:function(e,t,n){var i;n.r(t),n.d(t,{default:function(){return s}});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d";let s=r},572934:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(667294),r=n(616550),s=n(551304),a=n(561162),o=n(3879),l=n(959474),u=n(6340),c=n(601909),d=n(191953);function p(){let e=(0,l.Z)(),t=(0,a.F)(),{isRTL:n}=(0,o.B)(),p=(0,r.TH)(),h=(0,r.k6)(),m=p.search,_=(0,d.Z)(p)&&!n&&e.isAuth&&!e.isPartner&&!(0,s.OK)(p);return(0,i.useEffect)(()=>{m.includes("enable_vertical_nav")&&((0,c.M)(),h.push("/"),window.location.reload())},[m,h]),{enabled:_&&t.checkExperiment("web_vertical_nav").anyEnabled,group:_?t.checkExperiment("web_vertical_nav").group:u.lR.NONE}}},342117:function(e,t,n){n.d(t,{Z:function(){return s}}),n(441143);var i=n(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function s(e){let{css:t,unsafeCSS:n,...s}=e,a=String(t||"")||n||"";return a?(0,i.jsx)("style",{...s,dangerouslySetInnerHTML:{__html:String(r.factory(a))}}):null}},514533:function(e,t,n){n.d(t,{$N:function(){return m},Cu:function(){return f},GY:function(){return c},MZ:function(){return o},NR:function(){return d},bC:function(){return _},fm:function(){return i},id:function(){return s},kM:function(){return a},q6:function(){return r},qp:function(){return u},uV:function(){return p},ug:function(){return h},xL:function(){return l}});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},s={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},l={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},u={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},d={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",h="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},_="click",f="view"},955254:function(e,t,n){n.d(t,{YS:function(){return o},eF:function(){return l},m_:function(){return a}});var i=n(514533),r=n(543123),s=n(320288);function a(e,t,n,r,a){let o=new URLSearchParams,l=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);o.append(i.NR.SOURCE_EVENT_ID,e??"0"),o.append(i.NR.DESTINATION,JSON.stringify([...l])),o.append(i.NR.EXPIRY,n?i.uV:i.ug),o.append(i.NR.PRIORITY,n?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),a&&o.append(i.NR.ADVERTISER_ID,a),r&&o.append(i.NR.CAMPAIGN_ID,r),o.append(i.NR.SOURCE_EVENT_TYPE,n?i.bC:i.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(i.NR.HOSTNAME,e)}catch(e){(0,s.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function o(e,t,n,i,o,l,u,c,d){let p;let{appType:h,osType:m}=l||{},_="",f="";if(["Pin","pinImpressions"].includes(e)&&t&&(i||c||d)){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:h,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:h,osType:m}});return}_=a(n,[i,c,d],!1,o,u);try{f=new URL(window.location.href).hostname}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(f&&"www.pinterest.com"!==f)document.createElement("img").setAttribute("attributionsrc",_),(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:h,osType:m,hostname:f}});else if(!(p=await window.fetch(_,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:h,osType:m}})}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,r.Z)(e,"name"),message:(0,r.Z)(e,"message"),appType:h,osType:m,hostname:f,responseStatus:p&&p.status}})}}else(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:h,osType:m}})}function l(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},771862:function(e,t,n){n.d(t,{CC:function(){return r},Ll:function(){return a},XF:function(){return s}});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),r=(e,t)=>i(t/2,e/2,2*Math.random()*Math.PI),s=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,a=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},151127:function(e,t,n){n.d(t,{Q:function(){return l},Z:function(){return u}});var i=n(667294),r=n(674320),s=n(264723),a=n(651068),o=n(3879);function l(e,t){let{setViewContextData:n}=(0,s.sV)(),{requestIdentifier:l}=(0,o.B)(),u=(0,r.Z)(),{viewData:c}=(0,s.SU)();(0,i.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u({...e,event_type:13,request_identifier:l}))},[t])}function u(e){let{children:t,log:n}=e;return l(n),t||null}},103650:function(e,t,n){function i(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!s(e[i],t[i],n+1))return!1;return!0}function r(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!s(e[i],t[i],n+1))return!1;return!0}function s(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let s=Object.prototype.toString.call(e);if(s!==Object.prototype.toString.call(t))return!1;switch(s){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return r(e,t,n);case"[object Map]":return r(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function a(e,t){return s(e,t,0)}n.d(t,{ZP:function(){return a},qP:function(){return i}})},48813:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(667294),r=n(973935);function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"observer",null),s(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let o=a},614269:function(e,t,n){n.d(t,{g:function(){return a},t:function(){return s}});var i=n(667294);let r=(0,i.createContext)(null),s=r.Provider,a=()=>(0,i.useContext)(r)},537618:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(667294),r=n(872419),s=n(320288);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,r.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,s.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,s.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},310387:function(e,t,n){n.d(t,{Z:()=>_});var i=n("667294"),r=n("581722"),s=n("674320"),a=n("798953"),o=n("694623");let l=(e,t,n,i)=>(r,s)=>l=>{if(r&&r.id){let u=o.Z.create(e,{placed_experience_id:r.id,extra_context:{}});switch(t){case"dismissed":u.callDelete().then(()=>{l((0,a.fO)()),n&&i&&n({event_type:i,object_id_str:r.id.toString()})});break;case"completed":u.callUpdate().then(()=>{s||l((0,a.fO)()),n&&i&&n({event_type:i,object_id_str:r.id.toString()})});break;case"viewed":u.callUpdate().then(()=>{n&&i&&n({event_type:i,object_id_str:r.id.toString()})})}}},u=e=>l("UserExperienceCompletedResource","completed",e,6567),c=l("UserExperienceResource","dismissed"),d=e=>l("UserExperienceViewedResource","viewed",e,4503);var p=n("785893");function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:r,preventRemoval:s,targeting:a}=this.props,o=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:l}=i||{},u=s||2===o;(1===o||u)&&e&&l&&(r?n(i,u):a?t(e,l,u,a):t(e,l,u),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:r,targeting:s}=this.props,{placement_id:a,experience_id:o}=n||{};n&&!this.state.hasDismissed.includes(o)&&(i?t(n):s?e(a,o,!!r,s):e(a,o,!!r),this.setState(e=>({hasDismissed:[...e.hasDismissed,o]})))}),h(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:n,predicate:i}=this.props,{experience_id:r,type:s}=e;return t&&t.length?t.includes(r):n&&n.length?n.includes(s):!i||i(e)})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function _(e){let t=(0,r.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=(0,r.I0)(),i=(0,a.be)(),o=(0,a.Am)(),l=(0,a.Ig)(),h=(0,s.Z)();return(0,p.jsx)(m,{...e,completeExperience:(e,t,r,s)=>n(i(e,t,r,!1,{},s)),completeExperienceObject:(e,t)=>n(u(h)(e,t)),dismissExperience:(e,t,i,r)=>n(o(e,t,i,void 0,r)),dismissExperienceObject:e=>n(c(e)),experience:t,viewExperience:(e,t,i)=>n(l(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n(d(h)(e))})}h(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},798953:function(e,t,n){let i;n.d(t,{Am:function(){return g},Ig:function(){return f},N:function(){return w},NW:function(){return h},Sd:function(){return v},YX:function(){return E},be:function(){return b},fO:function(){return p},kd:function(){return y},pz:function(){return m}});var r=n(667294),s=n(694623),a=n(674320),o=n(462972),l=n(689965),u=n(193733),c=n(320288);let d=(e,t,n={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:n}),p=(e,t)=>n=>s.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?n((0,l.OD)(e.resource_response.data)):void 0),h=e=>t=>s.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t((0,l.xF)(e.resource_response.data)):void 0),m=(e,t,n,r)=>(a,u)=>{if(t)return Promise.resolve();if(r&&(i=r),1===e.length){let t=e[0],i=u().experiences[t];if(JSON.stringify(i?.extraContext||null)===JSON.stringify(n)||(0,o.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return s.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:r}).callGet().then(e=>e.resource_response?a((0,l.cL)(e.resource_response.data)):void 0)},_=(e,t,n,r)=>(a,o,u,c=!1,d,h)=>(m,_)=>{let{experiences:f,experiencesMulti:b}=_(),g=null,v=!0;if(c||(g=(v=!!f[a]&&f[a].experience_id===o)?f[a]:Array.isArray(b[a])&&b[a]?.find(e=>e.experience_id===o)),g&&g.experience_id===o||c&&a&&o){let c=s.Z.create(e,{placed_experience_id:`${a}%3A${o}`,extra_context:d??{},targeting:h}),_=v?l.Yb:l.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{m(_(a,o,t)),m(p(void 0,i)),n&&r&&n({event_type:r,object_id_str:o.toString()})});case"completed":return c.callUpdate().then(()=>{!u&&(m(_(a,o,t)),m(p(void 0,i)),n&&r&&n({event_type:r,object_id_str:o.toString()}))});case"viewed":return m(_(a,o,t)),c.callUpdate().then(()=>{1000162===a&&m(p()),n&&r&&n({event_type:r,object_id_str:o.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{u||m(_(a,o,t)),n&&r&&n({event_type:r,object_id_str:o.toString()})})}}return Promise.resolve()},f=()=>{let e=(0,a.Z)();return(0,r.useCallback)(_("UserExperienceViewedResource","viewed",e,4503),[e])},b=()=>{let e=(0,a.Z)();return(0,r.useCallback)(_("UserExperienceCompletedResource","completed",e,6567),[e])},g=()=>{let e=(0,a.Z)();return(0,r.useCallback)(_("UserExperienceResource","dismissed",e,6568),[e])},v=()=>{let e=(0,a.Z)();return(0,r.useCallback)(_("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},y=(e,t)=>(n,i)=>{let{experiences:r}=i(),s=r[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach(n=>{let[,i]=n.split(":"),r=t;s.metadata&&s.metadata[i]&&(r={...t,...s.metadata[i]}),(0,u.Z)({url:`/v3/experiences/${n.replace(":","%3A")}/trigger/`,method:"PUT",data:r?{extra_context:JSON.stringify(r,null,1)}:{}}).then(()=>{d("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},E=e=>(t,n)=>{t(y(e));let{experiences:i}=n();return i[e]},w=(e,t,n)=>r=>{n&&(i=n),r(y(e,t)),t&&Object.keys(t).length>0&&r(m([e],!1,t,n))}},462972:function(e,t,n){n.d(t,{A0:function(){return u},E3:function(){return o},MQ:function(){return l},wQ:function(){return c}});var i=n(667294),r=n(883119),s=n(668796),a=n(785893);function o(e){return!!e&&0!==e.type}let l=(e,t,n)=>{let i=e[n];return t[n]&&o(i)?i:null};function u(e){return e.display_data?.anchor}let c=e=>{let t=new DOMParser().parseFromString(e,"text/html"),n=[...t.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(e.textContent?.split("\n")||[]).map((e,t)=>(0,a.jsxs)(i.Fragment,{children:[t>0&&(0,a.jsx)("br",{}),(0,a.jsx)(r.xv,{inline:!0,children:e})]},t));{let t=e.href||"",n=(0,s.Z)({url:t});return(0,a.jsx)(r.rU,{display:"inline",externalLinkIcon:n?"default":"none",href:t,rel:n?"nofollow":"none",target:"blank",children:e.textContent},t)}});return(0,a.jsx)(r.xv,{inline:!0,children:n})}},336083:function(e,t,n){n.d(t,{$S:function(){return i},V$:function(){return r},_4:function(){return a},iY:function(){return o},mR:function(){return s}});let i="REFRESH_ALL_EXPERIENCES_MULTI",r="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",o="UPDATE_EXPERIENCE"},689965:function(e,t,n){n.d(t,{OD:function(){return o},Yb:function(){return a},cL:function(){return l},xF:function(){return r},xW:function(){return s}});var i=n(336083);let r=e=>({type:i.$S,payload:{experiencesMulti:e}}),s=(e,t,n)=>({type:i.V$,payload:{placementId:e,experienceId:t,status:n}}),a=(e,t,n)=>({type:i.iY,payload:{placementId:e,experienceId:t,status:n}}),o=e=>({type:i._4,payload:{experiences:e}}),l=e=>({type:i.mR,payload:{experiences:e}})},506542:function(e,t,n){n.d(t,{Z:()=>l});var i=n("883119"),r=n("667294"),s=n("785893");let a=(e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)});function o({anchor:e,children:t,zIndex:n,leftOverride:o,topOverride:l}){let u=(0,r.useRef)(null),[c,d]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),{height:m,width:_}=e.getBoundingClientRect();return(0,r.useEffect)(()=>{let{current:t}=u;if(e&&t){let{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:r}=a(m,_,e,n);d(i),h(r)}}),(0,s.jsx)(i.xu,{ref:u,dangerouslySetInlineStyle:{__style:{left:o||c,top:l||p}},"data-test-id":"center-box",position:"absolute",zIndex:n?new i.Ry(n):void 0,children:t})}let l=function(e){let{anchor:t,leftOverride:n,onTouch:r,onMouseEnter:a,paused:l,size:u,topOverride:c,zIndex:d}=e;return t?(0,s.jsx)(o,{anchor:t,leftOverride:n,topOverride:c,zIndex:d,children:(0,s.jsx)(i.iP,{fullWidth:!1,onMouseEnter:a,onTap:({event:e})=>r(e),rounding:"circle",children:(0,s.jsx)(i.o3,{paused:l,size:u})})}):null}},924967:function(e,t,n){n.d(t,{A:function(){return o},Z:function(){return l}});var i=n(572934),r=n(561162),s=n(3879),a=n(55077);let o=({isEligible:e=!0,skipActivation:t,skipVerticalNavCheck:n})=>{let o=(0,a.ZP)(),{isAuthenticated:l}=(0,s.B)(),u=(0,r.F)(),{enabled:c}=(0,i.Z)();return"desktop"===o&&e?c&&!n?{anyEnabled:!0,group:"enabled_221_16"}:u.checkExperiment(l?"web_fluid_grid_desktop_auth":"web_fluid_grid_desktop_unauth",{dangerouslySkipActivation:t||!1}):{group:"",anyEnabled:!1}};function l(e=!0){let{group:t,anyEnabled:n}=o({isEligible:e}),i=t.match(/enabled_([\d]+)_([\d]+)/),r=i?parseInt(i[1],10):void 0,s=i?parseInt(i[2],10):void 0,a=s?Math.floor(s/4):void 0;return{anyEnabled:n,group:t,experimentalColumnWidth:r,experimentalGutter:s,experimentalGutterBoints:a}}},322494:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(561162),r=n(3879),s=n(554281);function a(e){let{isAuthenticated:t}=(0,r.B)(),{expName:n,anyEnabled:a,group:o}=function({experimentsClient:e,handlerId:t,isAuthenticated:n,skipActivation:i}){let{checkExperiment:r}=e,s=r(n?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:i});return s.group?{expName:n?"web_masonry_v2_auth":"web_masonry_v2_unauth",...s}:"www/[username]/[slug].js"!==t||n?"www/pin/[id].js"!==t||n?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...r("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:i})}:{expName:"web_masonry_v2_unauth_board",...r("web_masonry_v2_unauth_board",{dangerouslySkipActivation:i})}}({experimentsClient:(0,i.F)(),handlerId:(0,s.MM)(),isAuthenticated:t,skipActivation:e?.skipActivation??!1});return{expName:n,anyEnabled:a,group:o,isMeasureAllEnabled:"enabled_measure_all"===o||"enabled_measure_all_impression_fix"===o,isImpressionFixEnabled:"control_impression_fix"===o||"enabled_impression_fix"===o||"enabled_measure_all_impression_fix"===o}}},272083:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(471320),r=n(3879),s=n(785893);let a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:o,formatStyle:l,uplimit:u,value:c})=>{let d=(0,i.Z)();return(0,s.jsx)(r.LC,{children:i=>d(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:o,style:l,uplimit:u})})}},471320:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(708130),r=n(537225);let s=(e,t)=>{let n=t||0,i=10**n,r=+(n?e*i:e).toFixed(8),s=Math.floor(r),a=r-s,o=a>.49999999&&a<.50000001?s%2==0?s:s+1:Math.round(r);return n?o/i:o},a=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{let r={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...r,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:r},o=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},l=(e,t)=>{if(t){let{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function u(){let e=(0,i.ZP)();return(t,n,i)=>{let u=0,c=0,d=i&&i.style||void 0,p=i&&i.shortform||!1,h=i&&i.uplimit||void 0,m=i&&i.currency||void 0,_=!!h&&n>=h,f=h&&_?h:n;if("currency"===d){let{minimumFractionDigits:e,maximumFractionDigits:n}=l(t,m);u=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else u=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&f>999&&(u=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),u<c)return String(f);let b=f,g="",v=[{"100M":{value:1e8,localeKey:e._('å„„', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('ä¸‡', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],y=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],E=/^zh|ja|ko/.test(t);if(p&&f>999){let e=E?v:y;for(let t=0;t<e.length;t+=1){let n=Object.keys(e[t])[0],i=e[t][n].value;if(f>=i){b=s(f/i*Math.pow(10,u))/Math.pow(10,u),g=e[t][n].localeKey;break}}}if(null==b)return"";let w=b.toLocaleString([o(t)&&"ar-SA"!==t?t:"en-US"],a({maximumFractionDigits:u,minimumFractionDigits:c,currency:m,style:d}));return g&&g.length>0?(0,r.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:g})+(_?"+":""):w+(_?"+":"")}}},23534:function(e,t,n){n.d(t,{F:function(){return b},Z:function(){return f}});var i=n(667294),r=n(955254),s=n(11602),a=n(219300),o=n(322494),l=n(24461),u=n(3879),c=n(55077),d=n(68938),p=n(458410),h=n(320288),m=n(554281);let _={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function f({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:f,contextLogData:b,clientTrackingParams:g,duploShouldTrackPinEvents:v,elementType:y,impressionAuxFields:E,inImpressionExp:w,impressionType:T,impressionsFramework:I,isPaused:S,loggingId:P,objectIdStr:O,slotIndex:x,trackCarousel:A,viewData:R,viewParameter:C,viewType:L,isPromoted:N,storyPinProductEventData:D}){let{logContextEvent:k}=(0,a.v)(),{logMrcVideoAdEventOnPlay:U}=(0,d.r)(),{userAgent:{browserName:j}}=(0,u.B)(),{logStat:M}=(0,p.Yg)(),F=I||l.Z,Z=(0,i.useRef)(null),H=i=>{let a=_[T],o=a.idType,l={clientTrackingParams:g,endTime:i.endTime,[o]:P,slotIndex:x,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...E,forcedExit:"removed"===i.forcedExit?0:void 0};if("Pin"===T){let e=[],t=i.visibleEvents||new Map,n=i.hiddenEvents||new Map;if([1,50,80,2].forEach(i=>{t.has(i)&&e.push({type:i,time:1e6*(t.get(i)||0),visible:!0}),n.has(i)&&e.push({type:i,time:1e6*(n.get(i)||0),visible:!1})}),l={...l,pinCellWidth:i.pinCellWidth||0,pinCellHeight:i.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},(0,s.i7)(j)&&E&&E.isPromoted){let{attributionSourceId:e,isPromoted:t,link:n,campaignId:i,araAuxData:s,advertiserId:a,domain:o,adDestinationUrl:l}=E;(0,r.YS)(T,t??null,e??null,n??null,i??null,s??null,a??null,o??null,l??null)}}let u={component:f,object_id_str:O,view_type:L,view_data:R||{},view_parameter:C};if(A)e&&A&&k({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...l,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...u,aux_data:{...b}});else{let e={clientTrackingParams:g,event_type:a.eventType,...u,element:y,event_data:{[a.impressionType]:"Story"===T?l:[l],...D?{storyPinProductEventData:D}:{}},aux_data:{closeup_navigation_type:n,...b}};k(e),U(e)}v&&M("log_pin_impression")},{expName:B,group:V}=(0,o.Z)({skipActivation:!0}),G=(0,c.ZP)(),W=(0,m.MM)(),{isAuthenticated:z}=(0,u.B)(),Y=(0,i.useCallback)(()=>{let e=!1;try{let{current:t}=Z;if(t instanceof HTMLElement&&(!N||t.getElementsByTagName("img").length>0)){let n=F.start(t);n.onExitViewport(H).setDebugId(P||"unknown"),v&&n.onEnterViewport(()=>{M("log_pin_impression_track_enter_viewport")}),e=!0,V&&(0,h.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:G,experimentName:B,group:V,handlerId:W,isAuthenticated:z,slotIndex:x??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}v&&M("log_pin_impression_track",{didStartTracking:e})},[Z.current]);return(0,i.useEffect)(()=>(w&&!F.inExperiment&&F.setExperimentStatus(!0),S||Y(),()=>{let{current:e}=Z;e instanceof HTMLElement&&(!N||e.getElementsByTagName("img").length>0)&&F.stop(e)}),[S,Y]),Z}let b=({children:e,...t})=>e({impressionTrackerRef:f(t)})},744207:function(e,t,n){function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>d,LU:()=>p,ZP:()=>h});let r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},o={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:o,[s.stopped]:o,[s.paused]:o,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class u{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,n=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,n),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,n):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,n),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,n):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,n),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,n),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,n),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,n),t&&!this.inViewport?(this.startTime=n,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(s.enter,{startTime:n,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map,this.pinCellWidth=0,this.pinCellHeight=0}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(r)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case s.flushed:case s.paused:case s.exit:a[this.debugId]=!0}}}function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=!0,p=!1;class h{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new u(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=d){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=d){(e!==p||this.pausePriority!==d)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:n}=t.getBoundingClientRect();return n>e?n:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:n}=t.getBoundingClientRect();return n<e?n:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let n={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},24461:function(e,t,n){n.d(t,{Z:function(){return i}});let i=new(n(744207)).ZP},967629:function(e,t,n){n.d(t,{Wc:function(){return u},XB:function(){return l},bF:function(){return d},nk:function(){return o},r7:function(){return p}});var i=n(667294),r=n(785893);function s(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}let a=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return s(e,t,a)}function l({text:e,markers:t,jsxReplacements:n}){let i=["strong","a","em","span"],r=/(\{\{\s*\w+\s*\}\})/g,a=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,o=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,l=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,u=e.match(a)?.map(e=>{let i=e.match(o),a=(i&&i[2])??0,u=e.match(l),c=(u&&u[2])??"",d=t?s(c,t,r):[c];return a&&n&&n[a]?.({innerHtmlStrings:d})});return e.split(a)?.map(e=>i.some(t=>e===t)?u?.shift():t?s(e,t,r):e)}function u(e,t){return s(e,t,a).join("")}let c=/(\{\s*\w+\s*\})/g;function d(e,t){return s(e,t,c)}let p=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t)):e},290241:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(667294);function r(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),r(this,"ref",(0,i.createRef)()),r(this,"observer",null),r(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=s},519735:function(e,t,n){n.d(t,{Rq:function(){return s},Vf:function(){return a},jd:function(){return o},oy:function(){return l},yR:function(){return d}});var i=n(53747),r=n(821098);let s=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,o=e=>window.innerHeight>=748&&s(e),l=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700),u=()=>{i.t8(r.oj,String(!0),(0,i.kZ)(r.oj))},c=()=>!!i.U2(r.oj),d=()=>{let e=l();e!==c()&&(e?u():i.zN(r.oj.name),"undefined"!=typeof window&&window.location.reload())}},711961:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(667294),r=n(883119),s=n(876594),a=n(4913),o=n(24461),l=n(93741),u=n(785893);function c({children:e,footerConfig:t,headerConfig:n,height:c,hideOnScroll:d,hideOnScrollState:{isHidden:p,updateHiddenState:h},noPadding:m,paddingY:_=l.og,type:f,zIndex:b}){let g,v;let{headerLimitedOverflow:y,ignoreObstructions:E,zIndexForGestaltBug:w}=n||{},{appUpsellFooterConfig:T,footerInLego:I,navFooterConfig:S}=t||{},P=!!T,O="header"===f?"top":"bottom",x=(0,a.vs)(),A=(0,i.useRef)(null),R=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!E){let e=A.current;R.current=y&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&o.Z.addObstruction(O,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!E&&R.current instanceof HTMLElement&&o.Z.removeObstruction(O,R.current)}},[E,y,O,x]);let C="top"===O?"relative":"fixed",L=(c??l.R$)+(n?.overrideTop||0),N=d||S?{transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===O?-L:L}px)`,opacity:I?0:1}:Object.freeze({})}:{},D="relative"!==C||n?.noGutter?0:2,k=D?-D:0;x&&("header"===f?g=-1:v=-1);let U=n?.isTransparentBackground&&s.o7L||n?.isTranslucent&&(x?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||s.k95;return(0,u.jsx)(r.xu,{ref:A,bottom:"footer"===f,dangerouslySetInlineStyle:{__style:{top:g,bottomStyle:v,...!b||w?{zIndex:w||1}:Object.freeze({}),...y?{background:"transparent",overflow:"hidden",paddingBottom:l.UB,marginBottom:-l.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:l.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},"data-test-id":f,display:P?"flex":void 0,height:c&&!I?c:void 0,left:!0,marginEnd:I?"auto":k,marginStart:I?"auto":k,onTransitionEnd:()=>{(d||S)&&R.current&&(p?o.Z.removeObstruction(O,R.current):o.Z.addObstruction(O,R.current))},position:C,right:!0,top:"header"===f,width:I||"fixed"!==C?void 0:"100%",zIndex:w?void 0:b,children:(0,u.jsx)(r.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:U,height:I?P?void 0:c??l.R$:"100%",boxShadow:I?l.KJ:void 0,marginBottom:I&&!S?.docked?16:void 0,...y?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:I||t?.alignCenter?"flex":void 0,marginEnd:I?"auto":void 0,marginStart:I?"auto":void 0,paddingX:("footer"!==f||m?0:4)+D,paddingY:m?0:_,position:"relative",rounding:I&&!S?.docked?"pill":void 0,width:S?S.footerWidth:P?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:h}):e})})}},123035:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=n(883119),r=n(93741),s=n(711961),a=n(443293),o=n(785893);function l({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:l,isTransparentBackground:u,noGutter:c,overrideTop:d,useRoundedCorners:p,zIndexForGestaltBug:h,...m}){let{noPadding:_,paddingY:f=r.og,zIndex:b}=m;return(0,o.jsx)(i.Le,{height:t?r.LV+8*(_?0:f):void 0,top:d||0,zIndex:b||void 0,children:(0,o.jsx)(a.Z,{hideOnScroll:m.hideOnScroll,children:i=>(0,o.jsx)(s.Z,{...m,headerConfig:{isTranslucent:l,isTransparentBackground:u,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:c,overrideTop:d,zIndexForGestaltBug:h,useRoundedCorners:p},hideOnScrollState:i,type:"header"})})})}},443293:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(667294),r=n(45389);function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),s(this,"lastScrollPos",0),s(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),s(this,"handleScroll",(0,r.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,r=i-this.lastScrollPos,s="none",{scrollHeight:a,clientHeight:o}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(o)||(s=r<0?i<=Math.abs((window.scrollMinY||0)+Math.max(r,20))?"start":"none":i>=(window.scrollMaxY||a-o)-Math.max(r,20)?"end":"none");let l=t?.isModal?0:55;e?r>20&&n&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20&&!n||i<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===s&&!n||i<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>l||"end"===s)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20||"start"===s)&&n||i<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(r>20||"end"===s)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},264606:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var i=n(883119),r=n(112393),s=n(519735),a=n(845966),o=n(3879),l=n(785893);let u=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:u=!0,height:c,showKeychainError:d=!1,useViewport:p=!1})=>{let h=(0,o.B)(),m=(0,s.jd)(h.userAgent.platform)?s.Vf:0;return(0,l.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${m}px)`:c,paddingX:u?r.D6:void 0,paddingY:n||d?void 0:3,children:(0,l.jsx)(a.C,{value:!!u,children:e})})}},93741:function(e,t,n){n.d(t,{KJ:function(){return o},LV:function(){return a},R$:function(){return i},UB:function(){return s},dS:function(){return l},og:function(){return r}});let i=64,r=3,s=100,a=44,o="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},845966:function(e,t,n){n.d(t,{C:function(){return s},V:function(){return a}});var i=n(667294);let r=(0,i.createContext)(!1),s=r.Provider,a=()=>(0,i.useContext)(r)},551304:function(e,t,n){n.d(t,{Y8:()=>T,Y_:()=>O,lY:()=>y,N6:()=>x,Ur:()=>w,dK:()=>E,h3:()=>eN,PY:()=>k,re:()=>B,RU:()=>eI,Ui:()=>h,KY:()=>m,fY:()=>ef,uM:()=>ep,x7:()=>eb,X$:()=>q,j8:()=>ed,Q0:()=>et,tZ:()=>en,YW:()=>eO,QD:()=>C,or:()=>D,z6:()=>R,dm:()=>A,Ni:()=>v,H_:()=>N,OJ:()=>o,LO:()=>eA,Gl:()=>ew,oF:()=>eE,bW:()=>f,Lj:()=>L,AX:()=>d,ey:()=>em,dt:()=>g,bo:()=>el,Fy:()=>c,Q8:()=>P,Bg:()=>S,mW:()=>I,pV:()=>K,Fr:()=>eh,Xn:()=>Z,l4:()=>X,b_:()=>ey,dZ:()=>l,Tw:()=>e_,FO:()=>V,L6:()=>$,bb:()=>eL,b0:()=>_,jC:()=>ec,rk:()=>eR,XU:()=>eg,wg:()=>b,dW:()=>eC,En:()=>Q,ej:()=>ex,OX:()=>er,f1:()=>ei,E0:()=>eo,gf:()=>G,nU:()=>eD,mY:()=>eP,cY:()=>ev,$Y:()=>ea,Zz:()=>H,$V:()=>es,J:()=>a,O7:()=>eT,LM:()=>eu,q_:()=>z,OK:()=>W,Ep:()=>Y,mP:()=>U,hd:()=>j,HV:()=>F,C$:()=>M,dr:()=>ee,mk:()=>eS,gT:()=>J,XE:()=>u,am:()=>s,pD:()=>p});var i=n("616550");let r=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv|shopping|videos|age-apeal|oauth)\/)[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+(?=\/|$)/),s=e=>r.test(e.pathname),a=(e,t)=>{let{pathname:n}=e;return s(e)&&n.match(t||"?")},o=e=>{let{pathname:t}=e;return!!(0,i.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},l=(e,t)=>{let{pathname:n}=e;return o(e)&&n.match(t||"?")},u=e=>!!(0,i.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),c=e=>!!(0,i.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),d=e=>!!(0,i.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),p=e=>!!(0,i.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),h=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),m=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),_=e=>!!(0,i.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),f=e=>!!(0,i.LX)(e.pathname,{path:"/appealed-pin/",exact:!0}),b=e=>!!(0,i.LX)(e.pathname,{path:"/reports-and-violations/",exact:!0}),g=e=>e.pathname.startsWith("/age-appeal"),v=e=>e.pathname.startsWith("/business/"),y=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:userBizId/dashboard",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/dashboard",exact:!0}),E=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/hierarchy",exact:!0}),w=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/dashboard",exact:!0}),T=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:userBizId/asset-groups",exact:!0}),I=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:userBizId/catalogs",exact:!0}),S=e=>!!(0,i.LX)(e.pathname,{path:"/business/catalogs/:userBizId/",exact:!1}),P=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:userBizId/shared-tags",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:userBizId/shared-tags",exact:!0}),O=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:userBizId/brand-safety",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:userBizId/brand-safety",exact:!0}),x=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/business_security",exact:!0}),A=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/managers",exact:!0}),R=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/"})||!!(0,i.LX)(e.pathname,{path:"/business/business-access/:businessId/"})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:businessId/"})||!!(0,i.LX)(e.pathname,"/business/business-manager"),C=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:businessId/invoice-management",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:businessId/invoice-management",exact:!0}),L=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:businessId/audiences",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:businessId/audiences",exact:!0}),N=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-access/:businessId/security",exact:!0})||!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:businessId/security",exact:!0}),D=e=>!!(0,i.LX)(e.pathname,{path:"/business/business-manager/:businessId/ad-accounts/cee-migration",exact:!0}),k=e=>e.pathname.startsWith("/business/invite/"),U=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),j=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id/visual-search/products/",exact:!0}),M=e=>"/"===e.pathname,F=e=>"/"===e.pathname||"/homefeed/"===e.pathname,Z=e=>e.pathname.startsWith("/login"),H=e=>!!(0,i.LX)(e.pathname,{path:"/today",exact:!0}),B=e=>e.pathname.startsWith("/password/reset")||!!(0,i.LX)(e.pathname,{path:"/pw/:username",exact:!0}),V=e=>e.pathname.startsWith("/secure/panic"),G=e=>e.pathname.startsWith("/signup"),W=e=>e.pathname.startsWith("/email/subscription"),z=e=>e.pathname.startsWith("/email/user_survey"),Y=e=>e.pathname.startsWith("/email_verification_error"),X=e=>e.pathname.startsWith("/notifications/"),$=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id",exact:!0}),K=e=>e.pathname.startsWith("/pin_redirect"),Q=e=>e.pathname.startsWith("/search"),q=e=>e.pathname.startsWith("/search/pins"),J=e=>!!(0,i.LX)(e.pathname,{path:"/ideas",exact:!0}),ee=e=>!!(0,i.LX)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),et=e=>!!(0,i.LX)(e.pathname,{path:"/videos/:category/:id",exact:!0}),en=e=>!!(0,i.LX)(e.pathname,{path:"/videos/",exact:!0}),ei=e=>!!(0,i.LX)(e.pathname,{path:"/shopping/",exact:!0}),er=e=>!!(0,i.LX)(e.pathname,{path:"/shopping/:category/:id",exact:!0}),es=e=>e.pathname.startsWith("/topics"),ea=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),eo=e=>e.pathname.startsWith("/today/shop/"),el=e=>H(e)||ea(e)||e.pathname.startsWith("/today/popular/"),eu=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),ec=e=>e.pathname.startsWith("/pin/create/"),ed=e=>e.pathname.startsWith("/unauth-profile"),ep=e=>e.pathname.startsWith("/pin/"),eh=e=>"#imgViewer"===e.hash,em=e=>/invite_code/.test(e.search),e_=e=>/utm_pai/.test(e.search),ef=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),eb=e=>e.pathname.includes("/repin/x"),eg=e=>!!(0,i.LX)(e.pathname,{path:"/pin/:id/repin"})&&!eb(e),ev=e=>e.pathname.startsWith("/_/storyboard"),ey=e=>e.pathname.startsWith("/oauth"),eE=e=>e.pathname.startsWith("/app-factory-oauth"),ew=e=>e.pathname.startsWith("/business/convert"),eT=e=>e.pathname.startsWith("/pin-editor"),eI=e=>e.pathname.startsWith("/pin-builder"),eS=e=>e.pathname.startsWith("/idea-ads-tool"),eP=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")||e.pathname.startsWith("/pin-creation-tool")||eS(e),eO=e=>e.pathname.startsWith("/advertiser/quick-promote"),ex=e=>e.pathname.startsWith("/settings"),eA=e=>void 0!==e.pathname&&(e.pathname.startsWith("/business/business-access/")||e.pathname.startsWith("/business/business-manager/"))&&e.pathname.includes("/dashboard/"),eR=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),eC=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),eL=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/"),eN=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/hub"),eD=e=>void 0!==e.pathname&&e.pathname.startsWith("/signup/sso-business-account/")},197917:function(e,t,n){n.d(t,{Z:()=>s});var i=n("616550");let r=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/flyup-instant-loading-indicator-app-shell.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/inbox","/install-shuffles","/invited","/jobs","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/quick-lite-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-data","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/verified","/verify","/videos","/web-custom-svg","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function s(e){return!!(0,i.LX)(e.pathname,{path:"/:username/",exact:!0})&&!r.includes(e.pathname.replace(/\/$/,""))}},48100:function(e,t,n){n.d(t,{Q6:function(){return d},ZP:function(){return l},le:function(){return p},qe:function(){return u},yU:function(){return c}});var i=n(103650),r=n(227148);let s=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),a=e=>e;function o(e,t=s,n=a){return function(i){let r=[];return function(...s){let a=r.find(e=>t(e.args,n(s)));if(a)return a.result;let o=i(...s);return r.push({args:n(s),result:o}),e&&r.length>e&&r.shift(),o}}}let l=o(),u=o(1),c=o(void 0,s,e=>[JSON.stringify(e)]),d=o(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,r.Z)(e,t[n]))),p=o(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,i.ZP)(e,t[n])))},651068:function(e,t,n){n.d(t,{Z:function(){return function e(t,n,i=()=>void 0){let r=i(t,n);return void 0!==r?r:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce((t,r,s)=>(t[s]=e(t[s],n[s],i),t),[...t]):t&&"object"==typeof t&&n&&"object"==typeof n?Object.keys(n).reduce((t,r)=>(t[r]=e(t[r],n[r],i),t),{...t}):n}}})},221622:function(e,t,n){function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return a}});let r=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},s=e=>{if(e.isHidden){let{reason:t}=e;r.windowInFocus=!1,r.onPauseListeners.forEach(e=>e(t))}else r.windowInFocus=!0,r.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>s({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>s({isHidden:!1})),window.addEventListener("blur",()=>s({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>s({isHidden:!1})),window.addEventListener("pagehide",()=>s({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=r},657156:function(e,t,n){n.d(t,{Z:()=>l});var i=n("333832"),r=n("667294"),s=n("235518"),a=n("927998"),o=n("117576");function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:u=!1,includeVideos:c=!1,includeSections:d=!1,isPlaceholderGrid:p}){return o.Z()?.isAuthenticated||(d=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:u,includeVideos:c,includeSections:d,isPlaceholderGrid:p}),!function(e){let t=(0,a.E)(),n=(0,r.useRef)(null);(0,r.useEffect)(()=>{e!==n.current&&(n.current=e,t&&(0,s.ZP)(s.at))},[!!t,e])}(l),e}},333832:function(e,t,n){n.d(t,{Z:function(){return g},v:function(){return h}});var i=n(667294),r=n(497e3),s=n(411914),a=n(730679),o=n(602096),l=n(235518),u=n(927998),c=n(101585),d=n(403555);let p=(0,s.XV)("GridProfiler"),h=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,a.VZ)(),m=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,_=(e,t)=>{if(!t){let t=(0,a.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,a.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},f=(e,t)=>{let n=0,i=0,r=0,s=0,a=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,o)=>{let l;let u=t.fileName.split(".")[0];l=e[o],u!==l?.image_signature&&(l=e.find(e=>u===e?.image_signature)),void 0===l?a+=1:l.is_promoted||l.recommendation_reason?.reason==="PROMOTED_PIN"||l?.promoter?.length?r+=1:null!==l.story_pin_data_id&&void 0!==l.story_pin_data_id?n+=1:l?.videos?.video_list?i+=1:s+=1}),{storyPinCount:n,videoCount:i,adCount:r,imageCount:s,unknownCount:a}},b=(e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function g({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:h=!1,includeSections:g,isPlaceholderGrid:v}){let y=(0,u.E)(),E=y?.getId(),w=y?.setVisuallyCompleteResult,[T,I]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{w?I({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):I({status:"DISABLED"})},[E,w]),(0,i.useEffect)(()=>{if("DISABLED"!==T.status&&(0,l.ZP)(`GridVisuallyCompleteProfiler_${T.status}`),p("new status",T),"LAYOUT"===T.status){let e=b("scroll",()=>{(0,l.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[T.status]),(0,d.Z)(()=>{if(!y||!w)return;let{abort:i,getMetricId:l}=y,u=l(),d=(0,a.cQ)(n,h,g);if(v&&!d.length){p("bypassing PWT run due to skeleton pin grid");return}switch(T.status){case"LAYOUT":{let t=_(T.numOfItemsChecked,e);t.complete?I({status:"TIMING",failedCount:0,pinElements:d}):500*T.failedCount>6e4?((0,o.A9)(`images.${(0,r.KJ)(u)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),I({status:"DISABLED"})):I({...T,failedCount:T.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),n=T.pinElements.length,a=[],l=0,d=0,h=0;if(T.pinElements.forEach(({element:t,fileName:n})=>{let i=e.find(e=>e.name.endsWith(n));i?i.responseEnd?(a.push(i),(0,s.v5)(t,"green")):(h+=1,(0,s.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(d+=1,(0,s.v5)(t,"red")):(l+=1,(0,s.v5)(t,"greenyellow"))}),l||h)100*T.failedCount>6e4?((0,o.A9)(`images.${(0,r.KJ)(u)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:l,noTimingCount:d,noTimingResponseEndCount:h}}),i("visuallyComplete_timingTimeout"),I({status:"DISABLED"})):I({...T,failedCount:T.failedCount+1});else{if(p(`All ${a.length} images are fetched`),t&&t.length){let e=f(t,T.pinElements);Object.entries(e).forEach(([e,t])=>{y.addBinaryAnnotation(e,t,"I16")}),(0,o.A9)(`${(0,r.KJ)(u)}.pinTypes`,{tags:e})}w({imageTimings:a}),I({status:"DISABLED"}),(0,o.A9)(`images.${(0,r.KJ)(u)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:d}})}}}},m(T))}},664683:function(e,t,n){n.d(t,{l:function(){return s},r:function(){return a}});var i=n(667294);let r=(0,i.createContext)(null),s=()=>(0,i.useContext)(r),a=r.Provider},283136:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(614269),r=n(664683);let s=()=>{let e=(0,i.g)(),t=(0,r.l)();return n=>{let{mobileOptions:i,desktopOptions:r,reason:s,attributionLabel:a,pinId:o}=n;e?e.showDesktopSignupModal({signupFlow:r?.modalType==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:a,...r?.modalOptions}):t&&t.showMobileSignupModal({reason:s,attributionLabel:a,headingType:i?.headingType??"none",pinId:o})}}},744469:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(212407);let r=/\{\{\s*(\w+)\s*\}\}/g,s=(e,t)=>(0,i.Z)(r,e,t)},23797:function(e,t,n){n.d(t,{Z:function(){return i}});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},212407:function(e,t,n){n.d(t,{Z:function(){return i}});let i=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},537225:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(744469),r=n(23797);let s=(e,t)=>{let n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?(0,r.Z)(t[e].toString()):""}),(0,i.Z)(e,n)}},935415:function(e,t,n){n.d(t,{Z:()=>y});var i=n("667294"),r=n("883119"),s=n("48813"),a=n("170217"),o=n("290241"),l=n("561162"),u=n("3879"),c=n("227148"),d=n("741893");let{Provider:p,useMaybeHook:h}=(0,n("486188").Z)("timeSpentContext");var m=n("3366"),_=n("757892"),f=n("785893");function b(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),b(this,"componentWillUnmount",()=>{this.unregisterComponent()}),b(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:r,view:s,viewParameter:a}=this.props;return{view:s||r?.view,viewParameter:a||r?.viewParameter,component:t||r?.component,element:n,objectId:i||r?.objectId,clientTrackingParams:e||r?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),b(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),b(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),b(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),b(this,"getTimedPair",()=>this.state.timedPair),b(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),b(this,"isRegistered",!1),b(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),b(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),b(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:i,right:r,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===r&&0===s?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new d.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,c.Z)(e.auxData,this.props.auxData)&&(0,c.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverExpEnabled:t,intersectionObserverBoxHeight:n}=this.props;return t?(0,f.jsx)(p,{value:this.getContext(),children:(0,f.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:t=>(0,f.jsx)(r.xu,{ref:t,height:n??"100%",children:i.Children.only(e)})})}):(0,f.jsx)(p,{value:this.getContext(),children:(0,f.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i.Children.only(e)})})}}function v(e){let t=(0,a.Hv)(),n=h(),r=(0,m.Z)(),s=(0,_.H0)(),{requestIdentifier:o="",isAuthenticated:c}=(0,u.B)(),d={app_instance_id:o.slice(0,8),...e.auxData??{}},{checkExperiment:p}=(0,l.F)(),b=p(c?"web_intersection_observer_migration_auth":"web_intersection_observer_migration_unauth").anyEnabled;return(0,i.useEffect)(()=>{r?.setHistoryStackContext(t)},[t,r]),(0,i.useEffect)(()=>{r?.setPins(s??{})},[s,r]),r?(0,f.jsx)(g,{...e,auxData:d,intersectionObserverExpEnabled:b,timeSpentContext:n,timeSpentManager:r,children:e.children}):e.children}v.displayName="TimeSpent";let y=v},226978:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(667294),r=n(616550),s=n(551304),a=n(197917),o=n(202732);let l=e=>(0,s.L6)(e)?"pin":(0,s.am)(e)?"board":(0,s.Xn)(e)?"login":(0,s.C$)(e)?"home":(0,a.Z)(e)?"profile":(0,s.dr)(e)?"ideas":(0,s.gT)(e)?"ideas-root":(0,s.tZ)(e)?"videos":(0,s.Q0)(e)?"videos-category":(0,s.$Y)(e)?"article":(0,s.E0)(e)?"shopping-spotlight":(0,s.Zz)(e)?"today":(0,s.j8)(e)?"unauth-profile":(0,s.f1)(e)?"shopping-root":(0,s.OX)(e)?"shopping-category":"other";function u(){let e=(0,r.TH)();return(0,i.useCallback)(({action:t,item:n,within:i})=>{let r=l(e);(0,o.My)(`logged_out_product.interaction.${r}.${t}`,{item:n||"none",within:i||"none"})},[e])}},668796:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(271616);let r=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},150608:function(e,t,n){n.d(t,{Z:function(){return a},q:function(){return s}});var i=n(667294);let r=()=>{let[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1);return{active:e,focused:n,hovered:s,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){return e(r())}let a=r},403555:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(667294);let r=(e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}},68938:function(e,t,n){n.d(t,{W:function(){return c},r:function(){return u}});var i=n(667294),r=n(219300),s=n(486188),a=n(561162),o=n(785893);let{Provider:l,useHook:u}=(0,s.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:n}=(0,r.v)(),{checkExperiment:s}=(0,a.F)(),[u,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)([]),[h,m]=(0,i.useState)([]),[_,f]=(0,i.useState)({}),b=s("web_ads_mrc_video_impression").anyEnabled,g=e=>{f(t=>({...t,[e]:!0}))},v=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=(e.aux_data?.commerce_data||"").includes("story_pin_id");b&&(t||n)&&p(t=>[...t,e].slice(-1e3))}},[b]),y=(0,i.useCallback)(e=>{18===e.eventType&&b&&m(t=>[...t,e].slice(-1e3))},[b]),E=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},w=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,i.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!_[n]||!b||(t(E(e)),!1)});e.length!==d.length&&p(e)},[d,b,t,_]),(0,i.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&b){let t=w(e);return t&&n(t),!1}return!0});e.length!==h.length&&m(e)},[h,b,n,_]);let T=(0,i.useMemo)(()=>({captionsEnabled:u,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:c,setVideoPlayed:g,videosPlayed:_}),[u,v,y,_]);return(0,o.jsx)(l,{value:T,children:e})}},431710:function(e,t,n){n.d(t,{g:()=>p,I:()=>d});var i=n("667294"),r=n("486188"),s=n("221622"),a=n("643383");let o={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=o,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:r,currentTime:s}=n,{videosAutoplaying:o}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}=o,d=(0,a.Z)(u),p=(0,a.Z)(c);return!r&&l?e:(r?d[i]={pinId:i,currentTime:s,paused:!1}:p[i]={pinId:i,currentTime:s,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:r?l:i,promotedVideosAutoplaying:d,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:r,currentTime:s}=n,{videosAutoplaying:o}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:u}=o,c=(0,a.Z)(l),d=(0,a.Z)(u);return r?c[i]={...c[i],paused:!0,currentTime:s}:d[i]={...d[i],paused:!0,currentTime:s},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:d}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var u=n("785893");let{Provider:c,useHook:d}=(0,r.Z)("AppUI");function p({children:e}){let[t,n]=(0,i.useReducer)(l,o),r=(0,i.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,i.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),d=(0,i.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,i.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,i.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),m=(0,i.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),_=(0,i.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),f=(0,i.useMemo)(()=>({pauseAutoplay:r,setCurrentVideo:d,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:_,setAppFocusState:a,appUI:t}),[r,d,p,h,m,_,a,t]);return(0,i.useEffect)(()=>{s.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,u.jsx)(c,{value:f,children:e})}},76594:function(e,t,n){n.d(t,{$:function(){return r},B:function(){return i}});let{Provider:i,useHook:r}=(0,n(486188).Z)("SurfaceContext",{surface:"Unknown"})},34933:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(667294),r=n(883119),s=n(752570),a=n(785893);let o={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function l({children:e,forwardRef:t,position:n="static",shouldShowShadow:l=!1,top:u,style:c={}}){let{currentScrollPosition:d,isScrolled:p,setSubheaderShadow:h}=(0,s.W)();(0,i.useEffect)(()=>(l&&h("contentHeader"),()=>{l&&h(null)}),[l]);let m=!1;"pending"!==u&&(m=null!=u?d>=u:p);let _=(0,a.jsx)(r.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:n,...c,...m&&l&&{...o,zIndex:499}}},children:e});return"sticky"===n?(0,a.jsx)(r.Le,{top:0,children:_}):_}},421608:function(e,t,n){n.d(t,{Z:function(){return I}}),n(167912);var i,r=n(883119),s=n(674320),a=n(131548),o=n(708130),l=n(561162),u=n(283136),c=n(202732),d=n(226978),p=n(465683),h=n(55077),m=n(236256),_=n(959474),f=n(817105),b=n(580546),g=n(716996),v=n(909607),y=n(743854),E=n(785893);let w=({children:e,pulsar:t,testId:n})=>t.show?(0,E.jsx)(r.xu,{"data-test-id":n,position:"relative",children:(0,E.jsxs)(r.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,E.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,E.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,E.jsx)(r.o3,{})})]})}):(0,E.jsx)(r.xu,{"data-test-id":n,children:e}),T=void 0!==i?i:i=n(244914);function I({auxData:e,disabled:t,disableLog:n,followEventType:i,id:I,inline:S,invertColors:P,isFollowed:O,isIdeaPin:x,isLegoEnabled:A,isSecondaryButton:R,isUserFollowButton:C,isUserMe:L,onFollow:N,onUnfollow:D,pinKey:k,shouldUseLegoColors:U,showPulsar:j,size:M,textType:F="FollowFollowing",unfollowEventType:Z,viewParameter:H,viewType:B,clientTrackingParams:V}){let G;let W=(0,o.ZP)(),z=(0,h.HG)(),{showToast:Y}=(0,p.F9)(),X=(0,d.Z)(),$=(0,s.Z)(),K=(0,u.Z)(),{checkExperiment:Q}=(0,l.F)(),q=(0,b.Z)(),J=(0,_.Z)(),ee=J&&J.isAuth,{unauthFollowUserId:et,setUnauthFollowUserId:en}=(0,y.f)(),ei=(0,g.mN)()(I),er=ei&&{imageMediumUrl:ei.image_medium_url,username:ei.username},es=(0,a.Z)(T,k),ea=es?.linkDomain,eo=es?.nativeCreator,el=es?.originPinner,eu=es?.pinner;G=eo||(ea?ea.officialUser:el||eu);let ec=er??G;(0,m.Z)(()=>{!z&&ee&&et&&I&&et===I&&N(I)});let ed=q({fn:()=>{ee?O?(D(I),n||$({event_type:Z,view_type:B,view_parameter:H,object_id_str:I,aux_data:e,clientTrackingParams:V})):(N(I),C&&Y(({hideToast:e})=>{let t=ec?.username?`/${ec.username}/`:"";return(0,E.jsx)(v.Z,{handleHide:e,href:t,imageUrl:ec?.imageMediumUrl||"",text:(0,E.jsx)(r.xv,{lineClamp:4,children:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:I})}),n||$({event_type:i,view_type:B,view_parameter:H,object_id_str:I,aux_data:e,clientTrackingParams:V})):((0,c.NC)(O?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:O?"unfollow-button":"follow-button"}),K({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:x?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:z&&Q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!z&&Q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),z||en(I??""),(0,c.NC)("clickthrough"))},modalHeader:(0,f.N4)({i18n:W,toFollow:!O})}),ep=!O&&!!j,eh=()=>{if(L)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===F)return O?W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===F?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return O?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,E.jsx)(w,{pulsar:ep?{show:!0,onClick:ed}:{show:!1},testId:L||O?"board-unfollow-button":"board-follow-button",children:(0,E.jsx)(r.zx,{accessibilityLabel:eh(),color:U||"AddRemove"===F||!A&&R||P?"gray":"red",disabled:L||t,fullWidth:S,onClick:ep?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||$({event_type:101,component:13672,element:11951,object_id_str:I,view_type:B,view_parameter:H,aux_data:e,clientTrackingParams:V}),ed()},selected:O||!1,size:M,text:eh()})})}},391374:function(e,t,n){n.d(t,{L1:function(){return o},NW:function(){return c},OZ:function(){return d},Rz:function(){return p},WZ:function(){return l},cI:function(){return a},fe:function(){return u},hu:function(){return s},sp:function(){return h}});var i,r=n(883119);let s=64,a=80,o=22,l="HeaderContent",u=671,c=new r.Ry(u),d="NagHeaderContent",p={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"},h=((i={}).PINTEREST_LOGO="web.header.pinterest_logo.click",i.EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO="web.header.external_button_query.pinterest_logo.click",i.SSO_PAGE_PINTEREST_LOGO="web.header.sso_page.pinterest_logo.click",i.UNSUBSCRIBE_PAGE_PINTEREST_LOGO="web.header.unsubscribe_page.pinterest_logo.click",i.HOME_TAB="web.header.home_tab.click",i.TODAY_TAB="web.header.today.click",i.CREATE_TAB="web.header.create.click",i.HOME_BUTTON_COLLAPSED_TAB="web.header.home_button_collapsed_tab.click",i.TODAY_TAB_COLLAPSED_TAB="web.header.today_tab_collapsed_tab.click",i.CREATE_TAB_COLLAPSED_TAB="web.header.create_tab_collapsed_tab.click",i.NEWS="web.header.news.click",i.CONVERSATIONS="web.header.conversations.click",i.AVATAR="web.header.avatar.click",i.EXTERNAL_BUTTON_QUERY_AVATAR="web.header.external_button_query.avatar.click",i.UNSUBSCRIBE_PAGE_AVATAR="web.header.unsubscribe_page.avatar.click",i.ACCOUNT_OPTIONS="web.header.account_options.click",i.EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS="web.header.external_button_query.account_options.click",i)},6340:function(e,t,n){n.d(t,{BO:function(){return w},GC:function(){return O},GJ:function(){return f},L7:function(){return m},Lc:function(){return d},Mh:function(){return u},Qf:function(){return c},Qq:function(){return P},Un:function(){return x},X$:function(){return S},Z7:function(){return h},bT:function(){return v},bd:function(){return g},df:function(){return p},iz:function(){return R},kl:function(){return b},lR:function(){return A},m6:function(){return T},mT:function(){return E},pS:function(){return y},uW:function(){return I},zz:function(){return _}});var i,r,s=n(883119),a=n(876594),o=n(821381),l=n(391374);let u="right",c=72,d="VerticalNavContent",p=24,h="lg",m=16,_=16,f=392,b=12,g=a.mJW,v=a.Kuk,y=new s.H3([l.NW]),E=new s.Ry(l.fe-3),w=new s.H3([y,o.kl]),T=new s.H3([w]),I=2,S=8,P=3,O=12,x=((i={}).PINTEREST_LOGO="web.vertical_nav.pinterest_logo.click",i.HOME="web.vertical_nav.home.click",i.TODAY="web.vertical_nav.today.click",i.CREATE="web.vertical_nav.create.click",i.NEWS="web.vertical_nav.news.click",i.CONVERSATIONS="web.vertical_nav.conversations.click",i.AVATAR="web.vertical_nav.avatar.click",i.ACCOUNT_SWITCHER="web.vertical_nav.account_switcher.click",i.MORE_OPTIONS_OPT_OUT="web.vertical_nav.more_options.opt_out",i.MORE_OPTIONS="web.vertical_nav.more_options.click",i),A=((r={}).CONTROL="control",r.EMPLOYEES="employees",r.ENABLED="enabled",r.ENABLED_HOME_BUTTON="enabled_home_button",r.ENABLED_HOME_AND_LOGO="enabled_home_and_logo",r.NONE="",r),R=e=>({tags:{experimentGroup:e}})},601909:function(e,t,n){n.d(t,{M:function(){return s},f:function(){return r}});var i=n(53747);let r=()=>{i.t8({name:"forced_experiments",purpose:"personalization",httpOnly:!1,duration:"30d"},JSON.stringify({web_vertical_nav:!1}))},s=()=>{i.zN("forced_experiments")}},752570:function(e,t,n){n.d(t,{H:function(){return u},W:function(){return l}});var i=n(667294),r=n(486188),s=n(45389),a=n(785893);let{Provider:o,useHook:l}=(0,r.Z)("HeaderShadow");function u({children:e}){let[t,n]=(0,i.useState)(!1),[r,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(0),[d,p]=(0,i.useState)(null),h=(0,s.Z)(()=>{t&&(l(window.scrollY>0),c(window.scrollY))},50);return(0,i.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),(0,i.useEffect)(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[t]),(0,a.jsx)(o,{value:{currentScrollPosition:u,isScrolled:r,setSubheaderShadow:p,subheaderShadow:d},children:e})}},563368:function(e,t,n){n.d(t,{Cy:function(){return u},HE:function(){return c},Mv:function(){return s},PR:function(){return m},Y4:function(){return d},dL:function(){return r},fS:function(){return p},fv:function(){return o},lu:function(){return h},qS:function(){return l},uc:function(){return a}});var i=n(23534);let r=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,i.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},a=e=>{let t=(0,i.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},h=e=>{let t=(0,i.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},191953:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(551304);function r(e){return!((0,i.Gl)(e)||(0,i.PY)(e)||(0,i.jC)(e)||(0,i.Xn)(e)||(0,i.b_)(e)||(0,i.oF)(e)||(0,i.dt)(e)||(0,i.x7)(e)||(0,i.cY)(e)||(0,i.bb)(e))}},561504:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(667294),r=n(674320),s=n(202732);let a=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:r,component:o,clientTrackingParams:l,element:u},c)=>{let d=a({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:r,component:o,clientTrackingParams:l,element:u});-1===Object.keys(d).indexOf("view_type")&&(0,s.My)("mweb.logging.null_view_type"),c(d)};function l(e){let{auxData:t,clientTrackingParams:n,children:s,component:a,element:l,objectIdStr:u,viewData:c,viewParameter:d,viewType:p}=e,h=(0,r.Z)(),m=JSON.stringify(t),_=JSON.stringify(c);return(0,i.useEffect)(()=>{o(e,h)},[h,m,n,a,l,u,_,d,p]),i.Children.only(s)}},458410:function(e,t,n){n.d(t,{Yg:function(){return l},ib:function(){return c},nF:function(){return p},xX:function(){return d}});var i=n(561162),r=n(3879),s=n(55077),a=n(320288);let o=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,n)=>(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...n}})}},l=()=>{let{isAuthenticated:e}=(0,r.B)(),t=(0,s.HG)(),{checkExperiment:n}=(0,i.F)();return e&&!t?o({checkExperiment:n}):{logStat:()=>{}}},u=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:n}=o({checkExperiment:e});(u+=1)<10&&n(`repin_${u}`)};function d({checkExperiment:e,isDesktop:t,isAuthenticated:n}){if(!n)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:t,group:n}=e("auth_mweb_graphql_pin_page");switch(n){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function p(){let{checkExperiment:e}=(0,i.F)(),t=(0,s.HG)(),{isAuthenticated:n}=(0,r.B)();return d({checkExperiment:e,isDesktop:t,isAuthenticated:n})}},129611:function(e,t,n){n.d(t,{O:function(){return d},Z:function(){return p}});var i=n(667294),r=n(883119),s=n(708130),a=n(561162),o=n(916225),l=n(76594),u=n(785893);let c={xs:12,sm:16,md:20,lg:24};function d({children:e}){let t=(0,s.ZP)();return(0,u.jsx)(r.u,{link:(0,u.jsx)(r.rU,{href:o.vBy,target:"blank",children:(0,u.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function p({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:n,showText:o,size:p}){let h=(0,s.ZP)(),{checkExperiment:m}=(0,a.F)(),{surface:_}=(0,l.$)(),f=(0,u.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(r.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:c[p]}),o&&(0,u.jsx)(r.xu,{marginStart:2,children:(0,u.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});if((t||n)&&(!_||_&&["AuthHomefeed","RelatedPinGrid","SearchItem","BaseBoardPinGrid"].includes(_))&&"enabled_att_trusted_merchants_and_verified_creators_only"===m("simplify_creator_attributions_web").group)return(0,u.jsx)(i.Fragment,{});let{group:b}=m("simplify_creator_attributions_web");switch(b){case"enabled_att_trusted_merchant_blue_checkmark":return(0,u.jsxs)(i.Fragment,{children:[n&&!e&&(0,u.jsx)(d,{children:f}),n&&e&&f]});case"enabled_att_creators_with_red_checkmarks":return(0,u.jsx)(i.Fragment,{children:t&&(0,u.jsx)(r.JO,{accessibilityLabel:h._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:c[p]})});default:return(0,u.jsxs)(i.Fragment,{children:[n&&!e&&(0,u.jsx)(d,{children:f}),n&&e&&f,t&&!n&&(0,u.jsx)(r.JO,{accessibilityLabel:h._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:c[p]})]})}}},821381:function(e,t,n){n.d(t,{CZ:function(){return a},Db:function(){return l},Lu:function(){return s},kl:function(){return i},sb:function(){return o},t3:function(){return r},to:function(){return u}});let i=new(n(883119)).Ry(700),r="defaultInboxView",s="newMessageView",a="newMessageSelectRecipientsView",o="invitesRequestsView",l="followInviteEducationView",u=64},593705:function(e,t,n){n.d(t,{H:function(){return r},o:function(){return i}});let{Provider:i,useHook:r}=(0,n(486188).Z)("LimitedLogin")},817105:function(e,t,n){n.d(t,{N4:function(){return s},Wh:function(){return i},hr:function(){return r}});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},580546:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(708130),r=n(55077),s=n(593705),a=n(817105);let o=()=>{let e=(0,i.ZP)(),t=(0,r.HG)(),{viewer:n,loginForMore:o,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:u}=(0,s.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>r=>{let s=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?s=r:r.event&&(s=r.event)),s&&(s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()),o?.setVisible(!0),l?.setText(n||(t?a.hr(e):a.Wh(e))),i&&u?.setRoute(i)}:({fn:e})=>e}},663978:function(e,t,n){n.d(t,{Ge:function(){return u},JS:function(){return a},OF:function(){return y},P_:function(){return o},Q_:function(){return p},b8:function(){return h},eR:function(){return v},h2:function(){return c},h6:function(){return d}});var i=n(694623),r=n(193733),s=n(57967);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),u=({id:e,orbacSubjectId:t,blockSource:n,blockContext:r,logContextEvent:s})=>async a=>{a(l(e,!0));let o=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:r}).callCreate().catch(()=>a(l(e,!1)));return s({event_type:54,object_id_str:e}),o},c=(e,t)=>async n=>{n(l(e,!1));let r=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(l(e,!0)));return t({event_type:55,object_id_str:e}),r};function d(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>i.Z.create("UserStateResource",{state:e,value:t}).callCreate(),h=(e,t,n)=>(i,a)=>{(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:a().session.userId}),e(),(0,s.Z)()},t)},m=e=>e>=200&&e<400,_=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",f=async(e,t,n)=>{let r=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(r.resource_response.data[e]){let{status:i,signature:s}=r.resource_response.data[e];"processing"===i||"registered"===i?setTimeout(async()=>{f(e,t,n)},5e3):"succeeded"===i?t(_(s)):n()}else n()},b=(e,t,n,r,s)=>(new FormData().append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:a,upload_parameters:o}=t.resource_response.data,l=new XMLHttpRequest;l.open("POST",a,!0),l.onload=()=>{m(l.status)?(n(100),f(i,r,s)):s()},l.upload.onprogress=e=>{n(Math.round(100*e.loaded/e.total))};let u=new FormData;for(let e in o)u.append(e,o[e]);u.append("file",e),l.send(u)}},()=>{s()})),g=e=>new Promise((t,n)=>{b(e,"pinimage",()=>{},e=>{t(e)},e=>{n(e)})}),v=e=>new Promise((t,n)=>{"string"==typeof e?e.startsWith("data")&&g(function(e,t=512){let n=e.split(";"),i=n[0].split(":")[1],r=atob(n[1].split(",")[1]),s=[];for(let e=0;e<r.length;e+=t){let n=r.slice(e,e+t),i=Array(n.length);for(let e=0;e<n.length;e+=1)i[e]=n.charCodeAt(e);let a=new Uint8Array(i);s.push(a)}return new Blob(s,{type:i})}(e)).then(e=>t(e)):n("Invalid Image")}),y=e=>(0,r.Z)({url:"/v3/register/exists/",data:{email:e}})},287126:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(581722),r=n(616550),s=n(883119),a=n(980570),o=n(674320),l=n(264723),u=n(4913),c=n(708130),d=n(551304),p=n(3915),h=n(202732),m=n(226978),_=n(55077),f=n(785893);function b({alignIconLeft:e,bgColor:t,color:n,disableRedirect:b=!1,fallbackUrl:g,icon:v="arrow-back",onTouch:y,padding:E,placement:w,shouldUseFallbackUrl:T,size:I="lg",viewParameter:S,viewType:P,isVisualSearch:O}){let x=(0,c.ZP)(),A=(0,r.k6)(),R=(0,r.TH)(),C=(0,_.HG)(),L=(0,i.v9)(e=>e.session.isAuthenticated),N=(0,o.Z)(),D=(0,m.Z)(),k=(0,u.vs)(),{viewType:U,viewParameter:j}=(0,l.SU)(),[M,F]=P?[P,S]:[U,j],Z=()=>R.search&&R.search.includes("?nativeShouldDismiss=true"),H=()=>{let e=p.ZP.getItem(a.pm);R.key||"/ideas"!==g?(0,h.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,h.My)("pinner_conversion.back_button.no_history"),(0,h.My)(`web_back_button_click.${String(w)}.is_auth_${String(L)}`),D({action:"click",item:"back-button"}),M&&N({view_type:M,view_parameter:F,element:34,event_type:102}),y&&y(),b||((!R.key||R.state&&"redirect"===R.state.referrer||T)&&g?A.push(g):R.pathname.includes("/password/reset/")&&Z()?A.push("/login/?dismissWebview=true"):A.goBack())},B=k?u.t4:"white",V=(0,d.am)(R)||O||"white"===n;return(0,f.jsx)(s.xu,{"data-test-id":"back-button",children:e?(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===v?-1:-2,width:48,children:(0,f.jsx)(s.hU,{accessibilityLabel:x._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:v,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:H,padding:"auto"!==E?E:2,size:I})}):(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:C||V?"":B,width:k&&!V?"fit-content":""}},rounding:"circle",children:(0,f.jsx)(s.hU,{accessibilityLabel:x._('Back', 'navigation button', 'navigation button'),bgColor:t||C?t:"transparent",icon:v,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:H,padding:"auto"!==E?E:2,size:I})})})}},909607:function(e,t,n){n.d(t,{Z:()=>c});var i=n("883119"),r=n("249043"),s=n("708130"),a=n("820368"),o=n("55077"),l=n("785893");function u({ideaPinImages:e}){let t=e.map((e,t)=>(0,l.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,l.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},t));return(0,l.jsx)(i.kC,{justifyContent:"center",children:(0,l.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:n,href:c,imageUrl:d}){let p=(0,s.ZP)(),h=(0,o.HG)(),m=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),_=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,l.jsx)(r.ZP,{duration:5e3,href:c,onHide:e,text:_,thumbnail:d?{image:(0,l.jsx)(i.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:d})}:void 0});let f=(m.data||[]).slice(0,3).map(e=>e.images?.[h?"236x":"170x"]),b=(0,l.jsx)(u,{ideaPinImages:f});return(0,l.jsx)(r.ZP,{_dangerouslySetThumbnail:b,duration:5e3,href:c,onHide:e,text:_})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/31717-7df635c55c0116eb.mjs.map
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["98543"],{762587:function(e){e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var r=1e3;i&&"number"==typeof i.maxKeys&&(r=i.maxKeys);var a=e.length;r>0&&a>r&&(a=r);for(var l=0;l<a;++l){var c,u,d,_,p=e[l].replace(o,"%20"),h=p.indexOf(n);(h>=0?(c=p.substr(0,h),u=p.substr(h+1)):(c=p,u=""),d=decodeURIComponent(c),_=decodeURIComponent(u),Object.prototype.hasOwnProperty.call(s,d))?Array.isArray(s[d])?s[d].push(_):s[d]=[s[d],_]:s[d]=_}return s}},712361:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,s){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(s){var o=encodeURIComponent(t(s))+i;return Array.isArray(e[s])?e[s].map(function(e){return o+encodeURIComponent(t(e))}).join(n):o+encodeURIComponent(t(e[s]))}).join(n):s?encodeURIComponent(t(s))+i+encodeURIComponent(t(e)):""}},817673:function(e,t,n){t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},470131:function(e,t,n){n.d(t,{YD:function(){return d},df:function(){return u}});var i=n(667294);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var o=new Map,r=new Map,a=0;function l(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var i=function(e){var t=Object.keys(e).sort().filter(function(t){return void 0!==e[t]}).map(function(t){var n;return t+"_"+("root"===t?(n=e.root)?(r.has(n)||(a+=1,r.set(n,a.toString())),r.get(n)):"0":e[t])}).toString(),n=o.get(t);if(!n){var i,s=new Map,l=new IntersectionObserver(function(t){t.forEach(function(t){var n,o=t.isIntersecting&&i.some(function(e){return t.intersectionRatio>=e});e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(n=s.get(t.target))||n.forEach(function(e){e(o,t)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:s},o.set(t,n)}return n}(n),s=i.id,l=i.observer,c=i.elements,u=c.get(e)||[];return c.has(e)||c.set(e,u),u.push(t),l.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),o.delete(s))}}function c(e){return"function"!=typeof e.children}var u=function(e){function t(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){!n.node||(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),c(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var n=t.prototype;return n.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,i=e.rootMargin,s=e.trackVisibility,o=e.delay;this._unobserveCb=l(this.node,this.handleChange,{threshold:t,root:n,rootMargin:i,trackVisibility:s,delay:o})}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!c(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var o=this.props,r=o.children,a=o.as,l=o.tag,u=function(e,t){if(null==e)return{};var n,i,s={},o=Object.keys(e);for(i=0;i<o.length;i++)t.indexOf(n=o[i])>=0||(s[n]=e[n]);return s}(o,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,i.createElement)(a||l||"div",s({ref:this.handleNode},u),r)},t}(i.Component);function d(e){var t=void 0===e?{}:e,n=t.threshold,s=t.delay,o=t.trackVisibility,r=t.rootMargin,a=t.root,c=t.triggerOnce,u=t.skip,d=t.initialInView,_=(0,i.useRef)(),p=(0,i.useState)({inView:!!d}),h=p[0],f=p[1],m=(0,i.useCallback)(function(e){void 0!==_.current&&(_.current(),_.current=void 0),!u&&e&&(_.current=l(e,function(e,t){f({inView:e,entry:t}),t.isIntersecting&&c&&_.current&&(_.current(),_.current=void 0)},{root:a,rootMargin:r,threshold:n,trackVisibility:o,delay:s}))},[Array.isArray(n)?n.toString():n,a,r,c,u,o,s]);(0,i.useEffect)(function(){_.current||!h.entry||c||u||f({inView:!!d})});var g=[m,h.inView,h.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}u.displayName="InView",u.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},827338:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthDesktopFooter_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="84e1b8e8a4166c8054ff3a9386b3caff";let s=i},124249:function(e,t,n){var i,s;n.r(t),n.d(t,{default:function(){return r}});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[s],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}]},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};o.hash="4cbfbeb13b6d75d6f6b35f16cd250f54";let r=o;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(o.default||o)},813288:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};i.hash="9cbce2e5d42ba48125c1151e618b033c";let s=i},787997:function(e,t,n){n.d(t,{$:function(){return d},C:function(){return c}});var i=n(667294),s=n(581722),o=n(731996),r=n(561162),a=n(820368),l=n(320288);let c=()=>{let{checkExperiment:e}=(0,r.F)(),[t,n]=(0,i.useState)(!1),c=(0,s.v9)(({feeds:e})=>e?.homefeed),u=(0,i.useRef)(!1),d=(0,o.q)(),{isFetching:_}=(0,a.Z)(t&&!c&&e("hfp_web_prefetch_hf_json_on_mousedown").anyEnabled?d():null);return(0,i.useEffect)(()=>{_&&((0,l.nP)("web.performance.homefeed.mousedownPrefetch.prefetch"),u.current=!0)},[_]),{onMouseDown:()=>n(!0),onNavigateToHomefeed:()=>{u.current&&((0,l.nP)("web.performance.homefeed.mousedownPrefetch.navigateAfterPrefetch"),u.current=!1)}}},u=["150","200","250","300"],d=()=>{let{checkExperiment:e}=(0,r.F)(),t=(0,s.v9)(({feeds:e})=>e?.homefeed),n=(0,i.useRef)(null),[c,d]=(0,i.useState)(!1),[_,p]=(0,i.useState)(!1),h=(0,i.useRef)(!1),{anyEnabled:f=!1,group:m=""}=e("hfp_web_prefetch_hf_json_on_closeup"),g=Number(u.find(e=>m.includes(e)))||0,b=(0,o.q)(),{isFetching:y}=(0,a.Z)(c&&!t&&f?b():null);return(0,i.useEffect)(()=>{y&&((0,l.nP)("web.performance.homefeed.prefetch",{tags:{inPrefetchGroup:m}}),h.current=!0)},[y,m]),(0,i.useEffect)(()=>{setTimeout(()=>p(!0),5e3)},[]),{startPrefetchTimer:()=>{_&&(n.current=setTimeout(()=>{d(!0)},g))},cancelPrefetchTimer:()=>{n.current&&clearTimeout(n.current)},onNavigateToHomefeed:()=>{h.current&&((0,l.nP)("web.performance.homefeed.navigateAfterPrefetch",{tags:{inPrefetchGroup:m}}),h.current=!1)}}}},280291:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(667294),s=n(616550),o=n(86485),r=n(3879),a=n(673695),l=n(863947),c=n(785893);let u=(0,i.lazy)(()=>n.e("23265").then(n.bind(n,194807)));function d(e){let{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:i}=(0,l.y)(),{actionFrom:d,isSubmitting:_,modalOpen:p,modalTitle:h,nextPageToRedirect:f,prompt:m,submissionComplete:g,submissionFailure:b}=i,y=(0,s.TH)(),v=(0,r.B)();return p?(0,c.jsx)(o.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(a.Z,{children:(0,c.jsx)(u,{...e,actionFrom:d,hideModal:()=>t(),isSubmitting:_,location:y,modalOpen:p,nextPageToRedirect:f,prompt:m,requestContext:v,submissionComplete:g,submissionFailure:b,submitFeedback:e=>n(e),title:h})})}):null}},962520:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(561162),s=n(3879),o=n(55077);function r(e){let{isAuthenticated:t,isRTL:n}=(0,s.B)(),r=(0,o.HG)(),{checkExperiment:a}=(0,i.F)(),l="";return e&&t&&r&&!n?l=a("closeup_auth_related_pins_above_fold_2024_dweb").group:e||t||!r||n||(l=a("closeup_unauth_related_pins_above_fold_2024_dweb").group),{isCloseupRelatedPinsAboveTheFoldEnabled:!!l&&"control"!==l,closeupWithinMasonryEnabled:"enabled_side_by_side"===l,peekCloseupEnabled:"enabled_peek"===l,closeupRelatedPinsAboveTheFoldExperimentGroup:l}}},104994:function(e,t,n){n.d(t,{p:function(){return l},t:function(){return a}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useHook:a}=(0,s.Z)("VisualShopContext");function l({children:e}){let[t,n]=(0,i.useState)(),s=(0,i.useRef)(0),a=(0,i.useRef)("");return(0,o.jsx)(r,{value:{cachedOneBarModules:t,setCachedOneBarModules:n,imageContainerScrollTop:s,imageContainerScrollTopForPinId:a},children:e})}},373368:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(667294),s=n(883119),o=n(785893);function r({color:e="red",duration:t,finalProgress:n,shape:r="pill"}){let[a,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},0);return()=>{clearTimeout(e)}},[]);let c="pill"===r;return(0,o.jsx)(s.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${a?"-5px":"-100%"})`:`scaleX(${a?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:c?8:6,rounding:c?"pill":2,width:`${n}%`})}},272535:function(e,t,n){let i;n.d(t,{Z:function(){return d},e:function(){return r}});var s=n(11602),o=n(510678);let r="data-pinterest-extension-installed",a=()=>Promise.resolve().then(n.bind(n,768255)),l=100,c={},u={[s.oi.CHROME]:{url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},[s.oi.FIREFOX]:{url:"https://addons.mozilla.org/en-US/firefox/addon/pinterest/",newWindow:!1},[s.oi.SAFARI]:{url:"https://apps.apple.com/us/app/save-to-pinterest/id6473649042",newWindow:!0},[s.oi.EDGE]:{url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0}};c.handleExtensionInstall=(e,t)=>{let n=(0,s.u$)(e),i=n?u[n].url:void 0;i&&((0,o.Z)(i,n?u[n].newWindow:void 0),t())},c.isExtensionInstalled=()=>i,c.isBrowserExtensionSupported=e=>(0,s.i7)(e)||(0,s.vU)(e)||(0,s.un)(e)||(0,s.G6)(e),c.extensionReady=(e,t=l)=>new Promise(n=>{setTimeout(()=>{document.body&&(i=document.body.hasAttribute(r),c.isBrowserExtensionSupported(e)||(i=!0),n(i))},t)}),c.initBrowserExtension=()=>{a().then(({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:i})})};let d=c},68332:function(e,t,n){n.d(t,{Z:function(){return i}});let i='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},831734:function(e,t,n){n.d(t,{Pw:function(){return i},SB:function(){return s},ZP:function(){return r},x9:function(){return o}});let i=80,s=56,o=e=>"phone"===e?s:i;function r(e,t){return t?0:o(e)}},989310:function(e,t,n){n.d(t,{JD:function(){return i},al:function(){return s},f4:function(){return l},iV:function(){return a},tN:function(){return r}});let i={ALGERIA:"DZ",ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BAHRAIN:"BH",BELGIUM:"BE",BRAZIL:"BR",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",COSTA_RICA:"CR",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",ESTONIA:"EE",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",GUATEMALA:"GT",HONG_KONG:"HK",HUNGARY:"HU",IRAQ:"IQ",IRELAND:"IE",INDIA:"IN",INDONESIA:"ID",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",KUWAIT:"KW",LITHUANIA:"LT",LUXEMBOURG:"LU",MALTA:"MT",MALAYSIA:"MY",MEXICO:"MX",MOROCCO:"MA",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NIGERIA:"NG",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PERU:"PE",POLAND:"PL",PORTUGAL:"PT",QATAR:"QA",ROMANIA:"RO",SAUDI_ARABIA:"SA",SINGAPORE:"SG",SLOVAKIA:"SK",SLOVENIA:"SI",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",TAIWAN:"TW",THAILAND:"TH",TURKEY:"TR",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",PHILIPPINES:"PH",VIETNAM:"VN",SOUTH_AFRICA:"ZA",UNKNOWN:"UNKNOWN"},s=(e,t)=>({AE:t._('United Arab Emirates', '[m10n]billing.BusinessInformation.country.AE', 'Country in business information form address'),AR:t._('Argentina', '[m10n]billing.BusinessInformation.country.AR', 'Country in business information form address'),AT:t._('Austria', '[m10n]billing.BusinessInformation.country.AT', 'Country in business information form address'),AU:t._('Australia', '[m10n]billing.BusinessInformation.country.AU', 'Country in business information form address'),BE:t._('Belgium', '[m10n]billing.BusinessInformation.country.BE', 'Country in business information form address'),BH:t._('Bahrain', '[m10n]billing.BusinessInformation.country.BH', 'Country in business information form address'),BR:t._('Brazil', '[m10n]billing.BusinessInformation.country.BR', 'Country in business information form address'),CA:t._('Canada', '[m10n]billing.BusinessInformation.country.CA', 'Country in business information form address'),CH:t._('Switzerland', '[m10n]billing.BusinessInformation.country.CH', 'Country in business information form address'),CL:t._('Chile', '[m10n]billing.BusinessInformation.country.CL', 'Country in business information form address'),CO:t._('Colombia', '[m10n]billing.BusinessInformation.country.CO', 'Country in business information form address'),CR:t._('Costa Rica', '[m10n]billing.BusinessInformation.country.CR', 'Country in business information form address'),CY:t._('Cyprus', '[m10n]billing.BusinessInformation.country.CY', 'Country in business information form address'),CZ:t._('Czechia', '[m10n]billing.BusinessInformation.country.CZ', 'Country in business information form address'),DE:t._('Germany', '[m10n]billing.BusinessInformation.country.DE', 'Country in business information form address'),DK:t._('Denmark', '[m10n]billing.BusinessInformation.country.DK', 'Country in business information form address'),DO:t._('Dominican Republic', '[m10n]billing.BusinessInformation.country.DO', 'Country in business information form address'),DZ:t._('Algeria', '[m10n]billing.BusinessInformation.country.DZ', 'Country in business information form address'),EC:t._('Ecuador', '[m10n]billing.BusinessInformation.country.EC', 'Country in business information form address'),EE:t._('Estonia', '[m10n]billing.BusinessInformation.country.EE', 'Country in business information form address'),EG:t._('Egypt', '[m10n]billing.BusinessInformation.country.EG', 'Country in business information form address'),ES:t._('Spain', '[m10n]billing.BusinessInformation.country.ES', 'Country in business information form address'),FI:t._('Finland', '[m10n]billing.BusinessInformation.country.FI', 'Country in business information form address'),FR:t._('France', '[m10n]billing.BusinessInformation.country.FR', 'Country in business information form address'),GB:t._('United Kingdom', '[m10n]billing.BusinessInformation.country.GB', 'Country in business information form address'),GR:t._('Greece', '[m10n]billing.BusinessInformation.country.GR', 'Country in business information form address'),GT:t._('Guatemala', '[m10n]billing.BusinessInformation.country.GT', 'Country in business information form address'),HK:t._('Hong Kong', '[m10n]billing.BusinessInformation.country.HK', 'Country in business information form address'),HU:t._('Hungary', '[m10n]billing.BusinessInformation.country.HU', 'Country in business information form address'),IE:t._('Ireland', '[m10n]billing.BusinessInformation.country.IE', 'Country in business information form address'),IN:t._('India', '[m10n]billing.BusinessInformation.country.IN', 'Country in business information form address'),ID:t._('Indonesia', '[m10n]billing.BusinessInformation.country.ID', 'Country in business information form address'),IL:t._('Israel', '[m10n]billing.BusinessInformation.country.IL', 'Country in business information form address'),IQ:t._('Iraq', '[m10n]billing.BusinessInformation.country.IQ', 'Country in business information form address'),IT:t._('Italy', '[m10n]billing.BusinessInformation.country.IT', 'Country in business information form address'),JP:t._('Japan', '[m10n]billing.BusinessInformation.country.JP', 'Country in business information form address'),KR:t._('South Korea', '[m10n]billing.BusinessInformation.country.KR', 'Country in business information form address'),KW:t._('Kuwait', '[m10n]billing.BusinessInformation.country.KW', 'Country in business information form address'),LT:t._('Lithuania', '[m10n]billing.BusinessInformation.country.LT', 'Country in business information form address'),LU:t._('Luxembourg', '[m10n]billing.BusinessInformation.country.LU', 'Country in business information form address'),MA:t._('Morocco', '[m10n]billing.BusinessInformation.country.MA', 'Country in business information form address'),MT:t._('Malta', '[m10n]billing.BusinessInformation.country.MT', 'Country in business information form address'),MX:t._('Mexico', '[m10n]billing.BusinessInformation.country.MX', 'Country in business information form address'),MY:t._('Malaysia', '[m10n]billing.BusinessInformation.country.MY', 'Country in business information form address'),NG:t._('Nigeria', '[m10n]billing.BusinessInformation.country.NG', 'Country in business information form address'),NL:t._('Netherlands', '[m10n]billing.BusinessInformation.country.NL', 'Country in business information form address'),NO:t._('Norway', '[m10n]billing.BusinessInformation.country.NO', 'Country in business information form address'),NZ:t._('New Zealand', '[m10n]billing.BusinessInformation.country.NZ', 'Country in business information form address'),OM:t._('OMAN', '[m10n]billing.BusinessInformation.country.OM', 'Country in business information form address'),PE:t._('Peru', '[m10n]billing.BusinessInformation.country.PE', 'Country in business information form address'),PH:t._('Philippines', '[m10n]billing.BusinessInformation.country.PH', 'Country in business information form address'),PK:t._('Pakistan', '[m10n]billing.BusinessInformation.country.PK', 'Country in business information form address'),PL:t._('Poland', '[m10n]billing.BusinessInformation.country.PL', 'Country in business information form address'),PT:t._('Portugal', '[m10n]billing.BusinessInformation.country.PT', 'Country in business information form address'),QA:t._('Qatar', '[m10n]billing.BusinessInformation.country.QA', 'Country in business information form address'),RO:t._('Romania', '[m10n]billing.BusinessInformation.country.RO', 'Country in business information form address'),SA:t._('Saudi Arabia', '[m10n]billing.BusinessInformation.country.SA', 'Country in business information form address'),SE:t._('Sweden', '[m10n]billing.BusinessInformation.country.SE', 'Country in business information form address'),SG:t._('Singapore', '[m10n]billing.BusinessInformation.country.SG', 'Country in business information form address'),SI:t._('Slovenia', '[m10n]billing.BusinessInformation.country.SI', 'Country in business information form address'),SK:t._('Slovakia', '[m10n]billing.BusinessInformation.country.SK', 'Country in business information form address'),TH:t._('Thailand', '[m10n]billing.BusinessInformation.country.TH', 'Country in business information form address'),TR:t._('Turkey', '[m10n]billing.BusinessInformation.country.TR', 'Country in business information form address'),TW:t._('Taiwan', '[m10n]billing.BusinessInformation.country.TW', 'Country in business information form address'),US:t._('United States', '[m10n]billing.BusinessInformation.country.US', 'Country in business information form address'),VN:t._('Vietnam', '[m10n]billing.BusinessInformation.country.VN', 'Country in business information form address'),ZA:t._('South Africa', '[m10n]billing.BusinessInformation.country.ZA', 'Country in business information form address'),UNKNOWN:t._('Unknown', '[m10n]billing.BusinessInformation.country.UNKNOWN', 'Country in business information form address')})[e]||e,o={IL:9,HK:18,KR:20,SG:21,TW:39,MY:40,VN:41,TH:42,PH:43,ID:44,DO:46,AE:47,TR:48,IN:49,GT:50,SA:51,NG:52,QA:53,PE:54,EG:55,IQ:56,BH:57,CR:58,DZ:59,EC:60,KW:61,MA:62,OM:63,PK:64,ZA:66,US:1,EE:67,LT:68,SI:69},r={...o,AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IN:49,ID:44,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,MY:40,NL:14,NO:22,NZ:6,PH:43,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,TH:42,TW:39,US:1,VN:41,UNKNOWN:0},a=Object.entries(r).reduce((e,t)=>{let[n,i]=t;return e[i]=n,e},{}),l=Object.values(o)},399049:function(e,t,n){n.d(t,{t:()=>c,Z:()=>u});var i=n("267515"),s=n("53747"),o=n("821098"),r=n("193733"),a=n("320288");let l=function(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}(),c="default"===l||"granted"===l;async function u(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{let{permission:e}=window.Notification,t=await navigator.serviceWorker.ready;if("granted"===e)try{let e=await t.pushManager.getSubscription(),n=await fetch("/getWebPushKey"),{key:l}=await n.json();if(!e&&l){let e={userVisibleOnly:!0,applicationServerKey:(0,i.Mp)(l)};(0,a.nP)("getChromePushSubscription.no_subscription",{sampleRate:1});let n=await t.pushManager.subscribe(e);((e,t)=>{s.t8(o.L9,"allowed",(0,s.kZ)(o.L9)),t&&t(),(0,a.nP)("auth.web.notifications.allowed",{sampleRate:1});let n=e.subscriptionId&&"string"==typeof e.subscriptionId?e.subscriptionId:e.endpoint.split("/").pop(),i={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};return(0,r.Z)({url:`/v3/users/devices/web/${n}/`,method:"PUT",data:i})})(n,void 0)}}catch(e){(0,a.nP)("getChromePushSubscription.error",{sampleRate:1})}}catch(e){(0,a.nP)("getChromePushSubscription.resubscribe.exception",{sampleRate:1})}}},325454:function(e,t,n){n.d(t,{Z:function(){return s},v:function(){return i}});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function s(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},498083:function(e,t,n){n.d(t,{$K:function(){return l},dh:function(){return i},ry:function(){return a}});let i=e=>/instagram/i.test(e||""),s=e=>/facebook/i.test(e||""),o=e=>/line/i.test(e||""),r=e=>/wechat/i.test(e||""),a=e=>i(e)||s(e)||o(e)||r(e),l=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},496634:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(667294),s=n(883119),o=n(27599),r=n(242736),a=n(708130),l=n(3879),c=n(785893);let u=({dismiss:e,errorMessage:t})=>{let n=(0,a.ZP)(),{isRTL:i}=(0,l.B)();return(0,c.jsx)(r.Z,{canClose:!1,hidden:!1,type:"error",children:(0,c.jsxs)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"6px"}},margin:"auto",width:380,zIndex:new s.Ry(2e3),children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px",fontWeight:"bold",borderBottom:"1px solid #e7e7e7"}},padding:5,children:n._('Oops!', 'unauth.error.modal', 'Header for error modal')}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:"#333",fontSize:"14px",lineHeight:"21px"}},padding:5,children:t}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{float:i?"left":"right"}},padding:4,children:(0,c.jsx)(s.zx,{color:"red",onClick:()=>e(),size:"sm",text:n._('Okay', 'unauth.error.modal.okay', 'Button text for accepting that there was an error')})})]})})},d=({children:e})=>{let[t,n]=(0,i.useState)(null),s=(0,i.useRef)(null);return(0,o.o)(e=>{n(e),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{n(null)},3e3)}),(0,i.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),(0,c.jsxs)(i.Fragment,{children:[e,!!t&&(0,c.jsx)(u,{dismiss:()=>n(null),errorMessage:t})]})}},242736:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(667294),s=n(883119),o=n(4436),r=n(202732),a=n(785893);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hidden:this.props.hidden||!1}),l(this,"handleKeyDown",e=>{let{canClose:t,type:n}=this.props;"Escape"===e.key&&((0,r.My)(`unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.${n}.${t?"can":"cant"}_close`),t&&((0,r.My)(`unauth.authentication_modal.esc_key_click.DISMISSED.${n}`),this.close())),e.stopPropagation()}),l(this,"close",()=>{let{onCloseClick:e,onHide:t}=this.props;e?e():(this.setState({hidden:!0}),t&&t())})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){let{hidden:e}=this.state,{canClose:t,children:n,type:i}=this.props;return e?null:(0,a.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"closeup"===i?"rgba(239, 239, 239, 0.96)":"rgba(0, 0, 0, 0.6)",cursor:"closeup"===i?"zoom-out":void 0}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:o.P,children:(0,a.jsx)("div",{"aria-label":"modal",onClick:()=>{(0,r.My)(`unauth.full_page_modal.${i}.empty_space_click`),t&&this.close()},role:"dialog",style:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:0,left:0,right:0,top:0,position:"fixed",display:"flex"},children:(0,a.jsx)("div",{"aria-label":"modal",onClick:e=>{e.stopPropagation()},onKeyDown:e=>{t&&"Escape"===e.key&&e.stopPropagation()},role:"dialog",style:{height:"100%",display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},children:n})})})}}},992548:function(e,t,n){n.d(t,{Z:function(){return i}});let i=`
.Tooltip_message:before, .Tooltip_message:after {
  border-style: solid;
  content: '';
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_message:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_message:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_mobileMessage:before, .Tooltip_message:after {
  border-style: solid;
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_mobileMessage:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_mobileMessage:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_wrapper {
  position: absolute;
  left: calc(100% + 12px);
  z-index: 1;
}
.Tooltip_mobileWrapper {
  margin-top: 7px;
  z-index: 1;
}

.TermsOfService__light a {
  color: rgba(255,255,255,0.9);
}
`},280768:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(68332);let s=`
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
nav,
section,
ul {
  display: block;
}

audio,
canvas,
video {
  display: inline-block;
}

audio:not([controls]) {
  display: none;
}

html {
  font-size: 100%;
  text-size-adjust: none;
}

a:hover,
a:active {
  outline: 0;
}

sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}

img {
  max-width: 100%;
  width: auto;
  height: auto;

  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic;
}

#map_canvas img {
  max-width: none;
}

fieldset {
  border: 0;
  margin: 0;
  padding: 0;
}

button,
input,
select,
textarea {
  font-size: 100%;
  margin: 0;
  vertical-align: middle;
}
button,
input {
  overflow: visible;
  line-height: normal;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  padding: 0;
  border: 0;
}
button,
input[type='button'],
input[type='reset'],
input[type='submit'] {
  cursor: pointer;
  -webkit-appearance: button;
}
textarea {
  overflow: auto;
  vertical-align: top;
}
body {
  margin: 0;
}
h1, h2, h3, h4, h5, h6 {
  margin: 0;
}
figure {
  margin: 0;
}
html {
  background-color: #fff;
}

html, body {
  font-family: ${i.Z};
  color: rgb(33, 25, 34);
  font-size: 12px;
  height: 100%;
}

body {
  position: relative;
  overflow-y: overlay;
  overflow-x: hidden;
}

input::-ms-clear {
  display: none;
}

ul {
  margin: 0;
  padding: 0;
}

ul li {
  list-style: none;
  padding: 0;
}

button, input, select, textarea {
  font-family: ${i.Z};
  font-size: 100%;
  vertical-align: middle;
  margin: 0px;
}

.SkipToContent {
  display: none;
}
`},122286:function(e,t,n){n.d(t,{Z:function(){return s},z:function(){return o}});var i=n(148902);function s(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],n=e&&-1!==e.indexOf(".")?e.split("."):[];if(n.length>=2&&"gmail"===n[0]&&"com"!==n.slice(1).join("."))return!0;let s=(0,i.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===s||2===s))return!0}return!1}function o(e,t){let n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;let s=n[1],o=s&&-1!==s.indexOf(".")?s.split("."):[],r=o[0];if(r===t&&o.length>3)return!0;if(o.length>=2){let e=(0,i.Z)(r,t);return r.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==o.length||r!==t||2!==o[1].length&&"com"!==o[1])&&(o.length,!1)}},537883:function(e,t,n){n.d(t,{Z:function(){return i}});let i="M19.1 7.5c-.2-.7-.6-1.3-1-1.8l2.7-2.8-1.5-1.5L16.7 4c-1.4-1.1-3-1.6-4.7-1.6-3.3 0-6.2 2-7.2 5.2-2.9.7-4.8 3.1-4.8 6 0 2 1 3.9 2.5 5L.1 21.1l1.6 1.5 2.9-3c.3.1.7.2 1 .2H18.3c3.2-.2 5.7-2.9 5.7-6.2.1-3-2-5.5-4.9-6.1zm-2.6-.2c.2.4.4.7.5 1.1l.4 1.2 1.2.2c1.9.3 3.3 1.9 3.3 3.9s-1.5 3.8-3.6 4H6.6l9.9-10.4zM2.3 13.6c0-1.8 1.4-3.5 3.1-3.9l1.1-.2.3-1.1c.7-2.3 2.8-3.8 5.1-3.8 1.2 0 2.2.4 3.2 1.1L4.1 17c-1.1-.8-1.8-2-1.8-3.4z"},325612:function(e,t,n){n.d(t,{Z:function(){return i}});let i="M24.4 8.1c0-4.3-3.6-7.9-7.9-7.9-2.6 0-4.9 1.3-6.4 3.2-2.5.5-4.5 2.3-5.4 4.8-2.7.7-4.7 3.1-4.7 6 0 3.2 2.5 5.9 5.7 6.1H18.3c3.2-.2 5.7-2.9 5.7-6.1 0-.9-.2-1.7-.6-2.4.7-1.1 1-2.4 1-3.7zm-6.2 10H5.9c-2-.1-3.6-1.8-3.6-4 0-1.8 1.3-3.5 3.1-3.9l1.1-.1.3-1.1c.3-1 1-2 1.9-2.6 0 .5-.1 1.1-.1 1.6 0 4.3 3.6 7.9 7.9 7.9 2 0 3.9-.8 5.3-2v.3c0 2-1.6 3.8-3.6 3.9zm-1.7-4.3c-3.2 0-5.8-2.6-5.8-5.8s2.6-5.8 5.8-5.8 5.8 2.6 5.8 5.8-2.6 5.8-5.8 5.8z M18.9 5.5l-3.3 3.3-1.3-1.3c-.4-.4-.9-.4-1.3 0s-.4.9 0 1.3l1.9 1.9.6.6.6-.6L20 6.8c.4-.4.4-.9 0-1.3-.3-.3-.7-.3-1.1 0z"},148902:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e,t){let n,i;if(0===e.length)return t.length;if(0===t.length)return e.length;let s=[];for(n=0;n<=t.length;n+=1)s[n]=[n];for(i=0;i<=e.length;i+=1)s[0][i]=i;for(n=1;n<=t.length;n+=1)for(i=1;i<=e.length;i+=1)t.charAt(n-1)===e.charAt(i-1)?s[n][i]=s[n-1][i-1]:s[n][i]=Math.min(s[n-1][i-1]+1,Math.min(s[n][i-1]+1,s[n-1][i]+1));return s[t.length][e.length]}},793561:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(551304),s=n(197917);function o(e){return(0,i.C$)(e)||(0,i.L6)(e)||(0,i.l4)(e)||(0,i.am)(e)||(0,i.En)(e)||(0,i.$V)(e)||(0,i.Zz)(e)||(0,s.Z)(e)||(0,i.Ni)(e)}},267515:function(e,t,n){n.d(t,{$V:function(){return m},FK:function(){return b},Mp:function(){return v},Sb:function(){return f},dO:function(){return y},e$:function(){return w},hy:function(){return P}});var i=n(551304),s=n(197917),o=n(202732);let r="home",a="closeup",l="news_hub",c="board",u="profile",d="topic",_="today",p="business",h="search",f=e=>{if((0,i.C$)(e))return r;if((0,i.L6)(e))return a;if((0,i.l4)(e))return l;if((0,i.am)(e))return c;if((0,s.Z)(e))return u;if((0,i.En)(e))return h;if((0,i.$V)(e))return d;else if((0,i.Zz)(e))return _;else if((0,i.Ni)(e))return p;return"undefined"},m=e=>{switch(f(e)){case r:return{viewType:1,viewParameter:92};case a:return{viewType:3,viewParameter:void 0};case l:return{viewType:107,viewParameter:3081};case c:return{viewType:5,viewParameter:void 0};case h:return{viewType:2,viewParameter:43};case d:return{viewType:210,viewParameter:void 0};case u:return{viewType:4,viewParameter:void 0};case p:return{viewType:409,viewParameter:3397};case _:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},g=e=>e[e.length-1],b=({subscriptionId:e,endpoint:t})=>e||g(t.split("/")),y=(e,t)=>(0,o.tj)(e,{...t});function v(e){let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),s=new Uint8Array(i.length);for(let e=0;e<i.length;e+=1)s[e]=i.charCodeAt(e);return s}let w=e=>e._('Sorry! Something went wrong on our end.', 'RequestDataUI.Toast.unknownFailure', 'Toast message for unsuccessfully requesting data'),P=e=>e._('Chrome users can activate browser notifications when push is turned on', 'notification_settings.permissions.chrome_browser_enabling.description', 'Notify users they can enable chrome browser notifications if push notifications are on')},555779:function(e,t,n){n.d(t,{A:()=>S,J:()=>w});var i=n("667294"),s=n("616550"),o=n("674320"),r=n("486188"),a=n("883119"),l=n("558919"),c=n("708130"),u=n("55077"),d=n("201462"),_=n("785893");function p({onClose:e,handleSubmit:t,currentViewParameter:n,currentComponent:s,isOpen:r}){let p=(0,c.ZP)(),h=(0,o.Z)(),f=(0,u.HG)(),m=p._('Dismiss modal button', 'settings.ParentalPasscodeSkipAcknowledgeModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),g=p._('Cancel', 'settings.ParentalPasscodeSkipAcknowledgeModal.cancelButton', 'Cancel button label on the modal dialog'),b=p._('Update', 'settings.ParentalPasscodeSkipAcknowledgeModal.updateButton', 'Enter button label on the modal dialog'),y=p._('Update this setting?', 'settings.ParentalPasscodeSkipAcknowledgeModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),v=p._('You may require parental passcode for future changes to this setting', 'settings.ParentalPasscodeSkipAcknowledgeModal.subHeading2', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode');(0,i.useEffect)(()=>{n&&s&&h({event_type:13,view_type:7,view_parameter:4004,component:14971})},[n,s,h]);let w=()=>{h({event_type:15423,view_type:7,view_parameter:4004,component:14971}),t("")},P=()=>{h({event_type:15424,view_type:7,view_parameter:4004,component:14971}),e()};return(0,_.jsx)(i.Fragment,{children:f?(0,_.jsx)(l.ZP,{accessibilityModalLabel:p._('Parental Passcode Validate Modal', 'settings.ParentalPasscodeSkipAcknowledgeModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!0,footer:(0,_.jsxs)(a.kC,{alignItems:"center",justifyContent:"end",children:[(0,_.jsx)(a.xu,{paddingX:1,children:(0,_.jsx)(a.zx,{onClick:P,size:"lg",text:g})}),(0,_.jsx)(a.xu,{flex:"shrink",paddingX:1,children:(0,_.jsx)(a.zx,{color:"red",fullWidth:!f,onClick:w,size:"lg",text:b})})]}),heading:(0,_.jsxs)(a.kC,{justifyContent:"between",children:[(0,_.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(a.X6,{accessibilityLevel:1,align:"start",size:"500",children:y}),(0,_.jsx)(a.xv,{children:v})]}),(0,_.jsx)(a.hU,{accessibilityLabel:m,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:P,size:"lg"})]}),isOpen:r,mobileAccessibilityCloseIconLabel:m,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:P,size:656}):(0,_.jsx)(d.Z,{description:v,heading:y,isOpen:r,onDismiss:P,primaryBtnParams:{text:g,color:"gray",onClick:P},secondaryBtnParams:{text:b,color:"red",onClick:w},type:"request-data"})})}var h=n("967629"),f=n("673016"),m=n("415797"),g=n("916225"),b=n("481457");function y({onClose:e,handleSubmit:t,errorMessage:n,currentViewParameter:r,currentComponent:d}){let p=(0,c.ZP)(),y=(0,o.Z)(),v=(0,u.HG)(),w=(0,s.TH)(),{getSingleValidator:P}=(0,m.Z)(""),x=P("passcode"),[S,A]=(0,i.useState)(!1),[E,I]=(0,i.useState)(!1),[C,k]=(0,i.useState)({value:"",error:void 0}),[T,j]=(0,i.useState)(),R=p._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),Z=p._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),N=(0,h.nk)(p._('Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'Subheading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,_.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(a.rU,{display:"inlineBlock",href:g.a$N,onClick:({event:e})=>{e.stopPropagation(),r&&d&&y({event_type:102,view_type:7,view_parameter:r,element:12765,component:d})},target:"blank",underline:"hover",children:p._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,i.useEffect)(()=>{r&&d&&y({event_type:13,view_type:7,view_parameter:r,component:d})},[r,d,y]),(0,i.useEffect)(()=>{A(!!C.value&&!C.error)},[C]);let O=(0,i.useCallback)(()=>{y({event_type:14590,view_type:7,view_parameter:r,component:14374})},[r,y]);(0,i.useEffect)(()=>{let e=w.pathname.replace(/\/$/,"");n&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(O(),I(!1)),j(n)},[n,O,w.pathname]);let M=e=>{let t=e.replace(/\s/g,"");if(e.length>4)return;let n=(0,b.a3)(t,x);T&&j(void 0),k({value:e,error:n})},z=()=>{E||(r&&d&&y({event_type:v?101:102,view_type:7,view_parameter:r,component:d,element:11925}),e())};return(0,_.jsx)(l.ZP,{accessibilityModalLabel:p._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!E,footer:(0,_.jsxs)(a.kC,{alignItems:"center",justifyContent:v?"end":"center",children:[v?(0,_.jsx)(a.xu,{paddingX:1,children:(0,_.jsx)(a.zx,{disabled:E,onClick:z,size:"lg",text:p._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog')})}):null,(0,_.jsx)(a.xu,{flex:v?"shrink":"grow",marginBottom:v?0:4,paddingX:v?1:4,children:(0,_.jsx)(a.zx,{color:"red",disabled:!S||E,fullWidth:!v,onClick:()=>{I(!0),r&&d&&y({event_type:v?101:102,view_type:7,view_parameter:r,component:d,element:12019}),t(C.value),I(!1)},size:"lg",text:p._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog')})})]}),heading:v?(0,_.jsxs)(a.kC,{justifyContent:"between",children:[(0,_.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(a.X6,{accessibilityLevel:1,align:"start",size:"500",children:Z}),(0,_.jsx)(a.xv,{children:N})]}),(0,_.jsx)(a.hU,{accessibilityLabel:R,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:z,size:"lg"})]}):(0,_.jsx)(a.X6,{accessibilityLevel:"none",align:"center",size:"300",children:p._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),isOpen:!0,mobileAccessibilityCloseIconLabel:R,mobileIsSlideUp:!0,onDismiss:z,size:656,children:(0,_.jsx)(a.xu,{paddingX:v?6:4,paddingY:3,children:(0,_.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:v?"start":"center",children:[v?null:(0,_.jsx)(a.xu,{marginBottom:7,maxWidth:325,children:(0,_.jsxs)(a.kC,{alignItems:"center",direction:"column",children:[(0,_.jsx)(a.xu,{marginBottom:6,children:(0,_.jsx)(a.X6,{accessibilityLevel:2,align:"center",size:"500",children:Z})}),(0,_.jsx)(a.xv,{align:"center",children:N})]})}),(0,_.jsxs)(a.xu,{marginBottom:v?0:4,position:"relative",width:"100%",children:[(0,_.jsx)(a.nv,{autoComplete:"off",errorMessage:C.error||T,id:"passcode",label:p._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),labelDisplay:v?"visible":"hidden",name:"passcode",onChange:({value:e})=>M(e),placeholder:"XXXX",size:"lg",type:"text",value:C.value}),E?(0,_.jsx)(f.Z,{accessibilityLabel:p._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}let{Provider:v,useHook:w}=(0,r.Z)("ParentalPasscodeValidateModal"),P=e=>e.startsWith("/settings/messages")?3709:({"/settings/profile-visibility":3907,"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[e],x=(e,t)=>t?14456:14374,S=({children:e})=>{let t=(0,o.Z)(),n=(0,s.TH)(),[r,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(),[u,d]=(0,i.useState)(),[h,f]=(0,i.useState)(void 0),[m,g]=(0,i.useState)([]),b=n.pathname.replace(/\/$/,""),w="/parental-passcode"===b||"/settings/account-settings"===b,[S,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(r){let e=P(b),t=x(b,w);d(e),c(t)}},[r,b,w]);let E=(0,i.useCallback)(e=>{f(void 0),m.map(t=>t(e||""))},[m]),I=(0,i.useCallback)(({handlePasscodeSent:e,requiresUnidirectionalPasscode:t=!1})=>{g(t=>[...t,e]),A(t),a(!0)},[]),C=(0,i.useCallback)(e=>{f(e)},[]),k=(0,i.useCallback)(()=>{d(void 0),c(void 0),g([]),f(void 0),a(!1)},[]),T=(0,i.useCallback)(e=>{e&&!w&&t({event_type:14591,view_type:7,view_parameter:u,component:14374}),k()},[k,u,t,w]),j=(0,i.useMemo)(()=>({handleSubmit:E,errorMessage:h,onClose:k,currentViewParameter:u,currentComponent:l,isOpen:r}),[E,h,k,u,l,r]),R=(0,i.useMemo)(()=>({getModalProps:j,closeModal:T,isModalOpen:r,setErrorMessage:C,setModalPropsAndOpen:I}),[j,T,r,C,I]);return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(v,{value:R,children:e}),r?S?(0,_.jsx)(p,{...j}):(0,_.jsx)(y,{...j}):null]})}},415797:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(708130),s=n(481457);function o(e){let t=(0,i.ZP)(),n=(0,s.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),o=(0,s.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),r=(0,s.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),a=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),l=(0,s.Gy)({min:4,max:4,minErrorString:a,maxErrorString:a}),c={passcode:[n,r,l],confirmPasscode:[n,r,l],backupEmail:[n,o,n=>{let i=[];return n===e&&i.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:i,warnings:[]}}],confirmBackupEmail:[n,o]},u=(e,n)=>{switch(e){case"confirmPasscode":return(0,s.sG)({targetValue:n.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,s.sG)({targetValue:n.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return()=>({errors:[],warnings:[]})}};return{getSingleValidator:e=>c[e],getValidators:(e,t)=>[...c[e],u(e,t)],getMatchingValidator:u}}},304843:function(e,t,n){n.d(t,{fs:()=>u,eK:()=>d,Ly:()=>_,BY:()=>h,eg:()=>r,kt:()=>f,rw:()=>p,bN:()=>m,RC:()=>l,EU:()=>c});let i=/\s\s+/g,s=e=>e.replace(i," ");var o=n("105161");let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),a=e=>"string"==typeof e?e:"",l=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,c=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:s,storyPinDataMetadataPinTitle:o})=>{let r=o||e,a=c(t,200);return a||n||i||(s&&r?r:null)},d=e=>{let{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",a=e.closeupUnifiedDescription||"",l=n.map(e=>(i||{})[e]||{name:e,url:""}),c="",u=(t||"").toLocaleLowerCase().trim(),d=r.toLocaleLowerCase().trim(),_=a.toLocaleLowerCase().trim();return a&&a.length>3&&_!==u?c=a:r&&r.length>3&&d!==u&&(c=r),c&&(c=s((0,o.ZP)(c,496)).trim()),{description:c,annotationsWithLinks:l}},_=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:s,storyPinDataMetadataPinTitle:o,pinJoinVisualAnnotation:a,seoNoindexReason:l,seoTitle:c})=>r.has(l??"")?c:u({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:s,storyPinDataMetadataPinTitle:o})||a?.[0]||e,p=(e,t,n,i,s)=>{let o=a(e).trim(),r=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return i&&i.trim().length?r(i.trim(),n):s&&s.trim().length?s.trim():o?r(o,n):n?n.join(", "):""},h=e=>`/pin/${e}/`,f=(e,t)=>{let n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},m=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:h(e)},643401:function(e,t,n){n.d(t,{X:function(){return i}});let i="favorited"},330323:function(e,t,n){n.d(t,{I:function(){return u},L:function(){return a},Z:function(){return _},mO:function(){return l},qK:function(){return d}});var i=n(694623),s=n(193733),o=n(813446);let r=async(e,t)=>{let n=(await (0,s.Z)({url:`/v3/ppm/advertiser_kpis/${t}/spend/${e}`})).resource_response.data||{};return n&&Object.keys(n).length>0?n:{}},a=async e=>{let t=(await (0,s.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response.data||null;t&&Object.keys(t).length>0&&"0"===t[e]&&(0,o.eP)(e)},l=async(e,t)=>{let n=await r(e,t);n&&Object.keys(n).length>0&&(0,o.M7)(n,e)},c=async e=>{let t=(await (0,s.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response.data||{};return t&&Object.keys(t).length>0?t:{}},u=async e=>{let t=await c(e);t&&Object.keys(t).length>0&&(0,o.F8)(t,e)},d=async()=>1===((await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response.data||null),_=async()=>{let e=(await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!e&&Object.keys(e).length>0}},13752:function(e,t,n){n.d(t,{kf:function(){return m},l5:function(){return h},of:function(){return _},xC:function(){return f},yz:function(){return p}});var i=n(667294),s=n(486188),o=n(998836),r=n(236256),a=n(331749),l=n(320288),c=n(785893);let{Provider:u,useMaybeHook:d}=(0,s.Z)("PwaContext"),_=({children:e,initialContext:t})=>{let[n,s]=(0,i.useState)(null),a=t||{pwaType:"unknown",twaType:null},d=a.pwaType;(0,r.Z)(()=>{let e=(0,o.FB)(window)||"unknown";s(e),d!==e&&(0,l.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:d,clientPwaType:e,conflict:"unknown"!==d&&"unknown"!==e}})});let _="unknown"===d&&n?n:d,{twaType:p}=a,h=(0,i.useMemo)(()=>({pwaType:_,twaType:p}),[_,p]);return(0,c.jsx)(u,{value:h,children:e})},p=()=>{let e=d();return e?.pwaType??"unknown"},h=()=>{let e=d();return e?.twaType??null},f=()=>"android-twa"===p(),m=()=>{let e=p(),t=(0,a.Z)();return"unknown"===e&&t?null:"windows"===e}},310703:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(667294),s=n(616550),o=n(677643);function r({children:e,scrollOn:t="animationFrame",disableForHashLinks:n}){let{action:r}=(0,s.k6)(),{hash:a,key:l,pathname:c}=(0,s.TH)(),u=(0,i.useRef)(l),d=(0,i.useRef)(c),_=(0,i.useRef)(!0),p=(0,i.useRef)({}),{shouldMaintainHomefeed:h,lastHFScrollPosition:f}=(0,o.Z)();return l!==u.current&&"PUSH"===r&&(p.current[u.current]=[window.scrollX,window.scrollY]),u.current=l,(0,i.useEffect)(()=>{window.history.scrollRestoration="manual"},[]),(0,i.useEffect)(()=>{let e=!_.current;_.current=!1;let i=n&&c===d.current&&!!a;if(d.current=c,!e||i)return;let s=()=>{h?window.scrollTo(...f):"PUSH"===r||"REPLACE"===r?window.scrollTo(0,0):Object.hasOwnProperty.call(p.current,l)?window.scrollTo(...p.current[l]):window.scrollTo(0,0)};"timeout"===t?setTimeout(s,0):requestAnimationFrame(s)},[r,l]),i.Children.only(e)}},662968:function(e,t,n){n.d(t,{o$:function(){return i},ty:function(){return s},vE:function(){return o}});let{Provider:i,MaybeConsumer:s,useMaybeHook:o}=(0,n(486188).Z)("inviteContext")},190937:function(e,t,n){n.d(t,{Z:function(){return i}});let i=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},272663:function(e,t,n){n.d(t,{A:function(){return d},Z:function(){return u}});var i=n(667294),s=n(980570),o=n(674320),r=n(264723),a=n(614269),l=n(664683),c=n(3915);function u(){let{trackConversionUpsellForContext:e}=(0,a.g)()||{},{trackConversionUpsellForContext:t}=(0,l.l)()||{},{viewType:n,viewParameter:i}=(0,r.SU)();return{trackConversionUpsell:({eventType:s,viewType:o,viewParameter:r,element:a,component:l,upsellReason:c,incrementUpsellReasonCounter:u})=>{let d=e||t;d&&d({eventType:s,viewType:o||n||202,viewParameter:r||i,element:a,component:l,upsellReason:c,incrementUpsellReasonCounter:u})}}}function d(){let e=(0,o.Z)(),t=(0,c.M0)(),n=(0,i.useRef)(null),r=()=>t.getItem(s.w0)&&Number.isInteger(t.getItem(s.w0))?t.getItem(s.w0):0,a=()=>{t.setItem(s.w0,r()+1)};return{trackConversionUpsellForContext:({eventType:t,viewType:i,viewParameter:o,element:l,component:u,upsellReason:d,incrementUpsellReasonCounter:_})=>{let p=(0,c.M0)();14688===t&&(p.setItem(s.bg,d||""),n.current=u,!1!==_&&a()),e({event_type:t,view_type:i,view_parameter:o,element:l,component:n.current,aux_data:{upsell_reason:p.getItem(s.bg)||null,upsell_view_count:r()}})}}}},604784:function(e,t,n){n.d(t,{M:function(){return r},Q:function(){return o}});var i=n(667294);let s=(0,i.createContext)(null),o=()=>(0,i.useContext)(s),r=s.Provider},564700:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(667294),s=n(561162);function o(){let{checkExperiment:e}=(0,s.F)();return{activateUnauthHoldoutExperiments:(0,i.useCallback)(()=>{e("lop_holdout_unauth_id_h2_2024")},[e]),userIsEligibleForShippedLOPExperiment:()=>"holdout"!==e("lop_holdout_unauth_id_h2_2024").group}}},721259:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(667294);function s(e,t){let n=(0,i.useRef)([]),[s,o]=(0,i.useState)(),[r,a]=(0,i.useReducer)(s??(()=>t),t),l=(0,i.useCallback)(t=>{s?a(t):(n.current.length||e().then(e=>{o(()=>e.default)}),n.current=[...n.current,t])},[e,s]);return(0,i.useEffect)(()=>{s&&(n.current.forEach(a),n.current=[])},[s]),[r,l]}},331749:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(667294);let s=()=>()=>{},o=()=>!1,r=()=>!0,a=()=>(0,i.useSyncExternalStore)(s,o,r)},663689:function(e,t,n){n.d(t,{A6:function(){return r},A9:function(){return P},AJ:function(){return m},BO:function(){return k},Eb:function(){return H},Eq:function(){return T},F$:function(){return s},GF:function(){return F},G_:function(){return C},H:function(){return et},Ht:function(){return S},Hv:function(){return d},Iu:function(){return D},Iv:function(){return en},Ix:function(){return W},KW:function(){return K},LN:function(){return A},Mj:function(){return c},Mr:function(){return a},NM:function(){return i},Pc:function(){return G},RX:function(){return h},TL:function(){return v},Tw:function(){return O},Uf:function(){return f},VI:function(){return Y},ZA:function(){return X},ZH:function(){return Z},Zg:function(){return z},_7:function(){return b},bH:function(){return j},bn:function(){return R},c:function(){return u},dt:function(){return E},eE:function(){return l},eZ:function(){return N},g:function(){return U},gN:function(){return Q},he:function(){return x},iE:function(){return y},iQ:function(){return M},jP:function(){return B},kG:function(){return g},kR:function(){return _},kS:function(){return $},lT:function(){return q},nM:function(){return I},oq:function(){return p},oz:function(){return L},rl:function(){return V},sC:function(){return w},wt:function(){return ee},xA:function(){return o},y6:function(){return J}});let i="/product-catalogs/",s="/business/catalogs/",o="/business/catalogs/overview/",r="/business/catalogs/data-sources/",a="/business/catalogs/product-groups/",l="/business/catalogs/diagnostics/",c="/business/catalogs/diagnosticsv2",u="/business/catalogs/trends",d="/business/catalogs/listings/",_="/business/catalogs/products/",p="/business/catalogs/pins/",h="/business/catalogs/bulk/",f="/business/catalogs/add-items/",m="/business/catalogs/:catalog_id/data-sources/feed-debugger/",g="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",b="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/detail",y="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",v="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/detail",w="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",P="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",x="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",S="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",A="/business/catalogs/:catalog_id/data-sources/",E="/business/catalogs/:catalog_id/data-sources/api/detail",I="/business/catalogs/:catalog_id/data-sources/regions/",C="/business/catalogs/:catalog_id/data-sources/stores/",k="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",T="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",j="/business/catalogs/:catalog_id/product-groups/create/",R="/business/catalogs/:catalog_id/product-groups/:product_group_id/",Z="/business/catalogs/:catalog_id/product-groups/bulk/",N="/business/catalogs/:catalog_id/product-groups/",O="/business/website-content-manager/",M="/business/catalogs/:catalog_id/listings/",z="/business/catalogs/:catalog_id/products/",L="/business/catalogs/:catalog_id/diagnostics/",D="/business/catalogs/:catalog_id/diagnosticsv2/",U="/business/catalogs/:catalog_id/trends/",B="/business/catalogs/:catalog_id/pins/",H="/business/catalogs/:catalog_id/bulk/",F="/business/catalogs/:catalog_id/add-items/",G=[r,A],W=[a,N],V=[l,L],K=[c,D],$=[u,k],X=[u,U],Y=[d,M],Q=[_,z],q=[p,B],J=[h,H],ee=[f,F],et="/business/catalogs/product-listings/",en=[et,"/business/catalogs/:catalog_id/product-listings/"]},362015:function(e,t,n){function i(e){return null==e}function s(e){return!i(e)}n.d(t,{G:function(){return s},k:function(){return i}})},826550:function(e,t,n){n.d(t,{I9:function(){return l},OY:function(){return u},ZP:function(){return a},tb:function(){return c}});var i=n(980570),s=n(122286),o=n(3915),r=n(481457);function a(e){return!(!e.match(r.CU)||(0,s.Z)(e)||(0,s.z)(e,"yahoo")||(0,s.z)(e,"hotmail"))}let l=()=>{o.ZP.setItem(i.Z4,!0)},c=()=>{o.ZP.setItem(i.Z4,!1)};function u(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,n=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,i=e.isAuth&&e.hasPassword;return t&&!n&&!i}},56464:function(e,t,n){let i;n.r(t),n.d(t,{default:()=>s9});var s,o,r,a=n("667294"),l=n("3915"),c=n("816720"),u=n("99699"),d=n("361190"),_=n("883119"),p=n("616550"),h=n("633021"),f=n("980570"),m=n("222183"),g=n("889627"),b=n("708130"),y=n("967629"),v=n("250595"),w=n("320288"),P=n("785893"),x=((s=x||{}).DISPLAYED="adblockmodal.displayed",s.DETECTED="adblockmodal.detected",s.NOT_DETECTED="adblockmodal.not_detected",s.DISMISSED="adblockmodal.dismissed",s.REFRESHED="adblockmodal.refreshed",s.DISABLED="adblockmodal.disabled",s.DISABLED_AFTER_DISPLAYED="adblockmodal.disabled_after_displayed",s);let S=h.Ry({displayedAt:h.Z_(),dismissedAt:h.Z_(),noAdBlockDetectedAt:h.Z_(),adblockDetectedAt:h.Z_()}),A=e=>{let t=new Date;return t.setDate(t.getDate()-30),!!e.dismissedAt&&new Date(e.dismissedAt)>t},E=(e,t,n)=>{let i=e?"adblockDetectedAt":"noAdBlockDetectedAt";if(t[i])return;let s=e?x.DETECTED:x.NOT_DETECTED,o=!e&&t.adblockDetectedAt,r=o?x.DISABLED:s;t[i]=new Date().toISOString(),n(t),(0,w.nP)(r,{sampleRate:1}),o&&t.displayedAt&&(0,w.nP)(x.DISABLED_AFTER_DISPLAYED,{sampleRate:1})};function I(){let[e,t]=(0,v.Z)(f.Oy),n=S.cast({}),i=e||n,s=(0,p.k6)(),[o,r]=(0,a.useState)(!1),[l,c]=(0,a.useState)(A(i)),u=(0,b.ZP)(),d=["/business/"].some(e=>s.location.pathname.includes(e));(0,a.useEffect)(()=>{o&&!i.displayedAt&&(t({...i,displayedAt:new Date().toISOString()}),(0,w.nP)(x.DISPLAYED,{sampleRate:1}))},[i,r,o,t]),(0,a.useEffect)(()=>{window&&(0,m.Z)(e=>{E(e,i,t),e&&r(e)})},[i,t]);let h=()=>{(0,w.nP)(x.DISMISSED,{sampleRate:1}),t({...i,dismissedAt:new Date().toISOString()}),c(!0)};return!d&&o&&!l&&(0,P.jsx)(_.mh,{zIndex:g.b7,children:(0,P.jsx)(_.WB,{accessibilityModalLabel:u._('Ad blocker modal', 'adBlockModal.modal.accessibilityModalLabel', 'Announces the ad blocker modal to the user'),heading:u._('Ad Blocker detected', 'adBlockModal.modal.header.heading', 'Main modal heading announcing ad blocker detection on the browser'),onDismiss:h,primaryAction:{accessibilityLabel:u._('Dismiss ad blocker modal', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:u._('Got it', 'adBlockModal.primaryAction.button.dismiss', 'Button for dismissing the message and closing the modal window'),onClick:h},secondaryAction:{accessibilityLabel:u._('Refresh after deactivating ad blocker', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:u._('Refresh', 'adBlockModal.secondaryAction.button.refresh', 'Button for refreshing page'),onClick:()=>{(0,w.nP)(x.REFRESHED,{flushImmediate:!0,sampleRate:1}),s.go(0)}},type:"error",children:(0,P.jsxs)(_.kC,{direction:"column",gap:6,children:[(0,P.jsx)(_.xv,{inline:!0,children:(0,y.XB)({text:u._('Please <strong id="1">disable your ad blocker</strong> to access more features and get the full experience of Pinterest.', 'adBlockModal.modal.text.guidelines', 'Instruction to disable the ad blocker.'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,P.jsx)(_.xv,{inline:!0,weight:"bold",children:e},1)}})}),(0,P.jsx)(_.xv,{children:u._('After you disable the ad blocker, please refresh the page.', 'adBlockModal.modal.text.afterDisable', 'Instruction to refresh the page after ad blocker is disabled')})]})})})}function C(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(e)},[t]),!!e&&(0,P.jsx)(I,{})}var k=n("399049"),T=n("55077"),j=n("959474"),R=n("581722"),Z=n("694623"),N=n("572934"),O=n("280291"),M=n("900114"),z=n("735429"),L=n("104994"),D=n("11602"),U=n("272535"),B=n("792441"),H=n("52302");let F=(0,H.Z)(()=>n.e("34093").then(n.bind(n,958698)),void 0,"LimitedLoginModalCommon");function G(){return(0,P.jsx)(F,{fallback:(0,P.jsx)(_.xu,{})})}var W=n("86485"),V=n("219300"),K=n("752985"),$=n("558919");function X(){let{logContextEvent:e}=(0,V.v)(),t=(0,b.ZP)(),[n,i]=(0,a.useState)(),[s,o]=(0,a.useState)(),[r,l]=(0,a.useState)();(0,a.useEffect)(()=>{let n=t._('Sorry! Something went wrong on our end.', ' - ', ' -- '),s=t._('Something went wrong', ' - ', ' -- ');return K.Z.setShowHtmlErrorCallback((t=n,r,a=s)=>{t===n&&a===s&&e({event_type:13,component:9,view_type:17,view_parameter:3237});let c=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");i(r),o(a||""),l(c)}),()=>{K.Z.setShowHtmlErrorCallback(()=>{})}},[e,i,o,l,t]);let c=()=>{"function"==typeof n&&n(),i(null),o(null),l(null)};return r?(0,P.jsx)($.ZP,{accessibilityModalLabel:t._('An error occurred', ' - ', ' -- '),footer:(0,P.jsx)(_.kC,{alignItems:"stretch",justifyContent:"end",children:(0,P.jsx)(_.zx,{color:"red",onClick:c,text:t._('Okay', ' - ', ' -- ')})}),heading:s,onDismiss:c,size:"sm",children:(0,P.jsx)(_.xu,{"data-test-id":"error-modal",margin:5,children:(0,P.jsx)(_.xv,{children:r})})}):null}var Y=n("310387"),Q=n("710510"),q=n("24461"),J=n("551304"),ee=n("793561"),et=n("539709"),en=n("3879");let ei="web.com.pinterest.www";var es=n("887817"),eo=n("673695"),er=n("45389"),ea=n("598098"),el=n("137123"),ec=n("236256"),eu=n("663689");function ed({isPartner:e,location:t}){return e&&(t.pathname.includes(eu.NM)||t.pathname.includes(eu.F$))}var e_=n("373041"),ep=n("739049"),eh=n("826550"),ef=n("8030"),em=n("373616"),eg=n("391374"),eb=n("176970"),ey=n("903979");class ev extends a.Component{constructor(...e){var t,n,i;super(...e),n={mounted:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;let e=this.props.i18n._(`Oh no! Pinterest doesn't work unless you <a style="text-decoration: underline;
      color: #fff" href="http://enable-javascript.com/" target="_blank"
      rel="noopener noreferrer nofollow">turn on JavaScript.</a>`, 'Nag to tell users Javascript is disabled and the site is broken without it', 'Nag to tell users Javascript is disabled and the site is broken without it');return(0,P.jsx)("noscript",{children:(0,P.jsx)(ey.Z,{message:e},"noscriptNag")})}}function ew(e){let t=(0,b.ZP)();return(0,P.jsx)(ev,{...e,i18n:t})}let eP=(0,a.lazy)(()=>n.e("88554").then(n.bind(n,938355))),ex=(0,a.lazy)(()=>n.e("99251").then(n.bind(n,795477))),eS=(0,a.lazy)(()=>n.e("54385").then(n.bind(n,54330))),eA=(0,a.lazy)(()=>n.e("44955").then(n.bind(n,53027)));class eE extends a.Component{constructor(e,t){var n,i,s;super(e,t),n="removeNag",i=e=>{this.setState(t=>({nags:t.nags.filter(t=>t!==e)}))},(n="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?s:String(s))in this?Object.defineProperty(this,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[n]=i;let o=[...this.props.nags||[]];this.state={nags:o}}componentDidUpdate(){q.Z.updateObstructions()}render(){let{experience:e}=this.props;if(e?.experience_id===502597)return(0,P.jsx)(Y.Z,{eligibleTypes:[13],placementId:30,children:({complete:e})=>(0,P.jsx)(W.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,P.jsx)(eo.Z,{children:(0,P.jsx)(ex,{handleComplete:e,isNag:!0})})})});let{nags:t}=this.state,n=!!(e&&500711===e.experience_id);return(0,P.jsxs)("div",{className:"Nags","data-test-id":"nags-container",id:eg.OZ,children:[(0,P.jsx)(ew,{}),(0,P.jsx)(Y.Z,{eligibleTypes:n?[13]:[2],placementId:30,children:({complete:e,dismiss:t,experience:i})=>(0,P.jsx)(W.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,P.jsx)(eo.Z,{children:n?(0,P.jsx)(eS,{complete:e,dismiss:t,experience:i}):(0,P.jsx)(eP,{complete:e,dismiss:t,experience:i})})})}),!e&&t[0]?(0,P.jsx)(W.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,P.jsx)(eo.Z,{children:(0,P.jsx)(eA,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function eI(e){let{experience:t}=(0,eb.Z)(30);return(0,P.jsx)(eE,{...e,experience:t})}let eC=(0,H.Z)(()=>n.e("64253").then(n.bind(n,439318)),void 0,"ProPartnerHeaderDesktop"),ek=(0,H.Z)(()=>Promise.resolve().then(n.bind(n,491154)),void 0,"SosAdminHeaderDesktop"),eT=(0,H.Z)(()=>n.e("52877").then(n.bind(n,448747)),void 0,"AuthDesktopHeader"),ej=e=>e.isSosV3HeaderEnabled?(0,P.jsxs)(_.xu,{children:[(0,P.jsx)(ek,{currentSite:e.currentSite}),(0,P.jsx)(eC,{...e})]}):(0,P.jsx)(eC,{...e});function eR({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:i}){let{enabled:s}=(0,N.Z)(),o=(0,T.ZP)(),r=(0,p.TH)(),l="desktop"===o?"DESKTOP":"MOBILE",c=(0,R.v9)(({experiences:e})=>e),u=i.isAuth&&i.isPartner,d=9===(c[11]||{}).type?null:(0,P.jsx)(eI,{experience:c[30],nags:i.nags||[]}),h=r.search&&(0,el.mB)(r.search).advertiserId,[f,m]=(0,a.useState)(!1),{is_sterling_on_steroids:g,sterling_on_steroids_ldap:b,is_internal_ip:y}=(0,ef.u)();(0,a.useEffect)(()=>{!async function(){if(g&&b&&y){let e=await (0,em.bv)({sos_user_ldap:b});m(e&&!!e.is_test_user)}else m(!1)}()},[g,b,y]);let v=80;return u&&g&&f&&(v=128),(0,P.jsx)(_.xu,{"data-test-id":`header-${u?"PartnerHeader":"Header"}`,children:u?t||n&&h||e?(0,P.jsx)(_.xu,{"data-test-id":"pro-partner-header",height:v,children:(0,P.jsx)(ej,{currentSite:l,isShoppingCatalogs:t,isSosV3HeaderEnabled:f,suppressSearchBox:!0,totalHeaderHeight:v})}):(0,P.jsx)(_.xu,{"data-test-id":"pro-partner-header",height:v,children:(0,P.jsx)(ej,{currentSite:l,isSosV3HeaderEnabled:f,nags:d,totalHeaderHeight:v})}):(0,P.jsx)(eT,{currentSite:l,fallback:(0,P.jsx)(_.xu,{height:eg.cI,width:"100%"}),isVerticalNavEnabled:s,nags:d,viewer:i})})}var eZ=n("431710"),eN=n("966539"),eO=n("519143"),eM=n("943281"),ez=n("353556"),eL=n("968964"),eD=n("167912"),eU=n("962520"),eB=n("537618"),eH=n("131548"),eF=n("561162");let eG=void 0!==o?o:o=n(827338),eW=(0,H.Z)(()=>Promise.all([n.e("49606"),n.e("64117")]).then(n.bind(n,623095)),{ssr:!1}),eV=({pinKey:e})=>{let t;let n=(0,j.Z)(),i=(0,p.TH)(),{checkExperiment:s}=(0,eF.F)(),o=(0,eH.Z)(eG,e),r=!!n.isAuth&&n.isPartner,a=ed({isPartner:r,location:i})||(0,J.rk)(i)||(0,J.dW)(i)||(0,J.bb)(i),l=(0,J.O7)(i)||(0,J.RU)(i)&&r,{closeupWithinMasonryEnabled:c}=(0,eU.Z)(n.isAuth),u=s("ce_dweb_comment_feed_redesign").anyEnabled;o?.storyPinData&&!c&&(t=u?122:172);let d=(0,es.Z)({name:"UserSettingsResource"});return(0,P.jsx)(_.xu,{"data-test-id":"footer",children:(0,P.jsx)(eB.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,P.jsx)(eW,{hideQuestionMarkButton:a,isPartner:r,liftFooterButtonByPx:t,settingsDataRef:d,showInsiteFeedback:l})})})};var eK=n("634943"),e$=n("907067"),eX=n("458199"),eY=n("563341"),eQ=n("116777");function eq({children:e}){let[t,n]=(0,a.useState)(null),[i,s]=(0,a.useState)(!1),o=(0,a.useMemo)(()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:i,toggleTooltipOnLogoButton:s}),[t,i]);return(0,P.jsx)(eQ.e,{value:o,children:e})}var eJ=n("102635"),e0=n("990833"),e1=n("359919"),e3=n("861025"),e2=n("145797"),e6=n("689019"),e8=n("342117"),e5=n("803736"),e9=n("546013"),e4=n("637859"),e7=n("784929"),te=n("926282"),tt=n("197640"),tn=n("723579"),ti=n("6340"),ts=n("748837"),to=n("785328"),tr=n("688891");let ta={selectedNav:void 0,isPanelOpen:e=>!1,updatePanelState:(e,t)=>{},togglePanelState:e=>{}},tl=(0,a.createContext)(ta),tc=()=>(0,ts.Z)(!0);function tu({children:e}){let{pathname:t}=(0,p.TH)(),n=(0,j.Z)(),i=tc(),s=(0,to.Z)({username:n.isAuth?n.username:void 0,isIdeaPinRenamingEnabled:i}),o=(0,tr.Z)({pathname:t,iconRoutes:s})||void 0,[r,l]=(0,a.useState)({news:!1,conversations:!1,settings:!1}),[c,u]=(0,a.useState)(!1),d=(0,a.useCallback)((e,t)=>{"conversations"!==e||t||(u(!0),setTimeout(()=>{u(!1)},125)),l(n=>({...n,[e]:t}))},[]),_=(0,a.useCallback)(e=>{d(e,!r[e])},[r,d]),h=(0,a.useCallback)(e=>r[e],[r]),f=Object.values(r).some(e=>e)||c?void 0:o,m=(0,a.useMemo)(()=>({selectedNav:f,isPanelOpen:h,updatePanelState:d,togglePanelState:_}),[f,h,d,_]);return(0,P.jsx)(tl.Provider,{value:m,children:e})}var td=n("252194"),t_=n("283207"),tp=n("89901"),th=n("812035");let tf=()=>{let e=(0,tp.t)(),t=tc(),n=(0,e5.Z)(),{isFbAuthOnlyUser:i}=e,s=(0,j.Z)(),o="desktop"===(0,T.ZP)()?"DESKTOP":"MOBILE",r=(0,R.v9)(({experiences:e})=>e),l=9===(r[11]||{}).type,c=(0,b.ZP)(),u=(0,a.useMemo)(()=>({currentSite:o}),[o]),{selectedNav:d,updatePanelState:p,togglePanelState:h,isPanelOpen:f}=(0,a.useContext)(tl)||ta,m=(0,a.useRef)(null),g="VerticalNav-MoreOptions-Flyout",y=f("settings"),{appUI:{showTypeaheadOverlay:v}}=(0,eZ.I)(),{group:x}=(0,N.Z)(),S=(0,e3.Z)(1000109),A=(0,ti.iz)(x),E=x===ti.lR.EMPLOYEES||x===ti.lR.ENABLED||x===ti.lR.ENABLED_HOME_AND_LOGO,I=x===ti.lR.ENABLED_HOME_BUTTON||x===ti.lR.ENABLED_HOME_AND_LOGO;return(0,P.jsxs)(tt.F,{value:u,children:[(0,P.jsx)(e8.Z,{unsafeCSS:`
          /* Target the Pinterest logo home button */
          a[aria-label="Home"], a[aria-label="Home"] > div {
            border-radius: ${ti.X$}px !important;
          }
      `}),(0,P.jsxs)(_.xu,{alignItems:"center",as:"nav",color:"light",dangerouslySetInlineStyle:{__style:{borderRight:`1px solid ${ti.bd}`}},direction:"column",display:"flex",height:"100vh",id:ti.Lc,overflow:"auto",position:"fixed",width:ti.Qf,zIndex:v?ti.mT:ti.pS,children:[l||!s.isAuth?null:(0,P.jsx)(eI,{experience:r[30],nags:s.nags||[]}),(0,P.jsx)(_.xu,{height:"100%",paddingY:4,children:(0,P.jsxs)(_.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:`${ti.df}px`}},direction:"column",display:"flex",height:"100%",justifyContent:"between",children:[(0,P.jsxs)(_.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:`${ti.df}px`}},direction:"column",display:"flex",children:[E?(0,P.jsx)(_.kC.Item,{children:(0,P.jsx)(te.Z,{defaultPaddingBasedOnSize:!0,onClick:()=>(0,w.nP)(ti.Un.PINTEREST_LOGO,A),size:ti.Z7,tooltip:{text:c._('Home', 'verticalNav.homeButton.section', 'tooltip text for home button in nav bar'),idealDirection:ti.Mh,zIndex:ti.BO}})}):null,I?(0,P.jsx)(_.kC.Item,{children:(0,P.jsx)(tn.Eq,{defaultSvgUrl:tn.vX.home.default,href:"/",onSelect:()=>(0,w.nP)(ti.Un.HOME,A),selected:"home"===d,selectedSvgUrl:tn.vX.home.selected,tooltipText:c._('Home', 'verticalNav.homeButton.section', 'tooltip text for home button in vertical nav bar')})}):null,n?(0,P.jsxs)(_.xu,{position:"relative",children:[(0,P.jsx)(tn.Eq,{defaultSvgUrl:tn.vX.today.default,href:(0,th.tG)(),onSelect:()=>{(0,w.nP)(ti.Un.TODAY,A),S.completeExperience(1000109,505586)},selected:"today"===d,selectedSvgUrl:tn.vX.today.selected,tooltipText:c._('Explore', 'verticalNav.exploreButton.section', 'tooltip text for explore button in vertical nav bar')}),(0,P.jsx)(Y.Z,{eligibleIds:[505586],placementId:1000109,children:(0,P.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{top:"20px",right:"8px"}},position:"absolute",children:(0,P.jsx)(e7.B1,{i18n:c})})})]}):null,(0,P.jsx)(_.kC.Item,{children:(0,P.jsx)(tn.Eq,{defaultSvgUrl:tn.vX.create.default,href:(0,e1.Z)(t),onSelect:()=>(0,w.nP)(ti.Un.CREATE,A),selected:"create"===d,selectedSvgUrl:tn.vX.create.selected,tooltipText:c._('Create', 'verticalNav.createButton.section', 'tooltip text for create button in nav bar')})}),(0,P.jsx)(_.kC.Item,{children:(0,P.jsx)(e4.Z,{defaultIconColor:"default",idealTooltipDirection:ti.Mh,onPanelChange:e=>{p("news",e),e&&(0,w.nP)(ti.Un.NEWS,A)},selectedIconColor:"default",tooltipText:c._('Updates', 'verticalNav.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications'),zIndex:ti.BO})}),s.isAuth&&s.should_show_messaging?(0,P.jsx)(_.kC.Item,{children:(0,P.jsx)(td.Z,{defaultIconColor:"default",idealTooltipDirection:ti.Mh,onPanelChange:e=>{p("conversations",e),e&&(0,w.nP)(ti.Un.CONVERSATIONS,A)},selectedIconColor:"default",zIndex:ti.BO})}):null]}),(0,P.jsxs)(_.kC.Item,{children:[(0,P.jsx)(tn.Eq,{ref:m,defaultSvgUrl:tn.vX.moreOptions.default,onSelect:()=>{y||(0,w.nP)(ti.Un.MORE_OPTIONS),h("settings")},selected:y,selectedSvgUrl:tn.vX.moreOptions.selected,tooltipText:c._('More options', 'verticalNav.moreOptionsButton.tooltip', 'Tooltip text for icon button to open more options/settings menu')}),(0,P.jsx)(e8.Z,{unsafeCSS:`
              /* Subtitle text tied to the Dropdown.Section */
              #${g} [aria-label] > [role="presentation"] {
                padding: 12px !important;
              }

              /* Adjust spacing for each highlightable menu item */
              #${g} [role="menuitem"] > div {
                padding: 12px !important;
              }
              div:has(> #${g}) {
                left: 16px !important;
              }
              #${g} {
                max-width: ${ti.GJ}px !important;
                width: ${ti.GJ}px !important;
              }
        `}),(0,P.jsx)(e9.T,{children:(0,P.jsx)(t_.j,{children:y?(0,P.jsx)(e2.Z,{anchor:m.current,dropdownId:g,idealDirection:"right",isPersistentArrUpsellEnabled:i,isWwwSite:(0,e6.YG)(o),onDismiss:()=>{p("settings",!1)},showAccountSwitcher:!1,showMoreOptions:!0,zIndex:ti.m6}):null})})]})]})})]})]})},tm=()=>(0,P.jsx)(tu,{children:(0,P.jsx)(tf,{})});var tg=n("593705"),tb=n("150512"),ty=n("933404"),tv=n("499333"),tw=n("349573"),tP=n("330323"),tx=n("952956"),tS=n("916225"),tA=n("965285"),tE=n("202583");let tI=(e,t,n)=>{setTimeout(()=>{t?e(t):e()},n||300)},tC=void 0!==r?r:r=n(124249);function tk(){let{unauthId:e,country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:s}=(0,en.B)(),{checkExperiment:o}=(0,eF.F)(),r=(0,j.Z)(),l=tS.nBl.includes(s),c=tS.PRI.includes(s),u=(0,eD.useLazyLoadQuery)(tC,{}),d=u.v3GetThirdPartyTrackingSettingsQuery?.data,[_,p]=(0,a.useState)(d&&d.sendPixel&&!c),[h,f]=(0,a.useState)(d&&d.sendEventsToFacebook&&!c),m=r.isAuth?r.id:null,g=m||"",b=(0,R.I0)(),[y,v]=(0,a.useState)(!1),w="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;return(0,a.useEffect)(()=>{let r=!1,a=e=>{b((0,tE._L)({field:"personalize_from_offsite_browsing",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:tx.i.SETTINGS,userId:g})),b((0,tE._L)({field:"ads_customize_from_conversion",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:tx.i.SETTINGS,userId:g})),b((0,tE._L)({field:"third_party_marketing_tracking_enabled",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:tx.i.SETTINGS,userId:g})),b((0,tE._L)({field:"ccpa_opted_out",value:!e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:tx.i.SETTINGS,userId:g})),b((0,tE._L)({field:"third_party_ads_personalization",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:tx.i.SETTINGS,userId:g}))};if(async function(){if(w&&l)try{let e=await (0,tP.qK)();r||e||(await (0,tP.Z)(),await a(!1),p(!1),f(!1))}catch{}r||v(!0)}(),y&&_){let r=o("ppm_p_gate").anyEnabled;tI(tA.jO,{pixelBlocked:r}),(0,tw.c_)({country:t,countryFromHostName:n,countryFromIp:i})&&(tI(tA.X,{id:tb.me,eventCategory:"Logins",eventName:"LoggedInViews"}),tI(tA.X,{id:tb.Ph,eventName:"Desktop"})),(0,tw.$r)({country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:s})&&tI(tA.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"}),(0,tw.NR)({country:t,regionFromIp:s})&&e&&m&&(tI(tA.fh,{unauthId:e,userId:m}),tI(tA.c,{id:tv.xA,unauthId:e,userId:m,eventCategory:"EngagedSessions",eventName:"Desktop"},6e4)),(0,tw.Fc)({country:t,countryFromHostName:n,countryFromIp:i})&&e&&m&&tI(tA.Xn,{unauthId:e,userId:m})}return()=>{r=!0}},[o,t,n,i,s,w,y,e,m,l,g,_,b]),(0,a.useEffect)(()=>{y&&_&&((0,tw.c_)({country:t,countryFromHostName:n,countryFromIp:i})&&(0,ty.Z)(null,r,28)&&tI(tA.X,{id:tb.Nv,eventName:"Desktop",eventCategory:"RezLogins"}),(0,tw.NR)({country:t,regionFromIp:s})&&e&&m&&(0,ty.Z)(null,r,28)&&(0,tA.EN)({pixelId:tv.Dq,eventCategory:"RezLogins",eventName:"Desktop"}))},[t,n,i,s,r,e,m,y,_]),(0,a.useEffect)(()=>{y&&h&&(tI(tA.Um),(0,tw.Fc)({country:t,countryFromHostName:n,countryFromIp:i})&&tI(tA.KT))},[t,n,i,h,y]),null}var tT=n("820368");function tj(){let e=(0,a.useRef)(0),t=(0,a.useRef)(null),n=(0,tT.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),i=(0,tT.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:s}}=(0,ez.Z)();return(0,a.useEffect)(()=>((function i(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(i,2e3+e.current),e.current=Math.min(2*(e.current||5e3),9e5)})(),function(){t.current&&clearTimeout(t.current)}),[]),(0,a.useEffect)(()=>i.refresh(),[s]),null}var tR=n("674320"),tZ=n("543123"),tN=n("193733"),tO=n("267515");let tM=(e,t,n,i)=>{let s=(0,tO.FK)(e),o={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};(0,tN.Z)({url:`/v3/users/devices/web/${s}/`,method:"PUT",data:o}),(0,tO.dO)(`web.notifications_upsell.${(0,tO.Sb)(t)}.subscribed`,n),(0,w.nP)("web.push_upsell.allowed",{sampleRate:1,tags:{web_push_exp_group:n.experimentName}});let r=(0,tO.$V)(t);i({component:13123,element:10355,event_type:102,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})},tz=(e,t,n)=>{(0,tO.dO)(`web.notifications_upsell.${(0,tO.Sb)(e)}.denied`,t),(0,w.nP)("web.push_upsell.denied",{sampleRate:1,tags:{web_push_exp_group:t.experimentName}});let i=(0,tO.$V)(e);n({component:13123,element:14371,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})};async function tL(e,t,n,s){let o="undefined"!=typeof navigator?navigator.serviceWorker:null,r="Notification"in window&&"default"!==Notification.permission;if(r)return;let a=l.ZP.getItem(f.X_);if(a){let e=parseInt(a,10);if(Date.now()-e<2592e6)return}try{let e=await o?.register("/sw.js");if(!e?.showNotification)return}catch(e){return}if(o&&o.ready&&k.t&&!r){let r;t({event_type:13,view_type:4015,component:13123,aux_data:{experiment_name:n,experiment_group:s}});let a={experimentName:n||"noExperiment",experimentGroup:s||"noGroup",browser:i?.getState().session.browser,version:Math.floor(parseInt(i?.getState().session.browserVersion,10))};(0,tO.dO)(`web.notifications_upsell.${(0,tO.Sb)(e)}.viewed`,a);try{let e=await fetch("/getWebPushKey"),{key:t}=await e.json();r=t}catch(e){(0,w.nP)("web.push_upsell.getWebPushKey.err",{sampleRate:1,tags:{errMessage:(0,tZ.Z)(e,"message")}});return}let c={userVisibleOnly:!0,applicationServerKey:(0,tO.Mp)(r)};try{let n=await o.ready,i=await n.pushManager.subscribe(c);if(!i)throw Error();tM(i,e,a,t)}catch(n){(0,w.nP)("web.push_upsell.serviceWorkerSubscribe.err",{sampleRate:1,tags:{errMessage:(0,tZ.Z)(n,"message"),web_push_exp_group:s}}),"denied"===Notification.permission?tz(e,a,t):"default"===Notification.permission&&l.ZP.setItem(f.X_,Date.now().toString())}}}function tD({experimentName:e="",experimentGroup:t=""}){let n=(0,p.TH)(),i=(0,tR.Z)();return(0,a.useEffect)(()=>{tL(n,i,e,t)},[n,i,e,t]),null}var tU=n("191953"),tB=n("953958"),tH=n("757892");let tF=(0,a.createContext)(!1);var tG=n("115054"),tW=n("677157");let tV=new _.H3([ti.mT]);function tK(){let{appUI:{showTypeaheadOverlay:e}}=(0,eZ.I)();return e?(0,P.jsx)(_.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},left:!0,position:"fixed",right:!0,top:!0,zIndex:tV}):null}var t$=n("744031");let tX=(0,H.Z)(()=>n.e("1557").then(n.bind(n,360345)),{ssr:!1}),tY=(0,H.Z)(()=>Promise.all([n.e("90124"),n.e("68794")]).then(n.bind(n,240969)),{ssr:!1}),tQ=(0,H.Z)(()=>n.e("669").then(n.bind(n,760774)),{ssr:!1}),tq=(0,H.Z)(()=>n.e("83576").then(n.bind(n,954215)),{ssr:!1}),tJ=(0,H.Z)(()=>n.e("48259").then(n.bind(n,456532)),void 0,"app-www-Authentication-PersonalizedLoginFlyout"),t0=(0,H.Z)(()=>Promise.all([n.e("8316"),n.e("28312"),n.e("68057"),n.e("32426"),n.e("46396")]).then(n.bind(n,457750)),void 0,"FullHeightInboxDesktop"),t1=(0,H.Z)(()=>Promise.all([n.e("70402"),n.e("57425")]).then(n.bind(n,378227)),void 0,"AuthDesktopCSSImports"),t3=({isPartner:e,location:t})=>e&&t.pathname.includes(eN.GW),t2=({isPartner:e,location:t})=>e&&t.pathname.includes(eO.GW),t6=()=>{let e=(0,tH.AF)(),t=(0,p.TH)(),n=(0,p.LX)(t.pathname,{path:"/pin/:id",exact:!0}),i=n&&n.params.id||null,s=i&&((e[i]||{}).images||{})["474x"];return s?{url:s.url,width:s.width,height:s.height}:null};function t8({children:e}){let{appUI:{viewportSize:t},setIsAutoplay:n,setViewportSize:i}=(0,eZ.I)(),{dismiss:s,reportData:o}=(0,t$.f)(),{loginForMore:r}=(0,tg.H)(),l=(0,a.useRef)(null),{enabled:c}=(0,N.Z)(),u=(0,e0.Z)(),d=(0,j.Z)(),[h,f]=(0,a.useState)(!1),m=!!d.isAuth&&d.isPartner,g=!!d.isAuth&&d.isLimitedLogin,b=d.isAuth&&!d.isLimitedLogin,y=d.isAuth?d.username:"",v=(0,p.k6)(),w=(0,p.TH)(),x=(0,en.B)(),{pathname:S}=w,A=l.current,E=!((0,J.jC)(w)||(0,J.x7)(w))&&b,I=(0,el.mB)(w.search),{conversation_id:C,tab:k}=I,{conversations:{showConversationsDropdown:T},conversationOpen:H,dropdownOpen:F}=(0,ez.Z)(),V=d.isAuth&&!d.isLimitedLogin&&(0,ee.Z)(w),K=(0,R.I0)(),$=t6(),eu=p.LX(w.pathname,{path:"/pin/:id",exact:!0})?.params.id,ef=(0,tH.S6)()(eu||""),{userAgent:{browserName:em}}=x,eb=(0,R.v9)(e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{});(0,ec.Z)(()=>{function e(e){Object.keys(eb||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),(0,ec.Z)(()=>{!function(e){if(window.safari&&window.safari.pushNotification&&e.isAuth)try{let t=window.safari.pushNotification.permission(ei);if("default"===t.permission){let t=e.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",ei,{uid:t},()=>{})}}catch(e){}}(d)}),(0,a.useEffect)(()=>{U.Z.extensionReady(em).then(U.Z.initBrowserExtension)},[em]),(0,ec.Z)(()=>{setTimeout(()=>{n(!0)},300)}),(0,a.useEffect)(()=>{g||(C&&H(C),"inbox"===k&&F())},[C,k,H,F,g]);let ey=(0,tU.Z)(w);(0,a.useEffect)(()=>(A instanceof HTMLElement&&q.Z.addObstruction("top",A),()=>{A instanceof HTMLElement&&q.Z.removeObstruction("top",A)}),[A]);let[ev,ew]=(0,a.useState)(!!r?.visible||!g),eP=(0,er.Z)(()=>{let e="lg";window&&window.innerWidth<1056&&(e=window.innerWidth<680?"sm":"md"),t!==e&&(0,a.startTransition)(()=>i(e))},200);return(0,ec.Z)(()=>(window.addEventListener("resize",eP),eP(),()=>{window.removeEventListener("resize",eP)})),(0,a.useEffect)(()=>{f(S!==`/${y}/`)},[S,y]),(0,a.useEffect)(()=>{Z.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:y}).callGet().then(e=>{let{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&K((0,tB.p)(n.id,n.name,n.url))})},[K,y]),(0,es.Z)(h?{name:"UserResource",options:{field_set_key:"profile",username:y}}:null),(0,es.Z)(h?{name:"UserMetadataResource",options:{user:{id:y}}}:null),(0,P.jsxs)(tF.Provider,{value:!!I.social_debug,children:[(0,P.jsx)(t1,{}),(0,P.jsx)(e_.Z,{children:(0,P.jsx)(ep.Z,{viewerAdvertiser:x.advertiser,children:(0,P.jsx)(eM.Z,{children:(0,P.jsx)(tW.Z,{children:(0,P.jsx)(et.T,{children:(0,P.jsx)(eL.N,{children:(0,P.jsx)(M.b,{children:(0,P.jsx)(L.p,{children:(0,P.jsx)(z.d,{children:(0,P.jsxs)(B.c4,{value:$,children:["undefined"!=typeof window&&window.Windows&&(0,P.jsx)(W.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,P.jsx)(tq,{onActivated:e=>{v.push(e)}})}),!r?.visible&&d.isAuth&&d.isLimitedLogin&&!(0,J.Xn)(w)&&!(0,J.OK)(w)&&!(0,J.FO)(w)&&!(0,J.re)(w)&&(0,P.jsx)(tJ,{attributionLabel:w.state?.attributionLabel,fallback:(0,P.jsx)(_.xu,{}),shouldHideFlyout:ev,triggerModal:()=>{r&&r.setVisible(!0),ew(!0)},viewer:d}),(0,P.jsx)(eY.Z,{children:(0,P.jsx)(eJ.Hv,{children:(0,P.jsx)(eq,{children:(0,P.jsx)(tp.I,{children:(0,P.jsx)(eK.i3,{children:(0,P.jsx)(tG.j,{children:(0,P.jsx)(e$.Z,{children:(0,P.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[c?(0,P.jsx)(tm,{}):null,(0,P.jsxs)(_.xu,{role:"banner",children:[(0,P.jsx)(ea.Z,{}),(0,P.jsxs)(_.xu,{ref:l,dangerouslySetInlineStyle:{__style:{left:u}},"data-test-id":"header",id:eg.WZ,position:"fixed",right:!0,top:!0,zIndex:new _.Ry(eg.fe),children:[r?.visible&&!(0,J.re)(w)||g&&w.pathname.includes("/repin/")?(0,P.jsx)(G,{}):null,ey&&d.isAuth&&(0,P.jsx)(W.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,P.jsx)(eR,{isBPMPage:t3({isPartner:m,location:w}),isShoppingCatalogs:ed({isPartner:m,location:w}),isVMPStatusPage:t2({isPartner:m,location:w}),viewer:d})}),E&&(0,P.jsx)(tj,{})]})]}),(0,P.jsxs)("div",{className:"appContent",role:"main",children:[(0,P.jsx)(eX.c,{children:t=>(0,P.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:ey?t:0,paddingLeft:u}},children:(0,P.jsxs)("div",{className:"mainContainer",children:[e,b&&(0,eh.OY)(d)&&(0,P.jsx)(W.Z,{name:"PostLogin_AlternativeAuthCollection",children:(0,P.jsx)(tY,{})}),(0,P.jsx)(Q.Z,{placementId:1000421}),d.isAuth&&"/"===w.pathname&&!U.Z.isExtensionInstalled()&&(0,D.i7)(em)&&(0,P.jsx)(Y.Z,{eligibleIds:[506046],placementId:11,children:({complete:e,dismiss:t,view:n})=>(0,P.jsx)(W.Z,{name:"AuthDesktopAppShell_BrowserExtensionUpsellModal",children:(0,P.jsx)(tX,{handleComplete:e,handleDismiss:t,handleView:n})})}),(0,P.jsx)(tK,{})]})})}),T&&!g&&(0,P.jsx)(t0,{"data-test-id":"full-height-inbox"})]}),(0,P.jsx)(eV,{pinKey:null!=ef?{type:"deprecated",data:ef}:null})]})})})})})})})}),m&&(0,P.jsx)(O.Z,{}),(0,P.jsx)(X,{}),V&&(0,P.jsx)(W.Z,{name:"DesktopApp_WebPushUpsell",children:(0,P.jsx)(eo.Z,{children:(0,P.jsx)(tD,{})})}),(0,P.jsx)(W.Z,{name:"DesktopApp_MarketingPixel",children:(0,P.jsx)(tk,{})}),o&&(0,P.jsx)(_.xu,{"data-test-id":"report-pin",children:(0,P.jsx)(W.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,P.jsx)(tQ,{data:o,dismiss:s})})})]})})})})})})})})})})]})}var t5=n("992548"),t9=n("608555"),t4=n("667058");let t7="openUnauthType",ne=()=>{c.ZP.setItem(t7,"OPEN_UNAUTH")},nt=()=>(0,t4.a)()||"OPEN_UNAUTH"===c.ZP.getItem(t7);var nn=n("272663");function ni(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ns=(0,H.Z)(()=>n.e("92786").then(n.bind(n,812101)),{fallback:(0,P.jsx)(_.xu,{})},"app-packages-desktopLoginModal-UnauthHybridBannerSignupModal");class no extends a.Component{constructor(...e){super(...e),ni(this,"state",{scrollSessionCount:0,shouldShowBanner:!1,bannerViewed:!1,bannerDismissed:!1}),ni(this,"setShouldShowBanner",e=>this.setState({shouldShowBanner:e})),ni(this,"onScrollHybridBanner",e=>{let{isSafari:t,trackConversionUpsell:n}=this.props,i=0,s=e&&e.target instanceof Document?e.target:null;if(s&&s.documentElement&&s.documentElement.scrollTop>0?i=s.documentElement.scrollTop:s&&s.body&&s.body.scrollTop>0&&(i=s.body.scrollTop),i<64)this.state.shouldShowBanner&&!this.state.bannerDismissed&&(n({element:13893,eventType:10243}),this.state.bannerDismissed=!0),this.setShouldShowBanner(!1);else if(i<4e3){let e=this.state.shouldShowBanner;this.setState(e=>({shouldShowBanner:nt()||t||3!==e.scrollSessionCount,scrollSessionCount:Math.ceil(i/800)}),()=>{e||!this.state.shouldShowBanner||this.state.bannerViewed||(n({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),this.state.bannerViewed=!0)})}else!c.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&!nt()&&t&&e&&e.preventDefault()}),ni(this,"onScrollHybridBannerThrottled",(0,er.Z)(this.onScrollHybridBanner,10))}componentDidMount(){window.addEventListener("scroll",this.onScrollHybridBannerThrottled)}componentWillUnmount(){window.removeEventListener("scroll",this.onScrollHybridBannerThrottled)}render(){let{inviter:e,setHasDismissedBottomRightUpsell:t}=this.props,{shouldShowBanner:n}=this.state;return(0,P.jsx)(_.xu,{children:(0,P.jsx)(ns,{inviter:e,setHasDismissedBottomRightUpsell:t,shouldShowBanner:n})})}}let nr=e=>{let{isBot:t}=(0,en.B)(),{logContextEvent:n}=(0,V.v)(),{userAgent:{browserName:i}}=(0,en.B)(),{trackConversionUpsell:s}=(0,nn.Z)();return t?null:(0,P.jsx)(no,{...e,isSafari:(0,D.G6)(i),logContextEvent:n,trackConversionUpsell:s})};var na=n("331749");let nl=(0,H.Z)(()=>Promise.all([n.e("20799"),n.e("20661"),n.e("5775"),n.e("48579"),n.e("45565")]).then(n.bind(n,38827)),void 0,"app-packages-desktopLoginModal-SignupUpsellModal"),nc=["passwordReset","passwordUserName","topic","flashlight","todayTab","todayArticleFeed","todayArticleInterestFeed","ideasHub","ideasRoot","invited","pinBookmarklet","shoppingRoot","shoppingCategory","videosRoot","videosCategory"],nu="_bottomRightUpsellDismissed";function nd({hideDesktopSignupModal:e,inviter:t,pageType:n,signupModalState:i,shouldShowSignupWelcomeLoading:s,setShouldShowSignupWelcomeLoading:o}){let r=(0,na.Z)(),l=(0,p.TH)(),[u,d]=(0,a.useState)(c.ZP.getItem(nu)??!1);(0,a.useEffect)(()=>{c.ZP.setItem(nu,u)},[u]);let h=!r&&!(({pageType:e,location:t})=>nc.includes(e)||(0,J.Ni)(t)||(0,J.C$)(t)||(0,J.Xn)(t)||"/invited/"===t.pathname||t.pathname.startsWith("/about/"))({location:l,pageType:n});return(0,P.jsxs)(a.Fragment,{children:[h&&!u&&(0,P.jsx)(nr,{inviter:t,setHasDismissedBottomRightUpsell:d}),i.modal.isShown&&(0,P.jsx)(eo.Z,{children:(0,P.jsx)(nl,{displayProps:i.modal.displayProps,hideDesktopSignupModal:e,inviter:t,pageType:n,setShouldShowSignupWelcomeLoading:o})}),s&&(0,P.jsx)(_.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:new _.Ry(100),children:(0,P.jsx)(t9.Z,{})})]})}var n_=n("496634"),np=n("614269"),nh=n("510678"),nf=n("264723");let nm=(e,t)=>(0,w.nP)(`pinner_conversion.upsell.dweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t}),ng=(e,t)=>{switch(t.type){case"dismiss":return{...e,modal:{isShown:!1}};case"show":return{...e,modal:{isShown:!0,displayProps:t.displayProps}};default:return e}},nb=()=>(0,a.useReducer)(ng,{modal:{isShown:!1}}),ny=604800,nv=(e,t=ny)=>{let n=(0,l.M0)().getItem(e);return n&&Date.now()-parseInt(n,10)>1e3*t},nw=(e=ny)=>{let t=(0,l.M0)().getItem(f.TO);return nv(f.On,e)||!t?0:parseInt(t,10)||0},nP=(e=ny)=>{let t=nw(),n=(0,l.M0)();if(nv(f.On,e)||!t)try{n.setItem(f.TO,1),n.setItem(f.On,Date.now())}catch(e){console.error(e)}else try{n.setItem(f.TO,t+1)}catch(e){console.error(e)}};var nx=n("304843"),nS=n("202732"),nA=n("226978"),nE=n("49315");let nI=e=>{switch(e){case"todayArticleFeed":return{eligible:!0,container:"todayArticleFeed"};case"todayTab":return{eligible:!0,container:"todayTab"};default:return{eligible:!1}}},nC=({pageType:e})=>{let[t,n]=nb(),{loginForMore:i}=(0,tg.H)(),s=(0,p.k6)(),o=(0,nA.Z)(),{viewType:r,viewParameter:u}=(0,nf.SU)(),{trackConversionUpsellForContext:_}=(0,nn.A)(),{unauthUserStateDispatch:h}=(0,d.R)(),m=({shouldDoSideEffects:t})=>{t&&i&&nI(e).eligible&&i.setVisible(!1),n({type:"dismiss"}),nm("dispatch_dismiss",{shouldDoSideEffects:t})},g=e=>{n({type:"show",displayProps:e});let{attributionLabel:t,signupFlow:i,reason:s}=e;o({action:"trigger",item:i.type.includes("signup")?"signup-modal":"login-modal"}),_({viewType:r,viewParameter:u,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[s]||13322,component:"login"===i.type?14212:14214,upsellReason:t}),nm("dispatch_show",{attributionLabel:t,modalType:i.type,reason:s})},b=(e,t)=>g({signupFlow:{type:"login"},attributionLabel:t,container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}),y=!!i?.visible,v=(0,a.useRef)(y);return(0,a.useEffect)(()=>{if(y!==v.current){v.current=y;let t=nI(e);t.eligible&&(y?b(t.container,"loginForMoreIsVisible"):m({shouldDoSideEffects:!0}))}}),(0,a.useEffect)(()=>{(0,nS.My)(`unauth_web.unauth_page_wrapper.${e}.mounted.is_mobile_false`),"p100"===(0,el.mB)(window.location.search).utm_source&&ne()},[]),{hideDesktopSignupModal:m,pinImageClickHandler:({event:e,pinId:t,seoUrl:n,linkTarget:i})=>{e&&e.preventDefault();let o=null;if(!nt()){let e=(0,l.M0)().getItem(f.cu)??0;e+1>=4&&!c.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&(c.ZP.setItem("HAS_SEEN_LOGIN_MODAL","true"),o={mt:"login"},(0,nS.My)("dweb.navigational.upsell.show")),(0,l.M0)().setItem(f.cu,e+1),h({type:"UPDATE"})}let r=(0,nE.Z)((0,nx.bN)({pinId:t,seoUrl:n}),o||{});if("fullPageLoad"===i){(0,nh.Z)(r,!1);return}if("duploClientNav"===i)s.push(r);else{let e=window.open(r,"_blank");e?.focus()}m({shouldDoSideEffects:!1})},pinLinkClickHandler:()=>{if(nP(),nt())return;let e=nw();(2===e||e%5==0)&&b("hybrid_clickthrough","pinLinkClickHandler_tier1")},modalOpened:!!t.modal.isShown,showDesktopSignupModal:g,signupModalState:t,showGoogleOneTapTriggeredModal:e=>{switch(e.type){case"CLICK_LOGIN_BUTTON":g({signupFlow:{type:"login"},attributionLabel:"tap_googleOneTap_login",source:"login",container:"google_one_tap_modal",reason:"CLICK_LOGIN_OR_SIGNUP"});break;case"LOGIN_ERROR":g({signupFlow:{type:"login"},source:"login",reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_loginError"});break;case"MFA":g({signupFlow:{type:"loginMfa",creds:{google_open_id_token:e.mfaGoogleOpenId}},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_mfa"});break;case"GDPR_REQUIRES_AGE":g({signupFlow:{type:"socialSignupWithAge",registrationCredentials:e.socialRegistrationCredentials},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_gdprRequiresAge"})}},trackConversionUpsellForContext:_}};var nk=n("280768"),nT=n("169248"),nj=n("977802"),nR=n("761180"),nZ=n("41272"),nN=n("979303"),nO=n("546045"),nM=n("797987");function nz({children:e}){let t;let{isAuth:n}=(0,j.Z)(),{isBot:i}=(0,en.B)(),s=(0,p.TH)(),o=(0,p.$B)(),[r,l]=(0,a.useState)((0,J.uM)(s)?{isStoryPin:"unknown"}:null);(0,a.useEffect)(()=>{l((0,J.uM)(s)?{isStoryPin:"unknown"}:null)},[s]);let c=(0,a.useCallback)(e=>l({isStoryPin:e}),[]),{userAgent:u,userAgentPlatform:d}=(0,R.v9)(({session:e})=>({userAgent:e.userAgent,userAgentPlatform:e.userAgentPlatform}),R.wU),_=(0,nZ.Z)()||(0,nN.Rp)({isBot:i,platform:d,userAgent:u}),{checkExperiment:h}=(0,eF.F)(),[f,m]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[w,x]=(0,a.useState)(!1),S=(0,nO.Z)();return n||(t={appInstallBannerIsEnabled:_&&((0,J.uM)(s)||(0,J.am)(s)||(0,J.$Y)(s)||(0,J.E0)(s)||(0,J.Zz)(s)||(0,J.dr)(s)||(0,J.tZ)(s)||(0,J.Q0)(s)||(0,J.f1)(s)||(0,J.OX)(s)||(0,J.gT)(s)||(0,J.bW)(s)||(0,J.En)(s)||(0,J.wg)(s)||"/unauth-profile"===o.path||"/:username"===o.path||"/:username/:slug/:section_slug"===o.path||(0,J.Xn)(s)||("/:username/_created"===o.path||"/:username/_saved"===o.path)&&"enabled_add_tabs"===h("pcons_header_on_created_and_saved_tab").group),hasScrolledPastMainContent:f,setHasScrolledPastMainContent:m,hasDraggedDrawerToFullScreen:g,setHasDraggedDrawerToFullScreen:b,pinPageGlobalContext:r,onPinTypeLoad:c,shouldShowLearningUpsell:y,setShouldShowLearningUpsell:v,shouldShowHomepageAppUpsellSheet:w,setShouldShowHomepageAppUpsellSheet:x,unauthSavedPinsStore:S}),(0,P.jsx)(nM.D,{value:t,children:e})}var nL=n("831734"),nD=n("16406"),nU=n("178035"),nB=n("31469");function nH(){let e=(0,T.ZP)(),t=(0,nB.Z)(),n=(0,nU.Z)();if(!t)return null;let i="desktop"===e?nD.$:nD.J,s="phone"===e?nL.SB:nL.Pw;return n?(0,P.jsx)(_.xu,{height:s,position:"fixed",width:"100%",zIndex:i}):"desktop"===e?(0,P.jsx)(_.xu,{height:s,width:"100%"}):(0,P.jsx)(_.Le,{top:0,zIndex:i,children:(0,P.jsx)(_.xu,{height:s,width:"100%"})})}let nF=(0,H.Z)(()=>Promise.all([n.e("12135"),n.e("71970"),n.e("23900")]).then(n.bind(n,830325)),void 0,"app-www-PageWrapper-UnauthPageWrapperHeader"),nG=(0,H.Z)(()=>n.e("41222").then(n.bind(n,749578)),void 0,"app-www-PageWrapper-UnauthPageWrapperFooter");function nW({children:e,showDesktopSignupModal:t}){return(0,P.jsx)(nz,{children:(0,P.jsxs)(_.xu,{children:[(0,P.jsx)(nF,{fallback:(0,P.jsx)(nH,{}),showDesktopSignupModal:t}),(0,P.jsxs)(_.xu,{id:"mweb-unauth-container",children:[e,(0,P.jsx)(tK,{})]}),(0,P.jsx)(nG,{})]})})}let nV=nk.Z+t5.Z,nK=({children:e})=>{let t=(0,nR.Z)(),{hideDesktopSignupModal:n,pinImageClickHandler:i,pinLinkClickHandler:s,showDesktopSignupModal:o,signupModalState:r,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}=nC({pageType:t}),u=(0,nj.cO)(),[d,_]=(0,a.useState)(!1),p=(0,a.useMemo)(()=>({isModalShown:r.modal.isShown,showDesktopSignupModal:o,pinImageClickHandler:i,pinLinkClickHandler:s,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}),[r.modal.isShown,o,i,s,l,c]),{setIsAutoplay:h}=(0,eZ.I)();return(0,ec.Z)(()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,nS.tj)("web.unauth.locale_data",{tz:e})}),(0,ec.Z)(()=>{setTimeout(()=>{h(!0)},300)}),(0,P.jsxs)(np.t,{value:p,children:[(0,P.jsx)(nW,{showDesktopSignupModal:o,children:e}),(0,P.jsx)(nd,{hideDesktopSignupModal:n,inviter:u?.data?.inviter||void 0,pageType:t,setShouldShowSignupWelcomeLoading:_,shouldShowSignupWelcomeLoading:d,signupModalState:r})]})};function n$({children:e}){return(0,P.jsx)(et.T,{children:(0,P.jsx)(eL.N,{children:(0,P.jsx)(nT.h,{children:(0,P.jsx)(nj.xM,{children:(0,P.jsxs)("div",{role:"main",children:[(0,P.jsx)(e8.Z,{unsafeCSS:nV}),(0,P.jsx)(n_.Z,{children:(0,P.jsx)(nK,{children:e})})]})})})})})}var nX=n("498083"),nY=n("391501"),nQ=n("337907"),nq=n("280874"),nJ=n("379569");let n0=e=>window.addEventListener("appinstalled",()=>{(0,nS.My)("mweb.homescreen_install.installed"),e({event_type:13,view_type:170,component:13126,element:10802})}),n1=(e,t)=>{try{(0,nS.My)("mweb.homescreen_install.shown"),t({event_type:13,view_type:170,component:13126}),e.userChoice.then(e=>{(0,nS.My)(`mweb.homescreen_install.${e.outcome}`),t({view_type:170,component:13126,element:"dismissed"===e.outcome?10359:10360,event_type:102})})}catch(e){window.console.error(e)}},n3=(e,t)=>{let{userAgent:{browserName:n,browserVersion:i},isAuthenticated:s}=e,o=parseInt(i,10),r=!!n&&n.includes("Chrome");window.addEventListener("beforeinstallprompt",e=>s&&r&&o<=67?(n1(e,t),!0):(e.preventDefault(),!1))};var n2=n("127126"),n6=n("664683"),n8=n("676129");let n5=(e,t)=>{(0,l.M0)().setItem("signupModal",{version:t,data:e})},n9=()=>{try{let e=(0,l.M0)().getItem("signupModal");return e&&{version:e.version,state:e.data}}catch{return null}};var n4=n("197917"),n7=n("481771");let ie=e=>(0,J.uM)(e)?{name:"pin",viewType:3}:(0,J.am)(e)?{name:"board",viewType:5}:(0,n4.Z)(e)?{name:"profile",viewType:215}:null,it=e=>e<=10?e.toString():e<=20?"[11,20]":e<=50?"[21,50]":e<=100?"[51,100]":"101+",ii=e=>e?(0,J.bo)(e)&&"today"||(0,J.am)(e)&&"board"||(0,J.C$)(e)&&"home"||(0,J.dr)(e)&&"ideas"||(0,J.gT)(e)&&"ideas-root"||(0,J.Xn)(e)&&"login"||(0,J.uM)(e)&&"pin"||(0,n4.Z)(e)&&"profile"||(0,J.En)(e)&&"search"||"other":"unknown",is=(e,t,n,i,s)=>{let{unauthID:o}=n.sessionContext,r="SHOW_MOBILE_SIGNUP_MODAL"===e.type&&e.options.navigationTriggeredUpsell?e.options.navigationTriggeredUpsell.newLocation:null,a=r?ie(r):null,l=a?.viewType||n.currentPageViewType||132;if("SHOW_MOBILE_SIGNUP_MODAL"===e.type&&n.modal.isShown){let{trigger:{attributionLabel:t,reason:i}}=n.modal.displayProps;(0,n7.Z)("dispatch_show",{reason:i,attributionLabel:t,oldPage:e.options.navigationTriggeredUpsell?ii(e.options.navigationTriggeredUpsell.oldLocation):"NOT_APPLICABLE",timesShownForSessionCount:it(n.timesShownForSessionCount)})}else if("DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown){let{attributionLabel:e,reason:n}=t.modal.displayProps.trigger;(0,n7.Z)("dispatch_dismiss",{reason:n,attributionLabel:e})}if(!t.modal.isShown&&n.modal.isShown){let{attributionLabel:t}=n.modal.displayProps.trigger,r=t.replace(/\./g,"_");i({event_type:13,element:12403,component:13858,view_type:l,aux_data:{unauth_id:o}}),"SHOW_MOBILE_SIGNUP_MODAL"===e.type?((0,nS.NC)(`show_dismissible_mobile_signup_modal_${e.type}_${r}`),s({viewType:l,eventType:14688,component:14216,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[e.options.reason]||13322,upsellReason:r})):(0,nS.NC)(`show_dismissible_mobile_signup_modal_${e.type}`)}else"DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown&&!n.modal.isShown&&(i({event_type:123,component:13858,view_type:l,aux_data:{unauth_id:o}}),(0,nS.NC)("dismiss_mobile_signup_modal"))};var io=n("411430");let ir=Object.freeze(["CO","ID"]),ia=e=>ir.includes(e),il=e=>!!(0,nX.dh)(e)&&((0,n8.qn)("msmrsfiiab",void 0)||((0,w.nP)("mobile_signup_modal.rules.suppress_for_instagram_in_app_browser"),(0,n8.Nh)("msmrsfiiab","1")),!0),ic=({isUnauthSharingModalsShown:e,modalHasShown:t,sessionContext:{country:n,userAgent:i}})=>e||t&&ia(n)||(0,io.P)()||il(i),iu=(e,t)=>{switch(t.type){case"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT":return{...e,upsellEligibleNavigationCount:e.upsellEligibleNavigationCount+1};case"DISMISS_MOBILE_SIGNUP_MODAL":return{...e,modal:{isShown:!1}};case"UPDATE_SESSION_CONTEXT":return{...e,sessionContext:t.sessionContext};case"UPDATE_CURRENT_PAGE_VIEW_TYPE":return{...e,currentPageViewType:t.currentPageViewType};case"RESTORE_FROM_LOCAL_STORAGE":{let{upsellEligibleNavigationCount:n}=t;return{...e,upsellEligibleNavigationCount:n??e.upsellEligibleNavigationCount}}case"SHOW_MOBILE_SIGNUP_MODAL":return{...e,lastShownTime:t.now,timesShownForSessionCount:e.timesShownForSessionCount+1,scrollControllerHasDisplayed:e.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:t.options.headingType,trigger:{attributionLabel:t.options.attributionLabel,reason:t.options.reason}},pinId:t.options.pinId||null}};case"HIDE_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!1};case"SHOW_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!0};default:return e}};function id({children:e,referrer:t}){let{country:n,unauthId:i,userAgent:{raw:s}}=(0,en.B)(),{viewType:o}=(0,nf.SU)(),r=(0,n2.an)(t),l=(0,tR.Z)(),{trackConversionUpsellForContext:c}=(0,nn.A)(),[u,d]=(0,a.useReducer)(iu,{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,sessionContext:{country:n,referrer:r,unauthID:i,userAgent:s},currentPageViewType:o});(0,a.useEffect)(()=>{d({type:"UPDATE_SESSION_CONTEXT",sessionContext:{country:n,referrer:r,unauthID:i,userAgent:s}})},[n,r,i,s]),(0,a.useEffect)(()=>{d({type:"UPDATE_CURRENT_PAGE_VIEW_TYPE",currentPageViewType:o})},[o]);let _=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!_.current){_.current=!0;let e=n9(),t=e&&"v1"===e.version?e.state:null;if(t){let{upsellEligibleNavigationCount:e}=t;d({type:"RESTORE_FROM_LOCAL_STORAGE",upsellEligibleNavigationCount:e})}}},[]);let{scrollControllerHasDisplayed:p,upsellEligibleNavigationCount:h}=u;(0,a.useEffect)(()=>{_.current&&n5({upsellEligibleNavigationCount:h},"v1")},[h]);let f=(0,a.useCallback)(()=>{let e={type:"DISMISS_MOBILE_SIGNUP_MODAL"},t=iu(u,e);is(e,u,t,l,c),d(e)},[l,u,c]),m=(0,a.useCallback)(()=>d({type:"HIDE_UNAUTH_SHARING_MODALS"}),[]),g=(0,a.useCallback)(e=>{let t={type:"SHOW_MOBILE_SIGNUP_MODAL",now:Date.now(),options:e},n=iu(u,t);is(t,u,n,l,c),d(t)},[l,u,c]),b=(0,a.useCallback)(()=>d({type:"SHOW_UNAUTH_SHARING_MODALS"}),[]),y=(0,a.useCallback)(()=>!u.modal.isShown&&!ic({isUnauthSharingModalsShown:u.isUnauthSharingModalsShown,sessionContext:u.sessionContext,modalHasShown:!!u.lastShownTime}),[u.modal.isShown,u.isUnauthSharingModalsShown,u.sessionContext,u.lastShownTime]),v=(0,a.useCallback)(()=>d({type:"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT"}),[]),w=(0,a.useMemo)(()=>({modal:u.modal,dismissMobileSignupModal:f,hideUnauthSharingModals:m,showMobileSignupModal:g,showUnauthSharingModals:b,upsellIsEnabledGlobally:y,incrementUpsellEligibleNavigationCount:v,scrollControllerHasDisplayed:p,upsellEligibleNavigationCount:h,trackConversionUpsellForContext:c}),[u.modal,f,m,g,b,y,v,p,h,c]);return(0,P.jsx)(n6.r,{value:w,children:e})}var i_=n("968037"),ip=n("716996"),ih=n("241767");let im=(0,H.Z)(()=>Promise.all([n.e("12135"),n.e("71970"),n.e("14803")]).then(n.bind(n,867436)),void 0,"app-www-PageWrapper-AuthMobileHeader"),ig=(0,H.Z)(()=>Promise.all([n.e("12135"),n.e("90124"),n.e("71970"),n.e("6150")]).then(n.bind(n,908537)),void 0,"app-www-PageWrapper-AuthPageWrapperFooter"),ib=(0,H.Z)(()=>Promise.all([n.e("12135"),n.e("71970"),n.e("23900")]).then(n.bind(n,830325)),void 0,"app-www-PageWrapper-UnauthPageWrapperHeader"),iy=(0,H.Z)(()=>n.e("41222").then(n.bind(n,749578)),void 0,"app-www-PageWrapper-UnauthPageWrapperFooter"),iv=(0,H.Z)(()=>n.e("52700").then(n.bind(n,323920)),void 0,"app-www-NavFooter-NavFooter"),iw=({isAuthenticated:e,location:t,hasNux:n,hasEmailUpdate:i,shouldHideNavFooter:s,viewingUsername:o})=>o&&(0,J.J)(t,o)||t.pathname.endsWith("/organize/repin/")||t.pathname.endsWith("/profile-about/")||t.pathname.startsWith("/about/")||t.pathname.startsWith("/convert-business")||t.pathname.startsWith("/convert-personal")||t.pathname.startsWith("/close-account")||t.pathname.startsWith("/settings")||t.pathname.startsWith("/switch_account")||t.pathname.startsWith("/add-account")||t.pathname.startsWith("/request-data")||t.pathname.match(/pin\/.+\/repin/)||t.hash===`#${nJ.v}`||t.pathname.startsWith("/board/create/")||"/inbox/compose/"===t.pathname||t.pathname.startsWith("/parental-passcode")||"/search/me/"===t.pathname||"/search/people/"===t.pathname||t.pathname.startsWith("/today-articles")||t.pathname.startsWith("/oauth")||(0,J.C$)(t)&&(n||i||!e)||(0,J.Xn)(t)||(0,J.gf)(t)||(0,J.re)(t)||(0,J.FO)(t)||(0,J.pV)(t)||(0,J.jC)(t)||(0,J.XE)(t)||(0,J.Fy)(t)||(0,J.AX)(t)||(0,J.pD)(t)||(0,J.Ui)(t)||(0,J.KY)(t)||(0,J.Ni)(t)||(0,J.b0)(t)||(0,J.mP)(t)||(0,J.bW)(t)||(0,J.dt)(t)||s,iP=()=>{let e=(0,es.Z)({name:"UserSettingsResource"});return(0,P.jsx)(ig,{userSettingsResourceRef:e})},ix=7*nY.F4,iS=({isAuth:e,children:t})=>{let n=(0,p.TH)(),{checkExperiment:i}=(0,eF.F)(),s=(0,nT.N)(),o=(0,nq.n)(),r=(0,ip.Tt)(),{userAgent:l}=(0,R.v9)(e=>e.session),[c,u]=(0,a.useState)(!0),d=!e&&i("unauth_mweb_pin_social_landing",{dangerouslySkipActivation:!0}).anyEnabled;return(0,a.useEffect)(()=>{let{invite_code:t,utm_source:i}=(0,el.mB)(n.search);e&&!(0,nX.ry)(l)&&s.isCheckComplete&&!s.isNativeAppInstalled&&(0,nN.kp)((0,nQ.Z)(r?.created_at),ix)&&("email"===i||i===String(31))&&!((0,J.ej)(n)||(0,J.C$)(n)||(0,J.q_)(n))&&(o.setShowReferredAppUpsellVal(!0),""===o.uiType&&(o.setAppUpsellTypeVal("auth-email-referred"),o.setUiTypeVal("full"))),!(0,nX.ry)(l)&&s.isCheckComplete&&!s.isNativeAppInstalled&&(0,nN.kp)((0,nQ.Z)(r?.created_at),ix)&&t&&!d&&(o.setShowReferredAppUpsellVal(!0),""===o.uiType&&(o.setAppUpsellTypeVal(e?"auth-social-referred":"unauth-social-referred"),o.setUiTypeVal("bottom")))},[i,r,e,s.isCheckComplete,s.isNativeAppInstalled,n,o,l,d]),(0,a.useEffect)(()=>{(0,nX.ry)(l)&&c&&!d&&(u(!1),o.setShowReferredAppUpsellVal(!0),""===o.uiType&&(o.setAppUpsellTypeVal(e?"auth-social-iab":"unauth-social-iab"),o.setUiTypeVal("bottom")))},[i,r,e,o,c,l,d]),(0,P.jsxs)(_.xu,{color:"default",minHeight:"100vh",role:"main",children:[e?(0,P.jsx)(im,{}):(0,P.jsx)(ib,{fallback:(0,P.jsx)(nH,{})}),(0,P.jsx)(_.xu,{id:e?"":"mweb-unauth-container",children:t}),e?(0,P.jsx)(iP,{}):(0,P.jsx)(iy,{})]})};function iA({children:e}){let t=(0,p.TH)(),{isAuth:n,username:i}=(0,j.Z)(),{referrerFromCookie:s,isAuthenticated:o,isBot:r}=(0,en.B)(),{setIsAutoplay:l}=(0,eZ.I)(),{checkExperiment:c}=(0,eF.F)(),{setIsNavFooterHiddenAfterScroll:u}=(0,i_.U)(),d=(0,R.I0)();!function(){let e=(0,en.B)(),t=(0,tR.Z)();(0,ec.Z)(()=>{n3(e,t),n0(t)})}();let h=(0,R.v9)(e=>e.experiences[40001]?.experience_id===500681),f=c("mweb_delay_renux_for_resurrected_user",{dangerouslySkipActivation:!0}).group||"",m=c("mweb_scroll_based_renux",{dangerouslySkipActivation:!0}).group||"",g=(0,R.v9)(({experiences:e})=>!f&&!m||f.includes("control")||m.includes("control")?[40002,500450].includes(e[40001]?.experience_id??0):[40002].includes(e[40001]?.experience_id??0)),b=(0,R.v9)(e=>e.session.shouldHideNavBar);(0,a.useEffect)(()=>{!t||r||(0,J.uM)(t)||u(!1)},[r,t,d,u]),(0,ec.Z)(()=>{setTimeout(()=>{l(!0)},300)});let y=!iw({isAuthenticated:o,location:t,hasNux:g,hasEmailUpdate:h,shouldHideNavFooter:b,viewingUsername:i}),v={__style:{...y?{paddingBottom:68}:{}}};return(0,P.jsx)(_.xu,{dangerouslySetInlineStyle:v,children:(0,P.jsx)(nz,{children:(0,P.jsx)(id,{referrer:s,children:(0,P.jsx)(nq.P,{children:(0,P.jsx)(nT.h,{children:(0,P.jsx)(tp.I,{children:(0,P.jsx)(ih.Z,{graphqlRef:null,children:(0,P.jsxs)(nj.xM,{children:[y?(0,P.jsx)(_.xu,{as:"nav",children:(0,P.jsx)(iv,{})}):null,(0,P.jsx)(iS,{isAuth:n,children:e})]})})})})})})})})}function iE({children:e}){let{isAuth:t}=(0,j.Z)(),n=(0,T.HG)();return((0,k.Z)(),n&&t)?(0,P.jsxs)(_.xu,{minHeight:"100vh",children:[(0,P.jsx)(C,{}),(0,P.jsx)(t8,{children:e})]}):n&&!t?(0,P.jsx)(n$,{children:e}):(0,P.jsx)(iA,{children:e})}var iI=n("292096"),iC=n("645871"),ik=n("385290"),iT=n("146327"),ij=n("496425"),iR=n("358643");async function iZ(){let{default:e}=await n.e("71010").then(n.bind(n,565936)),t=Date.now(),i=await e.load(),s=await i.get(),o=Date.now();(0,w.LY)("fingerprint.time",o-t,{sampleRate:1});let{components:r}=s;for(let e in r){let{duration:t}=r[e];(0,w.LY)("fingerprint.componentDuration",t,{sampleRate:.1,tags:{component:e}})}return s.visitorId}var iN=n("529668"),iO=n("101252"),iM=n("555779"),iz=n("324439"),iL=n("950267"),iD=n("13752"),iU=n("310703"),iB=n("894230"),iH=n("662968"),iF=n("119195"),iG=n("821210"),iW=n("212838"),iV=n("564700"),iK=n("68938"),i$=n("302866"),iX=n("950446"),iY=n("400996"),iQ=n("537883"),iq=n("325612");class iJ extends a.Component{constructor(e){super(e),this.state={bannerStatus:this.props.isOffline?"offline":"hidden"}}getSnapshotBeforeUpdate(e){let{isOffline:t}=this.props,{isOffline:n}=e;return n===t||(this.setState({bannerStatus:t?"offline":"backOnline"}),t||setTimeout(()=>{this.props.isOffline?this.setState({bannerStatus:"offline"}):this.setState({bannerStatus:"hidden"})},2e3)),null}componentDidUpdate(){}render(){let{bannerStatus:e}=this.state;return"hidden"!==e&&(0,P.jsx)(_.Le,{top:0,zIndex:new _.Ry(20),children:(0,P.jsx)(_.xu,{alignItems:"center",color:"backOnline"===e?"successBase":"secondary",display:"flex",flex:"grow",height:"100%",justifyContent:"center",padding:3,children:(0,P.jsxs)(_.xv,{align:"center",color:"backOnline"===e?"inverse":"default",size:"200",weight:"bold",children:[(0,P.jsx)(_.xu,{display:"inlineBlock",marginBottom:-1,marginEnd:1,marginStart:1,children:(0,P.jsx)(_.JO,{accessibilityLabel:e?this.props.i18n._('online', 'online icon label', 'online label'):this.props.i18n._('offline', 'offline icon label', 'offline icon label'),color:"backOnline"===e?"inverse":"default",dangerouslySetSvgPath:{__path:"backOnline"===e?iq.Z:iQ.Z}})}),"backOnline"===e?this.props.i18n._('You\'re back online!', 'back online message', 'back online message'):this.props.i18n._('You\'re offline! Check your internet connection.', 'not online message', 'not online message')]})})})}}let i0=function(e){let t=(0,b.ZP)();return(0,P.jsx)(iJ,{...e,i18n:t})};var i1=n("942057");function i3(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i2 extends a.Component{constructor(...e){super(...e),i3(this,"handleBeforeInstallPrompt",e=>{this.installPromptEvent=e}),i3(this,"beforeInstallPromptGetter",()=>this.installPromptEvent),i3(this,"installPromptEvent",null)}componentDidMount(){window.addEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}componentWillUnmount(){window.removeEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}render(){return(0,P.jsx)(i1.Z.Provider,{value:this.beforeInstallPromptGetter,children:this.props.children})}}var i6=n("370837"),i8=n("787285"),i5=n("470131"),i9=n("82217");function i4({children:e}){let[t,n]=(0,a.useState)(""),[i,s]=(0,i5.YD)({threshold:0}),[o,r]=(0,a.useState)(!1),l=(0,a.useMemo)(()=>({currentPin:t,hasClickedMoreLikeThisButton:o,moreLikeThisButtonRef:i,moreLikeThisButtonInView:s,setCurrentPin:n,setHasClickedMoreLikeThisButton:r}),[t,o,i,s,n,r]);return(0,P.jsx)(i9.j,{value:l,children:e})}var i7=n("640474");function se(){let e=(0,b.ZP)();return window.navigator.cookieEnabled?null:(0,P.jsx)(_.xu,{margin:2,children:(0,P.jsx)(_.ci,{iconAccessibilityLabel:"Error",message:e._('Please enable cookies and try again', 'Message informing users to enable cookies', 'Message informing users to enable cookies'),title:e._('Oh no! Pinterest doesn\'t work unless you enable cookies.', 'Toast that displays when a user has cookies disabled', 'Toast that displays when a user has cookies disabled'),type:"error"})})}var st=n("192872");let sn="_epik_localstore";function si(){let e=(0,j.Z)(),t=(0,en.B)(),{country:n}=t,i=t.countryFromIp,{countryFromHostName:s}=t,o=new Set(ij.Z),r=o.has(n)||o.has(i)||o.has(s),{allow_analytic_cookies:l,allow_personalization_cookies:c,epik:u,isAuth:d}=e.isAuth?e:{};return(0,a.useEffect)(()=>{if(d){if(r&&!(l&&c))(0,st.L_)(sn);else if(u){var e;e=new Date().getTime()+nY.N1,(0,st.Nh)(sn,JSON.stringify({value:u,expiry:e}))}}},[d,u,r,l,c]),null}var ss=n("357563"),so=n("80881");let sr={childList:!0,attributes:!0,subtree:!0};function sa({children:e}){let t=(0,a.useRef)(null),{enabled:n}=(0,N.Z)(),[i,s]=(0,a.useState)(n?ti.Qf:0),o=(0,a.useMemo)(()=>({width:i}),[i]);return(0,a.useEffect)(()=>{let e=document.getElementById(ti.Lc);return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(()=>{e&&s(e.offsetWidth)}),t.current.observe(e,sr)),()=>{t.current?.disconnect()}}),(0,P.jsx)(so.E,{value:o,children:(0,P.jsx)(ss.t,{children:e})})}var sl=n("430732"),sc=n("221622"),su=n("998836"),sd=n("751624"),s_=n("3366"),sp=n("246976"),sh=n("593846"),sf=n("459336"),sm=n("495894"),sg=n("586844");let sb=({inviteCode:e})=>{let t=(0,sm.Z)();return(0,a.useCallback)((n,i)=>t(n,{loggingOptions:i,inviteCode:e}),[t,e])};function sy({children:e,inviteCode:t}){let{country:n,isAuthenticated:i,userAgent:{browserName:s,platform:o}}=(0,en.B)(),r=(0,T.ZP)(),{id:l}=(0,j.Z)(),{loggedOutUserInfo:c}=(0,R.v9)(({session:e})=>({loggedOutUserInfo:e.loggedOutUserInfo}),R.wU),u=(0,R.v9)(({users:e})=>e[l]),d=(0,a.useMemo)(()=>u&&(0,sg.xT)(u)?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!u.connected_to_facebook,connectedToGoogle:!!u.connected_to_google,email:u.email??"",firstName:u.first_name??"",hasPassword:!!u.has_password,imageUrl:u.image_medium_url??null}}:i?{type:"AUTH",info:null}:{type:"UNAUTH",info:c&&c.email&&c.first_name?{connectedToFacebook:!!c.connected_to_facebook,connectedToGoogle:!!c.connected_to_google,email:c.email,firstName:c.first_name,hasPassword:!!c.has_password,imageUrl:c.medium_image_url??null}:null},[i,c,u]),_=sb({inviteCode:t}),p="mobile"===r||"tablet"===r,h=(0,a.useMemo)(()=>({getDeviceAppTypeString:()=>`${p?"mobile":"desktop"}.${n}.${o}.${s||"unknown"}`.replace(/ /g,"_"),register:_,viewer:d}),[s,n,p,_,o,d]);return(0,P.jsx)(B.I7,{value:h,children:e})}var sv=n("484083"),sw=n("132382"),sP=n("281096");let sx=()=>{try{return(0,l.M0)().getItem(f.Y8)}catch(e){return null}},sS=(e,t,n)=>{let i="pc.auth.multi_account_storage";e&&(i+=".email"),n&&(i+=".facebook"),t&&(i+=".google"),(0,nS.My)(i)},sA=({hasPassword:e,googleConnection:t,facebookConnection:n,pastLogins:i})=>{let s=[],o=(0,l.M0)().getItem(f.V6),r=n||i.includes("facebook")||"facebook"===o,a=t||i.includes("google")||"google"===o;return e&&s.push("email"),r&&s.push("facebook"),a&&s.push("google"),sS(e,a,r),s};var sE=n("650810"),sI=n("322670");let sC="FIRST_DELAY_REFRESH_TIME_KEY",sk=e=>{let t=Date.now(),n=(0,st.qn)(sC);return{firstDelayTime:n=n?parseInt(n,10):null,maxStalenessReached:n&&t-n>36e5*e}};var sT=n("349970"),sj=n("881160"),sR=n("656156"),sZ=n("905731"),sN=n("289050"),sO=n("634408"),sM=n("371344"),sz=n("577976"),sL=n("836855"),sD=n("354560");let sU=e=>"phone"===e?"sm":"tablet"===e?"md":"lg",sB=e=>e<768?"sm":e<1024?"md":"lg";function sH({children:e}){let{isTablet:t,isMobile:n}=(0,en.B)().userAgent,[i,s]=(0,a.useState)(sU(t?"tablet":n?"phone":"desktop")),o=()=>s(sB(window.innerWidth)),r=(0,a.useCallback)((0,sL.Z)(o,200),[]);return(0,a.useEffect)(()=>(o(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[]),(0,P.jsx)(sD.I,{value:i,children:e})}var sF=n("971899"),sG=n("92030"),sW=n("845823"),sV=n("289782"),sK=n("707172"),s$=n("743854");let sX="https://ct.pinterest.com/ct.html";function sY(e,t){let n=new Date,i={value:t,expiry:t?n.getTime()+nY.N1:null};e.contentWindow.postMessage({key:"_epik_localstore",value:JSON.stringify(i)},sX)}function sQ(){let e=(0,a.useRef)(null),t=(0,j.Z)(),n=(0,en.B)(),{country:i}=n,s=n.countryFromIp,{countryFromHostName:o}=n,r=new Set(ij.Z),l=r.has(i)||r.has(s)||r.has(o),{allow_analytic_cookies:c,allow_personalization_cookies:u,epik:d,isAuth:_}=t.isAuth?t:{},p=e.current;return(0,a.useEffect)(()=>{p&&_&&p instanceof HTMLIFrameElement&&p.contentWindow&&((!l||c&&u)&&d?sY(p,d):sY(p,null))},[t,c,u,d,_,l,p]),(0,P.jsx)("iframe",{ref:e,"aria-hidden":"true",id:"epik_localstore",src:sX,style:{display:"none"},title:"iframe to send EPIK"})}var sq=n("271413"),sJ=n("543871"),s0=n("905101");let s1=(0,H.Z)(()=>n.e("93563").then(n.bind(n,465930)),{ssr:!1}),s3=["utm_pai","utm_source","invite_code"],s2=({isMobile:e,isTablet:t,window:n,trackRegisterAction:i})=>{try{let s="desktop";e?s="mobile":t&&(s="tablet");let o="no_preference",r="no_preference",a="no_preference",l="no_preference";n.matchMedia&&(n.matchMedia("(prefers-color-scheme: dark)").matches?o="dark":n.matchMedia("(prefers-color-scheme: light)").matches&&(o="light"),n.matchMedia("(prefers-reduced-motion: reduce)")&&(r="reduced"),n.matchMedia("(prefers-reduced-data: reduce)")&&(a="reduced"),n.matchMedia("(prefers-contrast: more)")?l="more":n.matchMedia("(prefers-contrast: less)")&&(l="less")),i("accessibility_preferences.success",{prefersColorScheme:o,uiDevice:s,prefersReducedMotion:r,prefersContrast:l,prefersReducedData:a})}catch{i("accessibility_preferences.error")}};function s6({children:e,pwaContext:t}){let n=(0,T.ZP)(),i=(0,p.TH)(),{username:s,imageLargeUrl:o,hasPassword:r,socialNetwork:u,email:_,isPartner:h}=(0,j.Z)(),m=(0,s0.U)(),g=(0,en.B)(),{appTypeDetailed:b,country:y,isAuthenticated:v,isBot:x,stage:S,userAgent:{isMobile:A,isTablet:E}}=g,I=!A&&!E,C=v&&I,k=(0,V.v)(),Z=(0,nA.Z)(),N=(0,iD.l5)(),{unauthUserStateDispatch:O}=(0,d.R)(),M=(0,a.useRef)(i),z=(0,a.useRef)(v),L=(0,R.I0)(),{checkExperiment:D}=(0,eF.F)(),U=(0,R.v9)(({session:e})=>e.isCachedRender),B=(0,R.v9)(({users:e})=>{let t=Object.keys(e).find(t=>void 0!==e[t].login_state);return!!t&&(0,sg.xT)(e[t])}),H=!(ij.Z.includes(y)||"CA"===y),F=u?.google.connected||u?.gplus.connected,G=u?.facebook.connected,K=D("aid_exp_move_custom_shortcuts_context_provider").anyEnabled&&v&&h?ik.r:a.Fragment,{path:X}=(0,p.$B)();!function(){let e=(0,T.ZP)(),{isAuthenticated:t}=(0,en.B)(),{checkExperiment:n}=(0,eF.F)(),i=(0,a.useRef)(!1);i.current||(t&&"desktop"===e&&!n("web_auth_desktop_default_pin_rep").anyEnabled?sO.BK.preload():sO.Tw.preload(),i.current=!0)}(),function(){let e=(0,T.ZP)();(0,a.useEffect)(()=>{"desktop"===e?$.bN.preload():$.p4.preload()},[e])}(),function(){let e=(0,R.v9)(({session:e})=>e.isPWA),t=(0,iD.yz)(),n=(0,iD.l5)(),i=(0,s_.Z)(),s=(0,T.HG)(),o=(0,R.v9)(e=>e.session.isAuthenticated)&&s,r=(0,V.v)();(0,ec.Z)(()=>{if(e){let e=t??"unknown",i="unknown"===e?(0,su.FB)(window)??"unknown":e;r.logContextEvent({view_type:170,view_parameter:(0,su.Kj)(i,n??"unknown")||void 0,component:13162,event_type:102,aux_data:{pwa_type:i}})}sc.Z.onSessionResume(()=>{o||(0,iT.Z)(),q.Z.resume()}).onSessionPause(e=>{q.Z.pause(),i?.unregisterApp(!1,!0,{type:"PageVisibility.onSessionResume.unregisterApp",pauseReason:e}),"blur"===e||(r.flushContextEvents(!0),(0,sd.Z)()||(0,sp.Qi)())})})}();let Y=(0,a.useRef)(!0),[Q,ee]=(0,a.useState)(!navigator.onLine),[et]=(0,a.useState)((0,el.mB)(i.search).invite_code||null),{activateActivationHoldoutExperiments:ei}=function(){let{checkExperiment:e}=(0,eF.F)(),t=(0,j.Z)().isAuth;return{activateActivationHoldoutExperiments:(0,a.useCallback)(()=>{e("pinner_conversion_team_holdout_2024_h2")},[e]),userIsEligibleForShippedActivationExperiment:(n,i)=>!t||"h1"===i||"holdout"!==e("pinner_conversion_team_holdout_2024_h2").group}}(),{activateUnauthHoldoutExperiments:es}=(0,iV.Z)();(0,a.useEffect)(()=>{let e=t=>{"offline"===t.type?(ee(!0),window.addEventListener("online",e)):(ee(!1),window.removeEventListener("online",e))};return window.addEventListener("offline",e),()=>{window.removeEventListener("offline",e)}},[]),(0,a.useEffect)(()=>{m&&C&&(m.preload?.(sJ.ke("index.js")),m.preload?.(sJ.ke("pin/[id].js")),m.preload?.(sJ.ke("search/[scope].js")),m.preload?.(sJ.ke("[username].js")))},[m,C]),(0,a.useEffect)(()=>{v&&ei()},[v,ei]),(0,a.useEffect)(()=>{v||es()},[es,v]),(0,a.useEffect)(()=>{B||setTimeout(async()=>{try{let e=await iZ();(0,tN.Z)({url:"/v3/spam/fingerprints/",method:"POST",data:{fingerprint:e}})}catch(e){(0,w.nP)("webapp.generateClientFingerprint.failure",{sampleRate:1})}},300)},[B]),(0,a.useEffect)(()=>{(0,iO.ZP)({pageType:A||E||!v?"duplo":"web",requestContext:g,route:X})},[]),function({appType:e,isAuthDesktop:t,isBot:n,newVersionAvailable:i,stage:s}){let o=(0,p.TH)(),r=(0,a.useRef)(o),l=(0,a.useRef)(!1),u=(0,sI.Z)(),{checkExperiment:d}=(0,eF.F)(),{anyEnabled:_,group:h}=d("web_optimized_page_refresh");(0,a.useEffect)(()=>{if(i&&!l.current){let t=!!window.navigator.connection&&["slow-2g","2g","3g"].includes(window.navigator.connection.effectiveType),n=parseInt(h.split("enabled_")[1]||"",10);if(window.Cypress)l.current=!1;else if(t||_&&!Number.isNaN(n)){let{maxStalenessReached:i,firstDelayTime:s}=sk(t?24:n);i?((0,st.L_)(sC),(0,w.nP)("web_skip_hard_refresh_max_stale",{sampleRate:.1,tags:{appVersion:u,connectionType:window.navigator.connection?.effectiveType||"unknown",appType:e,experimentGroup:h||"unknown"}}),l.current=!0):((0,w.nP)("web_skip_hard_refresh",{sampleRate:.1,tags:{appVersion:u,connectionType:window.navigator.connection?.effectiveType||"unknown",appType:e,experimentGroup:h||"unknown"}}),s||(0,st.Nh)(sC,Date.now()),l.current=!1)}else l.current=!0}}),(0,a.useEffect)(()=>{r.current!==o&&l.current&&"latest.pinterest.com"!==window.location.hostname&&((0,sE.Z)({deviceType:t?"desktop":"mobile",eventType:"refresh",eventName:"react_hardReloadOnRouteChange",stage:s,currVersion:u,isBot:n,appType:e}),c.ZP.setItem("isForcedReload",!0),window.location.reload(!0)),r.current=o},[o])}({appType:b,isAuthDesktop:C,isBot:x,newVersionAvailable:iC.Z.isNewVersionRequired(),stage:S}),(0,a.useEffect)(()=>{U&&(async()=>{(0,w.nP)("webapp.UnifiedWWWApp.fetchState",{sampleRate:1,tags:{appTypeDetailed:b,isAuthenticated:v,isBot:x,isCachedRender:U,isDesktop:I,handler:(0,sq.H)()}});let e=new URLSearchParams({source_url:window.location.pathname}),t=await window.fetch("/_/_/state?"+e.toString(),{method:"GET",mode:"same-origin",keepalive:!0}),n=await t.json();L({type:"REPLACE_STATE",payload:n}),L({type:"FETCH_EXPERIENCES",payload:n.experiences})})()},[L,U]);{let e=document.getElementById("shell-loader");e instanceof HTMLElement&&document.body?.removeChild&&document.body.removeChild(e)}(0,a.useEffect)(()=>{if(!C){let e=setInterval(()=>k.flushContextEvents(),1e4);return()=>{clearInterval(e)}}},[k,C]),(0,a.useEffect)(()=>{v&&!I&&v!==z.current&&(0,iB.Fv)(),(!z.current&&v||M.current!==i&&M.current.pathname.startsWith("/email/subscription"))&&(0,iT.Z)(),z.current=v},[v,I,i]),(0,a.useEffect)(()=>{let e=(0,sM.Wz)(i,s),t=i!==M.current;(t||Y.current)&&L(e),!v&&(t||Y.current)&&((0,sK.Z4)(i.pathname,e.payload),O({type:"UPDATE"})),Y.current&&(Y.current=!1),M.current=i},[L,v,i,O,s,Y]),(0,a.useEffect)(()=>{if(Y.current){let e=new URLSearchParams(i.search);if((0,J.ey)(i)&&e.has("invite_code")&&(0,sv.Lp)(e.get("invite_code")),(0,J.Tw)(i)&&e.has("utm_campaign")&&(0,sw.S)(e.get("utm_campaign")||"",e.get("utm_content")),v)(0,iN.Z)();else{let t=(0,n2.an)(""),n=t?new URL(t).hostname:"",i=new URLSearchParams;for(let t of s3)e.has(t)&&i.set(t,e.get(t)||"");let s=i.toString();(n||s)&&(0,sP.C)(`${n}${s?"?"+s:""}`)}}},[i,v]),(0,ec.Z)(()=>{s2({isAuthenticated:v,isMobile:A,isTablet:E,window,trackRegisterAction:nS.My})}),(0,a.useEffect)(()=>{(0,nS.tj)(`mweb.${v?"auth":"unauth"}.window_size`,{width:void 0!==window.screen&&window.screen.width,height:void 0!==window.screen&&window.screen.height})},[v]),(0,a.useEffect)(()=>{let e=(e,t)=>{(0,nS.tj)(`mweb.connection_status_${e}`,{downlink:t.downlink,downlinkMax:t.downlinkMax,effectiveType:t.effectiveType,rtt:t.rtt,saveData:t.saveData,type:t.type,isAuth:v})},t=t=>{t&&t.currentTarget&&e("change",t.currentTarget)};if(window.navigator&&window.navigator.connection){let{connection:n}=window.navigator;e("initial",n),n.addEventListener("change",t)}return()=>{if(window.navigator&&window.navigator.connection){let{connection:e}=window.navigator;e.removeEventListener("change",t)}}},[v]),function(){let{isAuthenticated:e}=(0,en.B)(),t=(0,T.HG)();(0,a.useEffect)(()=>{if(!e)return;let n=t?sh.f$:sh.wQ,i=async e=>{let t=await (0,tN.Z)({url:"/v3/sessions/verify/",method:"PUT",data:{recaptcha_token:e}});(0,w.nP)("recaptcha_auth.done",{sampleRate:1,tags:{action:n,resp_code:t.status}})},s=()=>(0,sh.rY)(i,()=>{},n);"requestIdleCallback"in window?setTimeout(()=>{requestIdleCallback(s,{timeout:sh.oH-sh.OA})},sh.OA):setTimeout(s,sh.OA)},[e,t])}(),(0,a.useEffect)(()=>{(0,iz.RD)(e=>(0,nS.My)(e),C?"web":"mweb")},[C]);let eo=v&&H&&D("pc_multi_account_login_storage").anyEnabled;return(0,a.useEffect)(()=>{eo&&function({avatar:e,username:t,email:n,hasPassword:i,googleConnection:s,facebookConnection:o}){let r=sx(),a=(0,l.M0)().getItem(f.V6),c=[];r?(c=sA({hasPassword:i,googleConnection:s,facebookConnection:o,pastLogins:r[t]?.loginMethods||c}),r[t]={avatar:e,loginMethods:c,email:n,lastLogin:a},(0,l.M0)().setItem(f.Y8,r),(0,nS.My)(`pc.auth.multiple_account_storage.num_accounts.${Object.keys(r).length}`)):(c=sA({hasPassword:i,googleConnection:s,facebookConnection:o,pastLogins:[]}),(0,l.M0)().setItem(f.Y8,{[t]:{avatar:e,loginMethods:c,email:n,lastLogin:a}}),(0,nS.My)("pc.auth.multiple_account_storage.num_accounts.1"))}({avatar:o,username:s,email:_,hasPassword:r,facebookConnection:G,googleConnection:F})},[eo,r,o,s,_,F,G]),(0,a.useEffect)(()=>{let e=()=>(0,nS.qJ)(C?"auth_web_funnel":"mweb_funnel");return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}},[C]),(0,a.useEffect)(()=>{let e=()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize")),(0,w.nP)("webapp.UnifiedWWWApp.triggerResize",{sampleRate:1,tags:{handler:(0,sq.H)()}})},1e3),Z({action:"trigger",item:window.innerHeight<window.innerWidth?"landscape-to-portrait":"portrait-to-landscape"})};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}},[Z]),(0,P.jsx)(W.Z,{name:"WWWRoot",children:(0,P.jsx)(iL.Z,{children:(0,P.jsx)(iI.Z,{children:(0,P.jsx)(sZ.Z,{children:(0,P.jsx)(K,{children:(0,P.jsx)(sa,{children:(0,P.jsx)(iW.Z,{children:(0,P.jsxs)(iX.Z,{children:[(0,P.jsx)(i2,{children:(0,P.jsx)(sf.H,{children:(0,P.jsx)(sF.l,{children:(0,P.jsx)(sG.l,{children:(0,P.jsx)(sV.US,{children:(0,P.jsx)(sW.k,{children:(0,P.jsx)(sT.C,{children:(0,P.jsx)(sR.t7,{children:(0,P.jsx)(iK.W,{children:(0,P.jsx)(i$.q,{children:(0,P.jsx)(iF.Wr,{children:(0,P.jsx)(iY.pb,{children:(0,P.jsx)(iD.of,{initialContext:t,children:(0,P.jsx)(sl.fr,{children:(0,P.jsx)(i7.p,{children:(0,P.jsx)(s$.w,{children:(0,P.jsx)(i6.X,{children:(0,P.jsx)(sj.vo,{children:(0,P.jsx)(sN.T,{children:(0,P.jsx)(i_.m,{children:(0,P.jsx)(i4,{children:(0,P.jsx)(sH,{children:(0,P.jsx)(iU.Z,{scrollOn:v&&"desktop"===n?"timeout":"animationFrame",children:(0,P.jsx)(sy,{inviteCode:et,children:(0,P.jsx)(i8.w,{children:(0,P.jsx)(iM.A,{children:(0,P.jsx)(sz.Q,{children:(0,P.jsxs)(iH.o$,{value:et,children:[(0,P.jsx)(i0,{isOffline:Q}),(0,P.jsx)(se,{}),v&&(0,P.jsx)(iR.Z,{}),e,N&&"unknown"!==N&&(0,P.jsx)(W.Z,{name:"SafeSuspense_MobileApp_TwaPinterestLite",children:(0,P.jsx)(s1,{})}),(0,P.jsx)(si,{}),(0,P.jsx)(sQ,{})]})})})})})})})})})})})})})})})})})})})})})})})})})})})}),(0,P.jsx)(iG.Z,{})]})})})})})})})})}var s8=n("848524"),s5=n("554281");function s9({children:e,context:t,copytuneExperiments:n,inContextTranslation:i,initialReduxState:s,pwaContext:o,requestContext:r,resourceCreator:_,traceLoggerData:p,store:h}){let{isAuthenticated:f,countryFromHostName:m,countryFromIp:g}=r,b=(0,s5.MM)(),{group:y}=(0,s8.DB)();return(0,l.CS)({countryFromHostName:m||"",countryFromIp:g||"",isAuthenticated:f}),(0,c.QT)({countryFromHostName:m||"",countryFromIp:g||"",isAuthenticated:f}),(0,a.useEffect)(()=>{(0,w.LY)("www.appWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:y,handler:b,isAuthenticated:f,isMobile:r.userAgent.isMobile||r.userAgent.isTablet}})},[]),(0,P.jsx)(u.Z,{context:t,copytuneExperiments:n,inContextTranslation:i,reduxStore:h,requestContext:r,resourceCreator:_,serverState:s,traceLoggerData:p,children:(0,P.jsx)(d.M,{initialState:{isAuthenticated:f,countryFromHostName:m,countryFromIp:g},children:(0,P.jsx)(s6,{pwaContext:o,children:(0,P.jsx)(iE,{children:e})})})})}},966539:function(e,t,n){n.d(t,{FT:function(){return _},GW:function(){return c},HW:function(){return d},PX:function(){return m},V3:function(){return u},Wo:function(){return p},XA:function(){return E},bJ:function(){return h},cZ:function(){return x},dF:function(){return P},f6:function(){return A},jY:function(){return I},k:function(){return y},kV:function(){return v},nP:function(){return w},nY:function(){return g},pg:function(){return S},qc:function(){return f},tR:function(){return b}});var i=n(25348),s=n(67852),o=n(105161),r=n(916225),a=n(49315),l=n(49441);let c="/branded-pins",u={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},d=(0,s.Z)({REQUESTED:0,APPROVED:1,REJECTED:2}),_=e=>{let t;switch(e){case u.PENDING:t=d.REQUESTED;break;case u.APPROVED:t=d.APPROVED;break;case u.DENIED:t=d.REJECTED;break;default:t=d.REQUESTED}return t},p={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},h=(e,t,n)=>{let i;let s={[p.APPROVED]:{icon:"workflow-status-ok",displayText:e._('Approved', 'brandedContentPinCard.footer.approvedIcon', 'Branded Pin card status text on bizhub widget'),color:"success"},[p.REJECTED]:{icon:"workflow-status-problem",displayText:e._('Denied', 'brandedContentPinCard.footer.deniedIcon', 'Branded Pin card status text on bizhub widget'),color:"error"},[p.ERROR]:{icon:"workflow-status-problem",displayText:e._('Try again', 'brandedContentPinCard.footer.errorIcon', 'Branded Pin card status text on bizhub widget'),color:"error"}};return 1===n&&(i=s.APPROVED),2===n&&(i=s.REJECTED),!0===t&&(i=s.ERROR),i},f=e=>{let t;return e===p.APPROVED?t=1:e===p.REJECTED&&(t=2),t},m=(e,t)=>(0,o.ZP)(e,t,"…",!0),g=`${l.C0}/branded-pins/`,b=(e,t)=>{let n=i.Z.create({entity:"campaign"});return e&&t?(0,a.Z)(r.auO+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):r.auO},y={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},v=302,w=420,P=254,x=142,S=173,A=12,E=35,I=9},116777:function(e,t,n){n.d(t,{e:function(){return i},p:function(){return s}});let{Provider:i,useHook:s}=(0,n(486188).Z)("headerButtonContext")},784929:function(e,t,n){n.d(t,{B1:function(){return g},ZP:function(){return y},t1:function(){return b}});var i=n(667294),s=n(883119),o=n(787997),r=n(674320),a=n(310387),l=n(558792),c=n(861025),u=n(708130),d=n(949739),_=n(522282),p=n(150608),h=n(785893);let f=({anchorElementRef:e,children:t,url:n})=>"/"===n?(0,h.jsx)(l.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,m=({children:e,role:t,url:n,contextData:i,onClick:a,dataTestId:l})=>{let c=(0,r.Z)(),u=(0,_.Z)({href:n||"",onHistoryChange:d.Z}),{onBlur:f,onFocus:m,onMouseDown:g,onMouseEnter:b,onMouseLeave:y,onMouseUp:v}=(0,p.Z)(),{startPrefetchTimer:w,cancelPrefetchTimer:P,onNavigateToHomefeed:x}=(0,o.$)(),{onMouseDown:S,onNavigateToHomefeed:A}=(0,o.C)(),E=e=>{if(i){let{event:e,component:t,element:n}=i;c({component:t,element:n,event_type:e})}a&&a(e)};return"link"===t?(0,h.jsx)(s.Tg,{href:n||"",onBlur:f,onFocus:()=>{m()},onMouseDown:()=>{"home-tab"===l&&S(),g()},onMouseEnter:()=>{"home-tab"===l&&w(),b()},onMouseLeave:()=>{"home-tab"===l&&P(),y()},onMouseUp:v,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),E(e),n&&(x(),A(),u({event:e}))},rounding:6,children:e}):(0,h.jsx)(s.iP,{onBlur:f,onFocus:m,onMouseDown:g,onMouseEnter:b,onMouseLeave:y,onMouseUp:v,onTap:({event:e})=>{E(e),n&&u({event:e})},role:"button",rounding:6,children:e})},g=({i18n:e})=>(0,h.jsx)(s.xu,{"aria-label":e._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications'),color:"primary",height:6,marginStart:1,marginTop:-2,rounding:"circle",width:6});function b({text:e}){return(0,h.jsx)("p",{style:{background:"linear-gradient(89deg, #B237A5 -3.78%, #177CBA 102.89%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:"16px",fontStyle:"normal",fontWeight:600,lineHeight:"normal",margin:0},children:e})}function y({colorfulGradient:e,contextData:t,dataTestId:n,iconEnd:o,isSelected:r,onClick:l=()=>{},role:d="link",showNotifBadge:_=!1,text:y,url:v}){let w=(0,u.ZP)(),P=(0,i.useRef)(null),{active:x,hovered:S}=(0,p.Z)(),A=(0,c.Z)(1000109);return(0,h.jsx)(s.xu,{"data-test-id":n,flex:"none",height:48,minWidth:60,rounding:6,children:(0,h.jsx)(f,{anchorElementRef:P,url:v||"",children:(0,h.jsx)(m,{contextData:t,dataTestId:n,onClick:e=>{l(e),_&&A.completeExperience(1000109,505586)},role:d,url:v,children:(0,h.jsx)(s.xu,{color:r||x?"selected":S?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:x&&!r?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:6,children:(0,h.jsxs)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[e?(0,h.jsx)(b,{text:y}):(0,h.jsx)(s.xv,{align:"center",color:r?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:y}),o&&(0,h.jsx)(s.xu,{marginStart:2,children:(0,h.jsx)(s.JO,{accessibilityLabel:"",color:r?"inverse":"default",icon:o,size:12})}),_&&(0,h.jsx)(a.Z,{eligibleIds:[505586],placementId:1000109,children:(0,h.jsx)(g,{i18n:w})})]})})})})})}},926282:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(883119),s=n(572934),o=n(674320),r=n(708130),a=n(49441),l=n(959474),c=n(785893);function u({isWwwSite:e=!0,onClick:t,startPrefetchTimer:n,cancelPrefetchTimer:u,url:d,size:_,defaultPaddingBasedOnSize:p,tooltip:h,onMouseDown:f}){let m=(0,r.ZP)(),g=(0,l.Z)(),b=(0,o.Z)(),{enabled:y}=(0,s.Z)(),v=e?"/":a.C0;g.partner&&(v=e?"/":a.Ag);let w=e&&d?d:v;return(0,c.jsx)(i.xu,{onMouseDown:f,onMouseEnter:n,onMouseLeave:u,children:(0,c.jsx)(i.I_,{accessibilityLabel:m._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),href:w,icon:"pinterest",iconColor:"brandPrimary",onClick:()=>{b({component:8,element:244,event_type:101}),t&&t()},padding:p?void 0:3,size:_||"xl",tabIndex:y?void 0:-1,tooltip:h})})}},785328:function(e,t,n){n.d(t,{Z:function(){return i}});let i=({username:e,isIdeaPinRenamingEnabled:t})=>({bag:"shop_pins",explore:"discover",home:"/",profile:e,search:"search",today:"today",create:t?"pin-creation-tool":"idea-pin-builder"})},688891:function(e,t,n){n.d(t,{Z:function(){return i}});let i=({pathname:e,iconRoutes:t})=>{if("/"===e||""===e)return"home";let n=e.split("/",2)[1];if(n&&t){for(let e of Object.keys(t))if(n===t[e])return e}return null}},430732:function(e,t,n){n.d(t,{H8:function(){return p},Ut:function(){return _},fr:function(){return d}});var i=n(667294),s=n(486188),o=n(721259),r=n(151531),a=n(785893);let l=()=>n.e("42349").then(n.bind(n,527722)),{Provider:c,useHook:u}=(0,s.Z)("IdeaPin");function d({children:e}){let[t,n]=(0,o.Z)(l,r.Z),s=(0,i.useMemo)(()=>({dispatch:n,ideaPin:t}),[n,t]);return(0,a.jsx)(c,{value:s,children:e})}function _(){let{dispatch:e}=u();return(0,i.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function p(){let{ideaPin:e}=u();return e}},151531:function(e,t,n){n.d(t,{Z:function(){return i}});let i={activePage:0,dynamicWidth:0}},459336:function(e,t,n){n.d(t,{H:function(){return c},N:function(){return l}});var i=n(667294),s=n(486188),o=n(476878),r=n(785893);let{Provider:a,useHook:l}=(0,s.Z)("LastSavedTo");function c({children:e}){let[t,n]=(0,i.useState)();(0,o.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;n(t)}});let s=(0,i.useCallback)(e=>{let i=t?t.filter(t=>t.id!==e.id):[];n([e,...i])},[t]),l=(0,i.useMemo)(()=>({lastSavedTo:t,saveToBoard:s}),[t,s]);return(0,r.jsx)(a,{value:l,children:e})}},968037:function(e,t,n){n.d(t,{U:function(){return d},m:function(){return _}});var i=n(667294),s=n(581722),o=n(486188),r=n(337907),a=n(933404),l=n(959474),c=n(785893);let{Provider:u,useHook:d}=(0,o.Z)("NavFooterContext");function _({children:e}){let[t,n]=(0,i.useState)(),[o,d]=(0,i.useState)(!1),[_,p]=(0,i.useState)(0),[h,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),P=(0,a.Z)(null,(0,l.Z)()),x=(0,s.v9)(e=>e.session.isAuthenticated),S=(0,s.v9)(e=>x?e.users[e.session.userId]:void 0),A=(0,r.Z)(S?.created_at);return(0,c.jsx)(u,{value:{forceShowNavFooter:b,homeFlyoutText:t,isNavFooterHiddenAfterScroll:o,isNavFooterHiddenByPinActionBar:v,navFooterHeight:o?0:x&&(P||A)?64:52,numUnauthSavedPins:_,setForceShowNavFooter:y,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:d,setIsNavFooterHiddenByPinActionBar:w,setNumUnauthSavedPins:p,setShowHomeBadge:f,setShowHomeFlyoutWithButton:g,showHomeBadge:h,showHomeFlyoutWithButton:m},children:e})}},797987:function(e,t,n){n.d(t,{D:function(){return i},a:function(){return s}});let{Provider:i,useMaybeHook:s}=(0,n(486188).Z)("unauthPageWrapperContext")},16406:function(e,t,n){n.d(t,{$:function(){return o},J:function(){return s}});var i=n(883119);let s=new i.Ry(5),o=new i.Ry(1e3)},178035:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(616550),s=n(551304),o=n(55077);function r(){let e=(0,i.TH)();return"desktop"===(0,o.ZP)()?(0,s.mP)(e)||(0,s.hd)(e):(0,s.mP)(e)}},31469:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(616550),s=n(551304),o=n(55077),r=n(368169),a=n(615353);let l=e=>e.pathname.includes("_created")||e.pathname.includes("boards")&&!(0,s.En)(e)||e.pathname.includes("_saved");function c(){let e=(0,o.ZP)(),t=(0,i.TH)(),n=(0,r.Z)(),c=(0,a.Z)();return"phone"===e?c&&!l(t)&&!n:"tablet"===e?!(0,s.En)(t)&&!(0,s.Xn)(t):!((0,s.Ni)(t)||(0,s.Xn)(t)||"/invited/"===t.pathname)}},289050:function(e,t,n){n.d(t,{K:function(){return r},T:function(){return a}});var i=n(667294),s=n(785893);let o=(0,i.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,i.useContext)(o);function a({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})}),[t]);return(0,s.jsx)(o.Provider,{value:r,children:e})}},845823:function(e,t,n){n.d(t,{k:()=>u,b:()=>c});var i=n("667294"),s=n("486188");let o={selectedStelaItem:null};function r(e=o,t){return"STELA_SELECT"===t.type?{...e,selectedStelaItem:t.payload.selectedStelaItem}:e}var a=n("785893");let{Provider:l,useHook:c}=(0,s.Z)("Stela");function u({children:e}){let[t,n]=(0,i.useReducer)(r,o),s=(0,i.useCallback)(({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})},[]),c=(0,i.useMemo)(()=>({stela:t,selectStela:s}),[t,s]);return(0,a.jsx)(l,{value:c,children:e})}},289782:function(e,t,n){n.d(t,{US:function(){return m},X2:function(){return b},mW:function(){return g}});var i=n(667294),s=n(694623),o=n(674320),r=n(486188),a=n(643401),l=n(476878),c=n(721259),u=n(785893);let d=()=>n.e("22493").then(n.bind(n,475201));function _(e,t,n=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:n}}}function p(e){return s.Z.create("InterestFollowResource",{interest_id:e,interest_list:a.X})}let{Provider:h,useHook:f}=(0,r.Z)("Topics");function m({children:e}){let[t,n]=(0,c.Z)(d,{}),s=e=>{n({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,l.Z8)("InterestFollowingResource",s),(0,l.Z8)("InterestResource",s);let o=(0,i.useMemo)(()=>({dispatch:n,topics:t}),[n,t]);return(0,u.jsx)(h,{value:o,children:e})}function g(){let{dispatch:e}=f(),t=(0,o.Z)();return(0,i.useMemo)(()=>({follow:async(n,i=!1)=>{e(_(n,!0,i));try{await p(n).callCreate({showError:!1}),t({event_type:601,object_id_str:n})}catch(t){e(_(n,!1,i))}},unfollow:async n=>{e(_(n,!1));try{await p(n).callDelete({showError:!1}),t({event_type:602,object_id_str:n})}catch(t){e(_(n,!0))}}}),[e,t])}function b(){let{topics:e}=f();return e}},41272:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(581722);let s=()=>(0,i.v9)(({session:{canUseNativeApp:e}})=>e)},169248:function(e,t,n){n.d(t,{N:function(){return l},h:function(){return c}});var i=n(667294),s=n(325454),o=n(486188),r=n(785893);let{Provider:a,useHook:l}=(0,o.Z)("NativeAppInstalled");function c({children:e}){let[t,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),c=(0,i.useCallback)(e=>{n(e)},[]),u=(0,i.useCallback)(e=>{l(e)},[]);(0,i.useEffect)(()=>{!async function(){let e=await (0,s.Z)();l(!0),e.length>0&&n(!0)}()},[]);let d=(0,i.useMemo)(()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:c,isCheckComplete:o,setIsCheckCompleteVal:u}),[t,c,o,u]);return(0,r.jsx)(a,{value:d,children:e})}},280874:function(e,t,n){n.d(t,{P:function(){return l},n:function(){return a}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useHook:a}=(0,s.Z)("ShowReferredAppUpsell");function l({children:e}){let[t,n]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)("other"),[u,d]=(0,i.useState)(""),_=(0,i.useCallback)(e=>{n(e)},[]),p=(0,i.useCallback)(e=>{a(e)},[]),h=(0,i.useCallback)(e=>{c(e)},[]),f=(0,i.useCallback)(e=>{d(e)},[]),m=(0,i.useMemo)(()=>({showReferredAppUpsell:t,setShowReferredAppUpsellVal:_,isInlineUpsell:s,setIsInlineUpsellVal:p,appUpsellType:l,setAppUpsellTypeVal:h,uiType:u,setUiTypeVal:f}),[t,_,s,p,l,h,u,f]);return(0,o.jsx)(r,{value:m,children:e})}},370837:function(e,t,n){n.d(t,{X:function(){return l},m:function(){return a}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useHook:a}=(0,s.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),s=(0,i.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:n}),[t]);return(0,o.jsx)(r,{value:s,children:e})}},379569:function(e,t,n){n.d(t,{v:function(){return i}});let i="imgViewer"},82217:function(e,t,n){n.d(t,{Z:function(){return o},j:function(){return i}});let{Provider:i,useHook:s}=(0,n(486188).Z)("MoreLikeThisContext"),o=s},640474:function(e,t,n){n.d(t,{C:function(){return a},p:function(){return l}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useHook:a}=(0,s.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),s=(0,i.useCallback)(()=>n(void 0),[]),a=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:s}),[t,s]);return(0,o.jsx)(r,{value:a,children:e})}},968964:function(e,t,n){n.d(t,{A:function(){return a},N:function(){return l}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useHook:a}=(0,s.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){let[n,s]=(0,i.useState)(t),a=(0,i.useMemo)(()=>({searchContext:n,updateSearchContext:s}),[n,s]);return(0,o.jsx)(r,{value:a,children:e})}},979303:function(e,t,n){n.d(t,{G3:function(){return u},Rp:function(){return c},kp:function(){return a}});var i=n(391501),s=n(192872),o=n(676129);let r=14*i.F4,a=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,s.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,s.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:!!(0,o.qn)("showedAppUpsellCurrentSession")}}();return e?function(e,t,n){let{currentTime:i,firstUpsellTime:o,lastUpsellTime:a,showedAppUpsellCurrentSession:l}=e;return(n=n||r,!o||i<o+t)?!l:i-a>n&&((0,s.L_)("firstUpsellTime"),!0)}(n,i.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||n-i>t}(n,t)},l=e=>{let t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},c=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(l(n))}catch(e){return!1}},u=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},361190:function(e,t,n){n.d(t,{M:()=>T,R:()=>C});var i=n("667294"),s=n("980570"),o=n("644155"),r=n("486188"),a=n("3915"),l=n("236256"),c=n("555597"),u=n("700426");let d=()=>(0,a.M0)().getItem(s.Vb)||[],_=({pinId:e,link:t,imageSignature:n,domain:i})=>{let o=[...d()],r=o.length,l=r?o[0].pinId:"";if(!r||e!==l){let o=(0,u.Z)({pinId:e,link:t,imageSignature:n,domain:i});(0,a.M0)().prependItem(s.Vb,o,c.LG)}},p=()=>(0,a.M0)().getItem(s.ny)||[],h=({query:e,rs:t,scope:n,rg:i})=>{let o=[...p()],r=o.length,l=r?o[0].query:"";if(!r||e!==l){let o=(0,u.Z)({query:e,rs:t,scope:n,rg:i});(0,a.M0)().prependItem(s.ny,o,c.LG)}},f=({query:e})=>{let t=[...p()].filter(t=>t.query!==e);(0,a.M0)().setItem(s.ny,t)};function m(e,t,n){if(e>=n)return`${n}+`;if(e<=0)return"0";let i=e.toString();if(e>t){let n=Math.floor(e/t);i=`${n*t}+`}return i}var g=n("484083"),b=n("380154"),y=n("47646"),v=n("785893");let w=()=>(0,a.M0)().getItem(s.s1)??[],P=()=>parseInt((0,a.M0)().getItem(s.rN)||0,10),x=e=>m(e,5,20),S=(e,t,n)=>t.reduce((t,n)=>(Array.isArray(e[n])&&(t[n+"Count"]=x(e[n].length)),t),n),A=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:i,downloadedPinsCount:s}=e;e.isQUS=Number(t.length>=1||n.length>=3||i.length>=1||s>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{ts:n}=t,i=new Date,s=new Date(n||i),o=Math.max(Math.floor(Number(((i.getTime()-s.getTime())/864e5).toFixed(2))),0),r=m(o,7,84);return[o,r]},getStatslogData:function(){return{core:S(e,[],{isQUS:e.isQUS.toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket}),counts:S(e,["closeupPins","completedSearches","clickthroughPins","savedPins","invitesRedeemed"],{revisitationCount:x(e.revisitationState.count||1),downloadedPinsCount:x(e.downloadedPinsCount)})}}}),E=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n})=>{let i={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:(0,b.K7)(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number((0,o.j)(t||"")&&(0,o.j)(n||""))};if(e||!i.isAllowedCountry)return Object.freeze({...A(i),...i});i.closeupPins=(0,y.Z)(),i.completedSearches=p(),i.clickthroughPins=d(),i.downloadedPinsCount=P(),i.savedPins=w(),i.invitesRedeemed=(0,g.SL)(),i.revisitationState=(0,b.iU)();let s=A(i),[r,a]=s._getDaysSinceLastRevisitation();return i.daysSinceLastRevisitation=r,i.daysSinceLastRevisitationBucket=a,s._updateUnauthUserAggregateDefinitions(),Object.freeze({...s,...i})},{Provider:I,useHook:C}=(0,r.Z)("UnauthUserStateContext");function k(e,t){let{isAuthenticated:n,countryFromIp:i,countryFromHostName:s,isAllowedCountry:o}=e;if(n||!o)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":h(t.payload);break;case"REMOVE_UNAUTH_COMPLETED_SEARCH":f(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":_(t.payload);break;default:return e}return E({isAuthenticated:n,countryFromIp:i,countryFromHostName:s})}function T({children:e,initialState:t}){let[n,s]=(0,i.useReducer)(k,t,E);(0,l.Z)(()=>{s({type:"UPDATE"})});let o=(0,i.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:s}),[n,s]);return(0,v.jsx)(I,{value:o,children:e})}},380154:function(e,t,n){n.d(t,{K7:function(){return r},Vd:function(){return l},iU:function(){return a}});var i=n(980570),s=n(3915),o=n(700426);let r=()=>({count:1,time:0,ts:Date.now()}),a=()=>{try{let{count:e,time:t,ts:n}=(0,s.M0)().getItem(i.SI)??{};if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return{count:e,time:t,ts:n};throw Error("Invalid revisitation data")}catch(e){return r()}},l=e=>{(0,s.M0)().setItem(i.SI,(0,o.Z)(e))}},250595:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(667294),s=n(192872);let o=e=>{if(!e)return null;try{return JSON.parse(e)}catch{return null}},r=new Set;function a(e){let t=(0,i.useCallback)(t=>{let n=n=>{n===e&&t()};return r.add(n),()=>{r.delete(n)}},[e]),n=(0,i.useSyncExternalStore)(t,()=>(0,s.qn)(e),()=>null),a=(0,i.useCallback)(t=>{null===t?(0,s.L_)(e):(0,s.Nh)(e,JSON.stringify(t)),r.forEach(t=>t(e))},[e]);return(0,i.useMemo)(()=>[o(n),a],[n,a])}},761180:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(616550);let s=Object.freeze({"/:username":"profile","/:username/:slug/:section_slug":"board","/:username/:slug":"board","/csrf_error":"csrfError","/email_verification_error":"emailVerificationError","/email/remove":"emailRemove","/email/subscription":"emailSubscription","/ideas":"ideasRoot","/ideas/:interest/:id":"ideasHub","/invited":"invited","/password/reset":"passwordReset","/pin/:id":"pin","/pin/:id/feedback":"pinFeedBack","/pin/:id/sent":"pinFeedBack","/pin/:id/visual-search":"flashlight","/pin/create/:method":"pinBookmarklet","/pw/:username":"resetPasswordUsername","/panic/":"panic","/search/:scope":"search","/shopping":"shoppingRoot","/shopping/:category/:id":"shoppingCategory","/today":"todayTab","/today/:term/:title/:articleId":"todayArticleFeed","/today/popular/:interest/:interestId":"todayArticleInterestFeed","/tv":"LiveSessionEvent","/tv/:pin_id":"liveSessionCloseup","/unlink":"unlinkAccount","/videos":"videosRoot","/videos/:category/:id":"videosCategory"}),o=()=>{let{path:e}=(0,i.$B)();return s[e]||"unknown"}},586844:function(e,t,n){function i(e){return!!e?.is_matured_new_user}n.d(t,{IR:function(){return r},V0:function(){return i},Wn:function(){return o},xT:function(){return s}});let s=e=>!!e&&2===e.login_state,o=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},481771:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(320288);let s=(e,t)=>(0,i.nP)(`pinner_conversion.upsell.mweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t})},411430:function(e,t,n){n.d(t,{C:function(){return l},P:function(){return a}});var i=n(268339),s=n(551304),o=n(816720),r=n(320288);let a=()=>!!(0,o.Nl)().getItem(i.Ih),l=e=>{(0,s.LM)(e)&&!a()&&((0,o.Nl)().setItem(i.Ih,"1"),(0,r.nP)("mobile_signup_modal.rules.suppress_for_discover_article",{flushImmediate:!0,sampleRate:1}))}},656156:function(e,t,n){n.d(t,{RG:function(){return f},o6:function(){return h},t7:function(){return p}});var i=n(667294),s=n(616550),o=n(486188),r=n(137123),a=n(721259),l=n(131699),c=n(785893);let u=()=>n.e("56675").then(n.bind(n,249116)),{Provider:d,useHook:_}=(0,o.Z)("SkinToneFilter");function p({children:e}){let[t,n]=(0,a.Z)(u,l.Z),o=(0,s.TH)();(0,i.useEffect)(()=>{let e;if(((0,r.mB)(o.search)||{}).q){let t=o.pathname.split("/");e=t.length>2?t[2]:"pins"}e||n({type:"RESET_SKIN_TONE_QUERY_USES"})},[n,o]);let _=(0,i.useMemo)(()=>({dispatch:n,skinToneFilters:t}),[n,t]);return(0,c.jsx)(d,{value:_,children:e})}function h(){let{dispatch:e}=_();return(0,i.useMemo)(()=>({updateShowSkinToneFilters:t=>{e({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:t}})},updateSkinToneFilterQueryUses:t=>{e({type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:t}})},viewedOwnProfile:()=>e({type:"RESET_SKIN_TONE_QUERY_USES"})}),[e])}function f(){let{skinToneFilters:e}=_();return e}},131699:function(e,t,n){n.d(t,{Z:function(){return i}});let i={skinToneQueryUses:{numQueryUses:0,lastQuery:""},showSkinToneFilters:!1}},953958:function(e,t,n){n.d(t,{p:function(){return i}});let i=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},371344:function(e,t,n){n.d(t,{Cp:function(){return c},FK:function(){return l},H5:function(){return v},MI:function(){return f},O0:function(){return h},QZ:function(){return a},W:function(){return b},WF:function(){return d},Wz:function(){return w},a5:function(){return _},dz:function(){return g},e0:function(){return p},e2:function(){return r},iW:function(){return y},n1:function(){return o},rm:function(){return u},xu:function(){return m}});var i=n(551304),s=n(197917);let o=()=>({type:"DISMISS_UNAUTH_SAVE"}),r=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),a=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),c=()=>({type:"SHOW_NAV_FOOTER"}),u=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),d=()=>({type:"SHOW_REPIN_ANIMATION"}),_=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),h=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),f=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),m=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),b=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),y=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},v=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),w=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,s.Z)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":""})},577976:function(e,t,n){n.d(t,{M:function(){return a},Q:function(){return l}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useMaybeHook:a}=(0,s.Z)("RepinContext");function l({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),s=(0,i.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>({...t,[e]:null}))}),[t]);return(0,o.jsx)(r,{value:s,children:e})}},354560:function(e,t,n){n.d(t,{H:function(){return s},I:function(){return i}});let{Provider:i,useHook:s}=(0,n(486188).Z)("ScreenSize")},201462:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(667294),s=n(883119),o=n(558919),r=n(785893);function a({isOpen:e,onDismiss:t,type:n,textAlign:a,accessibilityModalLabel:l,heading:c,headingMarginTop:u,description:d,hasMultiLineDescription:_,primaryBtnParams:p,secondaryBtnParams:h,showDismissIcon:f,headingSize:m,closeOnOutsideClick:g}){let b=(e,t)=>e?(0,i.isValidElement)(e)?e:(0,r.jsx)(s.xu,{marginBottom:3,children:(0,r.jsx)(s.xv,{align:a||"center",children:e})},t?`description-line-${t}`:"single-description-line"):null;return(0,r.jsx)(o.ZP,{accessibilityModalLabel:l||"",closeOnOutsideClick:g||!0,isOpen:e,mobileHideCloseIcon:!0,onDismiss:t||(()=>{}),type:n||"",children:(0,r.jsxs)(s.xu,{padding:4,children:[(0,r.jsxs)(s.xu,{marginBottom:d?3:8,marginTop:u||0,children:[f&&t&&(0,r.jsx)(s.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}),(0,r.jsx)(s.X6,{accessibilityLevel:1,align:a||"center",size:m||"500",children:c})]}),_&&Array.isArray(d)?d.map((e,t)=>b(e,t)):b(d),(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,r.jsx)(s.xu,{display:"flex",flex:"grow",justifyContent:"end",padding:1,children:(0,r.jsx)(s.zx,{accessibilityLabel:p.text,color:p.color,fullWidth:p.fullWidth??!0,onClick:p.onClick,size:"lg",text:p.text})}),h?(0,r.jsx)(s.xu,{flex:"grow",padding:1,children:(0,r.jsx)(s.zx,{accessibilityLabel:h.text,color:h.color,fullWidth:h.fullWidth??!0,onClick:h.onClick,size:"lg",text:h.text})}):null]})]})})}},89901:function(e,t,n){n.d(t,{I:function(){return l},t:function(){return a}});var i=n(667294),s=n(486188),o=n(785893);let{Provider:r,useHook:a}=(0,s.Z)("FbAuthOnlyUser");function l({children:e}){let[t,n]=(0,i.useState)(!1),s=(0,i.useCallback)(e=>{n(e)},[]),a=(0,i.useMemo)(()=>({isFbAuthOnlyUser:t,setIsFbAuthOnlyUserVal:s}),[t,s]);return(0,o.jsx)(r,{value:a,children:e})}},92030:function(e,t,n){n.d(t,{$:function(){return _},l:function(){return p}});var i=n(667294),s=n(694623),o=n(486188),r=n(55077),a=n(236256),l=n(959474),c=n(320288),u=n(785893);let{Provider:d,useHook:_}=(0,o.Z)("ShareSuggestions");function p({children:e}){let[t,n]=(0,i.useState)(void 0),o=(0,l.Z)(),_=!(0,r.HG)()&&!o.isLimitedLogin&&o.isAuth&&o.should_show_messaging;(0,a.Z)(()=>{let e=async()=>{let e=s.Z.create("ShareSuggestionsResource",{suggestion_type:"share",hide_group_conversations:!1});try{let t=(await e.callGet()).resource_response.data;n(t)}catch(e){(0,c.nP)("mweb_share_menu_load_suggestions.fail.share",{sampleRate:1})}};_&&!t&&e()});let p=(0,i.useCallback)(()=>{n(void 0)},[]),h=(0,i.useCallback)(e=>{n(e)},[]),f=(0,i.useMemo)(()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:p,updateCachedShareSuggestions:h}),[t,p,h]);return(0,u.jsx)(d,{value:f,children:e})}},47646:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(555597),s=n(217649),o=n(707172);let r=e=>{let t=new Date,n=new Date(new Date().setDate(t.getDate()-i.ZB));return e.filter(e=>"closeup"===e.pageType&&new Date(e.ts)>=n)},a=()=>r((0,o.ZP)()).map(e=>({...e,id:(0,s.Z)(e.path)||""}))},615353:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(616550),s=n(498083),o=n(3879),r=n(137123),a=n(797987);let l=()=>{let e=(0,i.TH)(),t=(0,a.a)(),{locale:n,userAgent:{platform:l,raw:c}}=(0,o.B)();if(!t)return!1;let{appInstallBannerIsEnabled:u,pinPageGlobalContext:d}=t,_=!!(0,r.mB)(e.search).invite_code;return u&&!(0,s.$K)(c)&&!(n.includes("ar")&&"ios"!==l)&&!(d?.isStoryPin===!0&&_)}},241767:function(e,t,n){n.d(t,{Z:function(){return _}});var i,s=n(667294),o=n(167912),r=n(616550),a=n(673695),l=n(604784),c=n(785893);let u=(0,s.lazy)(()=>Promise.all([n.e("25418"),n.e("20983"),n.e("31359"),n.e("83181")]).then(n.bind(n,252062))),d=void 0!==i?i:i=n(813288);function _({graphqlRef:e,children:t,onSendButtonClick:n}){let i=(0,o.useFragment)(d,e)??null,[_,p]=(0,s.useState)(null),[h,f]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),{pathname:b}=(0,r.TH)(),y=!!_,v=(0,s.useMemo)(()=>({modal:{isShown:y},showUnauthContextMenu:({location:e,pinId:t,vaseSection:n})=>{p({vaseSection:n}),f(t),g(e)},dismissMobileUnauthContextMenu:()=>p(null)}),[y]);return(0,s.useEffect)(()=>{p(null)},[b]),(0,c.jsxs)(l.M,{value:v,children:[t,_&&(0,c.jsx)(a.Z,{children:(0,c.jsx)(u,{graphqlRef:i,location:m||"default",onDismiss:v.dismissMobileUnauthContextMenu,onSendButtonClick:n,pinId:h,vaseSection:_.vaseSection})})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98543-6d5317bb691d1fbd.mjs.map
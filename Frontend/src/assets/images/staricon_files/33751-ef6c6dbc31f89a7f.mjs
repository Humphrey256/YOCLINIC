"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["33751"],{611662:function(e,t,i){i.d(t,{$:function(){return h},r:function(){return _}});var n=i(667294),o=i(486188),s=i(861025),r=i(176970),a=i(561162),l=i(3879),c=i(820368),d=i(785893);let{Provider:u,useHook:h}=(0,o.Z)("PinRep");function _({children:e}){let{isAuthenticated:t}=(0,l.B)(),{checkExperiment:i}=(0,a.F)(),{experience:o}=(0,r.Z)(1000069),[h,_]=(0,n.useState)(!0),[p,m]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),[b,g]=(0,n.useState)(null),[x,y]=(0,n.useState)(null),P=(0,s.Z)(1000069),{anyEnabled:A}=i("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),w=(0,c.Z)(t&&A?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,n.useEffect)(()=>{if(!t){_(!1);return}o&&(!o||o?.experience_id===500417&&o?.display_data.hide_footer)?P.viewExperience(1000069,500417):_(!1),m(!0)},[o]);let M=(0,n.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:f,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:h,quickSaveBoardId:w,setHasMetSaveRequirementOnUseCaseFeed:v,setUseCaseFeedOriginalPinId:y,setUseCaseFeedRepinId:g,useCaseFeedOriginalPinId:x,useCaseFeedRepinId:b}),[f,p,h,w,v,y,g,x,b]);return(0,d.jsx)(u,{value:M,children:e})}},777679:function(e,t,i){i.d(t,{Z:function(){return o}});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function o({window:e,duration:t,run:i}){let o=n(),s=0,r=null,a=()=>{let l=n()-o,c=l-s;if(t===1/0)i(0,l,c);else{let e=l/t;if(e>=1){i(1,l,c);return}i(e,l,c)}s=l,r=e.requestAnimationFrame(a)};return{start:()=>{r=e.requestAnimationFrame(a)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},551242:function(e,t,i){i.d(t,{Z:function(){return u}});var n=i(667294),o=i(883119),s=i(777679),r=i(640901),a=i(391374),l=i(785893);function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{visible:!1}),c(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),c(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,s.Z)({window,duration:1/0,run:(e,i,n)=>{window.scrollTo(0,window.scrollY+(i<500?.8:1.2000000000000002)*t*n)}}),this.scrollAnimationManager.start()}}),c(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:i}=this.state;return(0,l.jsx)(o.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:i?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){let t=e?0:a.hu;return(0,l.jsx)(r.Z,{children:(0,l.jsx)(o.mh,{children:(0,l.jsxs)(o.xu,{children:[(0,l.jsx)(d,{height:120+t,placement:"top"}),(0,l.jsx)(d,{height:120,placement:"bottom"})]})})})}},33370:function(e,t,i){function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:i}){return Math.abs(e)<(i?.5*t:0)/2?"center":e<0?"left":"right"}function s({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:i}){if("center"===t||e===i)return e;let n="left"===t;return e<i===n?e:n?e-1:e+1}i.d(t,{Lz:function(){return n},TI:function(){return o},X3:function(){return s}})},861025:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(667294),o=i(462972),s=i(674817),r=i(3879);function a(e){let{mountedPlacements:t,completeExperience:i,dismissExperience:a,experiences:l,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:h,viewExperience:_}=(0,s.Z)(),{isBot:p}=(0,r.B)(),m=e&&!p?(0,o.MQ)(l,t,e):null;return(0,n.useMemo)(()=>({completeExperience:i,dismissExperience:a,experienceForPlacement:m,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:h,viewExperience:_}),[i,a,m,c,d,u,h,_])}},176970:function(e,t,i){i.d(t,{Z:function(){return h}});var n=i(667294),o=i(581722),s=i(442279),r=i(674817),a=i(3879),l=i(320288);let c=(0,s.createSelector)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),d=(e,t,i={})=>(0,l.nP)(`${e}.${t}`,{sampleRate:1,tags:i}),u=(e,t)=>"function"==typeof t?t(e):t,h=(e,t={},i=!1)=>{let[s,l]=(0,n.useReducer)(u,t),{isBot:h}=(0,a.B)(),{fetchExperienceForPlacements:_,mountPlacement:p,triggerExperimentsForPlacement:m,unmountPlacement:f}=(0,r.Z)();(0,n.useDebugValue)(`Placement Hook ID - ${e}`),(0,n.useEffect)(()=>{let t={...s},n=i&&t?.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return p(e,t,n),()=>{f(e)}},[]),(0,n.useEffect)(()=>{Object.keys(s).length>0&&_([e],h,s)},[s]);let v=(0,o.v9)(t=>c(t,e)),b=(0,o.v9)(t=>t.experiencesMulti[e]),g=v?v.triggerable_placed_exps:[];return(0,n.useEffect)(()=>{d("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,...g}),m(e,s)},[JSON.stringify(g)]),{experience:v,experiencesMulti:b,setExtraContext:l}}},108293:function(e,t,i){i.d(t,{Z:function(){return _}});var n=i(667294),o=i(581722),s=i(103650),r=i(798953),a=i(462972),l=i(674817),c=i(3879),d=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},_=(e,t={},i)=>_=>{let p=function(e,t,i=!0,h=!1,_){class p extends n.Component{constructor(e){super(e),u(this,"state",{extraContext:void 0}),u(this,"setExtraContextState",e=>{(0,s.ZP)(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(i,n){let{dispatch:o,experience:a,requestContext:l}=this.props,c=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(c=t(i,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!(0,s.ZP)(c,d)&&o((0,r.pz)([e],l.isBot,d)),a&&(!i.experience||a.id!==i.experience.id)&&o((0,r.kd)(e,d))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){let i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},n=h&&i?.advertiser_id?{advertiserId:i.advertiser_id}:void 0;this.props.mountPlacement(e,i,n)}render(){let{experience:e,experiencesMulti:t}=this.props,i={[h?"advertiserExperience":"experience"]:(0,a.E3)(e)?e:null};return(0,d.jsx)(_,{...this.props,setPlacementExtraContext:this.setExtraContextState,...i,experiencesMulti:t})}}function m(e){let t=(0,c.B)(),i=(0,o.I0)(),{mountPlacement:n,unmountPlacement:s}=(0,l.Z)();return(0,d.jsx)(p,{...e,dispatch:i,mountPlacement:n,requestContext:t,unmountPlacement:s})}return m.displayName=`withPlacement(${_.displayName||_.name||"Component"})`,m}(e,t,(i={...h,...i}).dispatchMountActionDuringSSR,i.isAdvertiserPlacement,_),m=t=>{let i=(0,o.v9)(t=>t.experiences[e]),n=(0,o.v9)(t=>t.experiencesMulti?t.experiencesMulti[e]:void 0);return(0,d.jsx)(p,{...t,experience:i,experiencesMulti:n})};return m.displayName=p.displayName,m}},220809:function(e,t,i){i.d(t,{Z:function(){return n}});function n(e,t,i){let n=[...e],o=n.splice(t,1)[0];return n.splice(i,0,o),n}},673695:function(e,t,i){i.d(t,{Z:function(){return n}});let n=i(789234).Z},419739:function(e,t,i){i.d(t,{a:()=>h,S:()=>d});var n=i("667294"),o=i("486188"),s=i("193733");let r={boardMap:{}};function a(e=r,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:i,blockingActions:n}}=t,o=null,s=null,r={};return n.forEach(({section_id:e,progress:t,id:i,created_timestamp:n})=>{let a={id:i,createdAt:n,progress:t};e?"-1"===e?o=a:r[e]=a:s=a}),{...e,boardMap:{...e.boardMap,[i]:{wholeBoard:o,unorganized:s,sectionMap:r}}}}return e}var l=i("785893");let{Provider:c,useMaybeHook:d}=(0,o.Z)("BlockingAction");async function u(e){let t=await (0,s.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,i)=>{let n=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!n){i(Error("No blocking actions found in the response"));return}e(n)})}function h({children:e}){let[t,i]=(0,n.useReducer)(a,r),o=(0,n.useCallback)(e=>u(e).then(t=>(i({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),s=(0,n.useMemo)(()=>({blockingActions:t,fetchBlockingActions:o}),[t,o]);return(0,l.jsx)(c,{value:s,children:e})}},503510:function(e,t,i){i.d(t,{Z:()=>b});var n=i("465683"),o=i("419739"),s=i("667294"),r=i("883119"),a=i("249043"),l=i("708130"),c=i("55077"),d=i("785893");function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends s.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,a.Vg)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:i}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(i)return n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(i)return n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(i)return n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:i}=this.props,{visible:n,hiding:o}=this.state,{firstLine:s}=this,{marginTop:l,opacity:c,position:u,pointerEvents:h,transform:_,transition:p,visibility:m}=(0,a.UZ)({deviceType:t,hiding:o,visible:n});if(!s)return null;let f="inProgress"===e?`${i.name}...`:i.name;return(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:_,transition:p,visibility:m,pointerEvents:h}},marginTop:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:c,position:u,children:(0,d.jsx)(r.FN,{text:`${s}: ${f}`,type:"completed"===e?"default":"progress"})})}}function _(e){let t=(0,c.ZP)(),i=(0,l.ZP)();return(0,d.jsx)(h,{...e,deviceType:t,i18n:i})}let p=["merge","move_pins","create_section"],m=0,f={},v=(e,t,i,n)=>({hideToast:o})=>(0,d.jsx)(_,{actionStatus:e,actionType:t,duration:2e3,location:{name:n?n.title??"":i.name??"",isSection:!!n},onHide:o});function b(){let{showToast:e}=(0,n.F9)(),{fetchBlockingActions:t}=(0,o.S)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:i,board:n,section:o})=>{e(v("inProgress",i,n,o)),function({check:e,checkDelay:t,checkInterval:i,onComplete:n}){let o=`timeout${m}`;m+=1;let s=()=>{let t=Date.now();e().then(e=>{let r=Date.now()-t;e?(n(),delete f[o]):f[o]=setTimeout(s,Math.max(1e3,i-r))}).catch(()=>{delete f[o]})};f[o]=setTimeout(s,t)}({check:()=>t(n.id).then(e=>!function({blockingActions:e,actionType:t,boardId:i,sectionId:n}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(p.includes(e.action_type)&&e.is_origin)&&e.board_id===i&&(n?n===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:i,boardId:n.id,sectionId:o&&o.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(v("completed",i,n,o))})}}}},670305:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(854166);function o(e,t,i){return(0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33751-ef6c6dbc31f89a7f.mjs.map
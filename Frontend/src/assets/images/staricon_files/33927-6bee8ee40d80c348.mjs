"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["33927"],{597599:function(e,t,n){var a;n.r(t),n.d(t,{default:function(){return i}});let r={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",selections:a=[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",selections:a},params:{cacheID:"9d9a0b4361770e7457fb22c606b3e5f1",id:null,metadata:{},name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",operationKind:"query",text:null}};r.hash="de96be885f09f9032378528575433b38";let i=r;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(r.default||r)},657980:function(e,t,n){n.d(t,{Z:function(){return a}});function a(e,t){throw Error(t??`Unexpected value: ${JSON.stringify(e)}`)}},349065:function(e,t,n){n.d(t,{Z:()=>M,G:()=>V});var a=n("441143"),r=n.n(a),i=n("244311");let l={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},o=/(\d\d0P)(\d\d0K)/,u=/QVBR(8|10)/,c=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,s=/^v/,d=e=>l[e]??e.replace(c,"_$1").replace(o,"$1_$2").replace(u,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(s,"V"),f=/[A-Z]/g,p=e=>e.replace(f,e=>`_${e.toLowerCase()}`),g=/^_/,y=e=>e.replace(g,""),m=e=>y(p(e)),h=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],S=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],L=(e,t)=>{if(S.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return r()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return m(e)}},_=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,k=(e,t,n)=>{if(_(n)){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===n&&"image"===e)return"images";if("VideoDetail"===t)return d(e);if(h.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";case"formattedCloseupDescription":return"formatted_description";case"annotationsWithLinksArray":return"annotations_with_links";default:return m(e)}},E=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},I=(e,t,n)=>"Video"===t&&"duration"===e?n?.duration!=null?n.duration:Object.values(n?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t:E(e,n?.[L(e,n)]),C=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(r()("object"==typeof e,"legacy data must be an object"),t){case"AnnotationsWithLinks":return Object.entries(e).map(([e,t])=>({name:t.name,url:t.url}));case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},A=({args:e,name:t})=>{let n=e.find(e=>e.name===t);return n&&"string"==typeof n.value?n.value:null},b=(e,t,n)=>{let{args:a,name:i,plural:l}=n;if("PinTagChipImagesPerSpec"===t&&"image"===i)return e?.images?.["750x"];let o=e?.[k(i,n.concreteType,t)];if(!o)return o;let u=A({args:a??[],name:"spec"});if(u){if(r()("object"==typeof o,"value must be an object"),_(t)){let{dominant_color:e,images:t}=o;if(!t)return t;r()("object"==typeof t,"images must be an object");let n=t["orig"===u?"originals":u];return n&&e?{...n,dominant_color:e}:n}return l&&Array.isArray(o)?o.map(e=>e[u]).filter(e=>null!=e):o[u]}return o},P={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent",RichPinProductMetadata:"RichProductMetadata"},R=(e,t)=>(P[e]??e).toLowerCase()===t,O={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},D=/_/g,T=e=>"string"==typeof e.type?e.type.replace(D,"").toLowerCase():"number"==typeof e.block_type?O[e.block_type].toLowerCase():void 0;var w=n("28709"),H=n("855018"),B=n("915935"),v=n("673345"),F=n("320288");let V=Symbol("inlineFragmentSpread"),N=({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:i,legacyData:l,paginationInfo:o,refetchInfo:u})=>{i.forEach(i=>{switch(i.kind){case"ScalarField":{let{alias:e,name:t}=i;n[e??t]=I(t,a,l);break}case"LinkedField":{let{alias:c,name:s,concreteType:d,plural:f,selections:p}=i,g=c??s,y=b(l,a,i);if(null==y){n[g]=y;return}if(f){let a=C({untypedInput:y,concreteType:d}),i=n[g];r()(!i||Array.isArray(i),"plural data must be an array"),n[g]=a?.filter(Boolean).map((n,a)=>{let r=i?.[a]??{};return N({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:d,selections:p,legacyData:n,refetchInfo:u,paginationInfo:o}),r})}else{r()("object"==typeof y,`Value for ${s} must be an object${d?` with type ${d}`:""}, but a ${typeof y} is given`);let a=n[g]??{};n[g]=a,N({conditionContext:e,fragmentName:t,mutableOutput:a,parentType:d,selections:p,legacyData:y,refetchInfo:u,paginationInfo:o})}break}case"InlineFragment":{let{abstractKey:a,type:c,selections:s}=i;if(r()(null!=c&&null===a,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==l)break;let d=T(l);null!=d&&R(c,d)&&N({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:c,selections:s,legacyData:l,paginationInfo:o,refetchInfo:u});break}case"Condition":{let{condition:r,selections:c}=i,s=!0;"isAuth"===r?s=e.isAuth===i.passingValue:"isDesktop"===r&&(s=e.isDesktop===i.passingValue),s&&N({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:c,legacyData:l,paginationInfo:o,refetchInfo:u});break}case"FragmentSpread":(0,H.I9)(n,{kind:"LegacyData",singularLegacyData:l,refetchInfo:u,paginationInfo:o});break;case"ClientExtension":N({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:a,selections:i.selections,legacyData:l,paginationInfo:o,refetchInfo:u});break;case"InlineDataFragmentSpread":{let t={},{selections:r,name:c}=i;N({conditionContext:e,fragmentName:c,mutableOutput:t,parentType:a,selections:r,legacyData:l,paginationInfo:o,refetchInfo:u}),n[V]||(n[V]={}),n[V][c]=t;break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${i.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${i.kind}'`)}})},U=new Set;function M({conditionContext:e,fragment:t,legacyData:n,paginationInfo:a,refetchInfo:l,stableReferencesExperimentStatus:o}){let u;let c=(0,i.getFragment)(t);try{u=function({conditionContext:e,fragment:t,legacyData:n,paginationInfo:a,refetchInfo:i}){if(null==t.abstractKey){let e=null!=n?T(n):null;null!=e&&r()(R(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let l={};return N({conditionContext:e,fragmentName:t.name,mutableOutput:l,parentType:t.type,selections:t.selections,legacyData:n,paginationInfo:a,refetchInfo:i}),l}({conditionContext:e,fragment:c,legacyData:n,paginationInfo:a,refetchInfo:l})}catch(t){throw U.has(c.name)||(U.add(c.name),(0,F.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:c.name,rootId:n.id,rootType:n.type,url:window.location.href,isAuth:e.isAuth}})),t}let s=n.id;if(!o?.shouldCalculateStableReferences||!s)return u;let[d,f]=(0,B.lg)(()=>{let e=(0,v._0)(c,n.id);return(0,w.Z)({cacheKey:e,data:u})});return((0,F.LY)("autoLegacyAdapter.stableReferences.duration",f,{sampleRate:.1,tags:{fragmentName:c.name}}),o?.shouldUseStableReferences)?d:u}},789917:function(e,t,n){n.d(t,{Z:function(){return function e(t,n,l=null){let o={};return!function t(n,l,o,u){let c=function(e,t=null){let[n,a]=e.reduce((e,t)=>("InlineFragment"===t.kind?e[0].push(t):e[1].push(t),e),[[],[]]);if(1===n.length){let[e,r]=i(a);if(0===r.length){let[a,r]=i(n[0].selections),l=[...e,...a];return 0===l.length?{kind:"Uncategorized"}:{kind:"InlineFragmentWithTypename",typenameAliases:l,selections:r,concreteType:n[0].type,remainingPathCount:t}}}else if(1===e.length&&"LinkedField"===e[0].kind){let n=e[0],a=n.concreteType??null;if(n.plural&&1!==t)return{kind:"Uncategorized"};if(null==a)return{kind:"OnlyLinkedFieldAndTypename",selections:n.selections,name:n.name,concreteTypeAndAliases:null,remainingPathCount:null==t?null:t-1};let[r,l]=i(n.selections);if(1===t){let e=n.alias??n.name,{pageInfoSelection:t,edgeSelection:a}=function(e){if(0===e.length||e.length>2||e.some(e=>"LinkedField"!==e.kind))throw Error("Unexpected selections");let t=e.reduce((e,t)=>{if("pageInfo"===t.name){if(null!==e.pageInfoSelection)throw Error("Expected only one pageInfo selection");e.pageInfoSelection=t}else{if(null!==e.edgeSelection)throw Error("Expected only one edge selection");e.edgeSelection=t}return e},{pageInfoSelection:null,edgeSelection:null});if(t.edgeSelection&&!t.edgeSelection.selections.find(e=>"node"===e.name))throw Error("Expected to find a node field inside of edges");return{pageInfoSelection:t.pageInfoSelection,edgeSelection:t.edgeSelection}}(l);if(null===a)throw Error("No edges found in connection field");let i=a.alias??a.name,{concreteType:o}=n;if(null==o&&r.length>0)throw Error("No concrete type found in connection field, so we cannot have __typename");let u=null!=o?{concreteType:o,typenameAliases:r}:null;return{kind:"ConnectionFieldAndTypename",selections:a.selections.filter(e=>!("ScalarField"===e.kind&&"cursor"===e.name)),pageInfoSelection:t,nameOrAliasOfEdgesField:i,nameOrAliasOfConnectionField:e,concreteTypeAndAliases:u}}return{kind:"OnlyLinkedFieldAndTypename",selections:l,name:n.name,concreteTypeAndAliases:{concreteType:a,typenameAliases:r},remainingPathCount:null==t?null:t-1}}else if(e.length>0&&e.every(e=>"FragmentSpread"===e.kind))return{kind:"OnlyFragmentSpread"};return{kind:"Uncategorized"}}(n,u);switch(c.kind){case"InlineFragmentWithTypename":{let{concreteType:e,typenameAliases:n,selections:a,remainingPathCount:r}=c;n.forEach(t=>l[t]=e),t(a,l,o,r);break}case"OnlyFragmentSpread":(0,r.I9)(l,o);break;case"OnlyLinkedFieldAndTypename":{let{name:e,selections:n,concreteTypeAndAliases:a,remainingPathCount:r}=c,i={};if(l[e]=i,a&&a.typenameAliases.length>0){let{concreteType:e,typenameAliases:t}=a;for(let n of t)i[n]=e}t(n,i,o,r);break}case"ConnectionFieldAndTypename":{let{nameOrAliasOfEdgesField:t,nameOrAliasOfConnectionField:n,pageInfoSelection:a,selections:r,concreteTypeAndAliases:i}=c;if("PaginationLegacyData"!==o.kind)throw Error("Error, expected a PaginationLegacyData kind for this query");let u={[t]:o.paginationLegacyData.map(t=>e(r,{kind:"LegacyData",refetchInfo:o.refetchInfo,paginationInfo:o.paginationInfo,singularLegacyData:t}))};if(a&&o.paginationInfo&&(u[a.alias??a.name]=null),null!=i){let{concreteType:e,typenameAliases:t}=i;for(let n of t)u[n]=e}l[n]=u;break}case"Uncategorized":throw Error("The query passed to useLazyLoadQueryOrLegacy contained unsupported/uncategorized elements. Please simplify the query.");default:(0,a.Z)(c,"Unexpected category")}}(t,o,n,l),o}}});var a=n(657980),r=n(855018);function i(e){return e.reduce((e,t)=>("ScalarField"===t.kind&&"__typename"===t.name?e[0].push(t.alias??t.name):e[1].push(t),e),[[],[]])}},596040:function(e,t,n){n.d(t,{gP:function(){return r},jc:function(){return l},oy:function(){return i}});var a=n(855018);function r(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let n=(0,a.G5)(t);if(null!=n)return{kind:"PluralLegacy",data:e.map(e=>(e=>{let t=(0,a.Be)(e);if("LegacyData"===t.kind)return t.singularLegacyData;throw Error("Unexpected plural object")})(e)),paginationInfo:n.paginationInfo,refetchInfo:n.refetchInfo};throw Error("Expected either __fragments or [legacyDataSymbol]")}let t=(0,a.G5)(e);if(null!=t&&"LegacyData"===t.kind){let{singularLegacyData:e,refetchInfo:n,paginationInfo:a}=t;return{kind:"SingularLegacy",data:e,refetchInfo:n,paginationInfo:a}}if(e.__fragments)return{kind:"GraphQL",data:e};if("graphqlRef"===e.type)return{kind:"GraphQL",data:e.data};if("deprecated"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}if(null!=t&&"PaginationLegacyData"===t.kind){let{paginationLegacyData:e,refetchInfo:n,paginationInfo:a}=t;return{kind:"PaginationLegacyData",paginationLegacyData:e,refetchInfo:n,paginationInfo:a}}throw Error("Invalid value")}function i(e){return r(e).kind}function l(e){let t=(0,a.G5)(e);return null!=t&&"LegacyData"===t.kind&&null!=t.singularLegacyData?{type:"deprecated",data:t.singularLegacyData}:e.__fragments?{type:"graphqlRef",data:e}:e}},28709:function(e,t,n){n.d(t,{Z:()=>u});var a=n("855018");let r="undefined"!=typeof WeakSet,i="undefined"!=typeof WeakMap,l=function e(t,n){if(t===n||"object"!=typeof t||t instanceof Set||t instanceof Map||r&&t instanceof WeakSet||i&&t instanceof WeakMap||!t||"object"!=typeof n||n instanceof Set||n instanceof Map||r&&n instanceof WeakSet||i&&n instanceof WeakMap||!n)return n;let l=!1,o=Array.isArray(t)?t:null,u=Array.isArray(n)?n:null;if(o&&u)l=u.reduce((t,n,a)=>{let r=e(o[a],n);return r!==u[a]&&(u[a]=r),t&&r===o[a]},!0)&&o.length===u.length;else if(!o&&!u){let r=(0,a.G5)(n);if(r&&(0,a.I9)(t,r),t===n)l=!0;else{let a=Object.keys(t),r=Object.keys(n);l=r.reduce((a,r)=>{let i=e(t[r],n[r]);return i!==n[r]&&(n[r]=i),a&&i===t[r]},!0)&&a.length===r.length}}return l?t:n};var o=n("673345");function u({cacheKey:e,data:t}){let n=(0,o.aL)(e),a=t;if(null!=n){let r=l(n.data,t);r!==n.data&&(0,o.ax)(e,{count:n.count,data:r}),a=r}else(0,o.ax)(e,{count:0,data:t});return(0,o.U5)(e),setTimeout(()=>(0,o.H8)(e),3e4),a}},855018:function(e,t,n){n.d(t,{Be:function(){return i},G5:function(){return r},I9:function(){return l}});let a=Symbol("legacyData");function r(e){return e[a]}function i(e){return e[a]}function l(e,t){return e[a]=t,e}},915935:function(e,t,n){n.d(t,{HF:()=>C,sr:()=>A,O7:()=>S,V4:()=>I,tx:()=>b,lg:()=>_,Zm:()=>h});var a=n("581722"),r=n("349065");function i(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function l(e,t,n){return"Manual"===t?{path:e,message:`Value found only in legacy adapter, where it had type ${i(n)}. (Or it was null in the auto-legacy adapter.)`,kind:"MissingInLegacy"}:{path:e,message:`Value found only in auto-legacy adapter, where it had type ${i(n)}. (Or it was null in the legacy adapter.)`,kind:"MissingInAutoLegacy"}}function o(e,t,n){let a=i(t),r=i(n);return{path:e,message:`Found item of type ${a} in the legacy adapter result, and an item of type ${r} in the auto-legacy result.`,kind:"Type"}}var u=n("855018"),c=n("885777"),s=n("561162"),d=n("3879"),f=n("55077"),p=n("757892"),g=n("320288");let y={},m=new Set;function h(e,t,{useGraphQLAdapter:n,useLegacyAdapter:a,renderStrategy__DO_NOT_USE:r}){if("deprecated"===t.type)return{data:a(t.data),childDataKey__DEPRECATED:t};let i=(0,c.h)(e,t.data,r??null);return{data:n(i),childDataKey__DEPRECATED:{type:"graphqlRef",data:i}}}let S=()=>{let{isAuthenticated:e}=(0,d.B)();return{isAuth:!!e,isDesktop:(0,f.HG)()}};function L(){return"undefined"!=typeof performance?performance.now():Date.now()}function _(e){let t=L();return[e(),L()-t]}let k=new Map;function E(e,t,n,a){let r=k.get(a);if(r){if(!r.has(t)){let[a,i]=_(e);return r.add(t),(0,g.LY)(t,i,{sampleRate:n.isParallel?1:.1,tags:n}),a}}else{let[r,i]=_(e);return k.set(a,new Set([t])),(0,g.LY)(t,i,{sampleRate:n.isParallel?1:.1,tags:n}),r}return e()}function I(e,t){let{checkExperiment:n}=(0,s.F)(),{isAuthenticated:a}=(0,d.B)(),{group:c,anyEnabled:f}=n(a?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),p=S();return c.includes("parallel")?n=>{let a=E(()=>(0,u.I9)(t(n),{kind:"LegacyData",singularLegacyData:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{isParallel:!0,fragmentName:e.name},e.name);return"object"==typeof window&&function(e,t,n,a){let u;try{u=E(()=>(0,r.Z)({conditionContext:t,fragment:e,legacyData:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!0},e.name)}catch{return}try{var c;let t=(c=u,function e(t,n,a){let r=[],u=Object.keys(n),c=Object.keys(a);for(let c of u){let u=n[c],s=a[c];r.push(...function t(n,a,r){return null!=a&&null==r?[l(n,"Manual",a)]:a===r||null==a&&null==r?[]:Array.isArray(a)?Array.isArray(r)?function(e,n,a){if(n.length!==a.length)return[{path:e,message:`legacyResult is an array of length ${n.length}; autoLegacyResult is an array of length ${a.length}`,kind:"Length"}];let r=[];for(let i=0;i<n.length;i+=1){let l=n[i],o=a[i];r.push(...t(`${e}[]`,l,o))}return r}(n,a,r):[o(n,a,r)]:"object"==typeof a?"object"==typeof r&&null!==r&&null!==a?e(n,a,r):[o(n,a,r)]:[typeof a!=typeof r?o(n,a,r):{path:n,message:`Found items of type ${i(a)}, but their values did not match.`,kind:"Value"}]}(`${t}.${c}`,u,s))}for(let e of c){let i=n[e],o=a[e];null!=o&&null==i&&r.push(l(`${t}.${e}`,"Auto",o))}return r}("",a,c));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),y[e.name]=y[e.name]??new Set;let n=y[e.name];for(let a of t)n.has(a.path)||(n.add(a.path),(0,g.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:a.path,kind:a.kind}}))}}catch(t){m.has(e.name)||(m.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,g.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,p,n,a),a}:f?t=>E(()=>(0,r.Z)({conditionContext:p,fragment:e,legacyData:t,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!1},e.name):n=>E(()=>(0,u.I9)(t(n),{kind:"LegacyData",singularLegacyData:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{fragmentName:e.name,isParallel:!1},e.name)}function C(e,t,n){let r;switch(n.type){case"article":r=e=>{let t=(0,a.v9)(({articles:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;case"story":r=e=>{let t=(0,a.v9)(({stories:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;default:r=e=>{let t=(0,p.S6)()(e);return t?n.useLegacyAdapter(t):null}}return h(e,t,{useGraphQLAdapter:n.useGraphQLAdapter,useLegacyAdapter:r,renderStrategy__DO_NOT_USE:n.renderStrategy__DO_NOT_USE??null})}function A(e,t,n){let a=I(e,n.useLegacyAdapter);return C(e,t,{...n,useGraphQLAdapter:e=>e,useLegacyAdapter:a})}let b={" $fragmentSpreads":void 0," $fragmentType":void 0}},673345:function(e,t,n){n.d(t,{H8:function(){return c},Ly:function(){return o},U5:function(){return u},_0:function(){return f},aL:function(){return s},ax:function(){return d},w3:function(){return p}});var a=n(561162),r=n(3879),i=n(320288);let l=new Map;function o(e){let t=(0,a.F)(),{isAuthenticated:n}=(0,r.B)();if(!e)return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1};switch(t.checkExperiment(n?"auth_web_gql_ala_cache":"unauth_web_gql_ala_cache").group){case"control":default:return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1};case"enabled":return{shouldCalculateStableReferences:!0,shouldUseStableReferences:!0};case"enabled_only_calculation":return{shouldCalculateStableReferences:!0,shouldUseStableReferences:!1}}}function u(e){let t=l.get(e);t&&l.set(e,{count:t.count+1,data:t.data})}function c(e){let t=l.get(e);if(!t){let t=e.split("/")[0];throw(0,i.nP)("autoLegacyAdapter.stableReferences.cacheItemMissing",{sampleRate:1,tags:{fragmentName:t}}),Error(`Item with key ${e} not found in cache`)}if(1===t.count){l.delete(e);return}l.set(e,{count:t.count-1,data:t.data})}function s(e){return l.get(e)}function d(e,t){l.set(e,t)}function f(e,t){return`${e.name}/${t}`}function p(e,t,n){return t?{key:f(e,t),data:n}:null}},131548:function(e,t,n){n.d(t,{Z:()=>y});var a=n("422578"),r=n("657980"),i=n("244311"),l=n("596040"),o=n("667294"),u=n("349065"),c=n("789917"),s=n("28709"),d=n("915935"),f=n("673345"),p=n("320288");let g=function(e,t,n,a){let r=(0,f.Ly)(n),l=(0,d.O7)(),g=(0,o.useMemo)(()=>{if(t?.kind==="SingularLegacy"&&a(t)){let{data:n,refetchInfo:a,paginationInfo:i}=t,o=(0,u.Z)({conditionContext:l,fragment:e,legacyData:n,paginationInfo:i,refetchInfo:a,stableReferencesExperimentStatus:r});return{itemsToRetain:[{legacyData:n,graphQLShapedData:o}],autoLegacyAdapterData:[o]}}if(t?.kind==="PluralLegacy"){let{data:n,refetchInfo:a,paginationInfo:i}=t,o=[],c=[];return n.forEach(t=>{let s=(0,u.Z)({conditionContext:l,fragment:e,legacyData:t,paginationInfo:i,refetchInfo:a,stableReferencesExperimentStatus:r});o?.push(s),c?.push({legacyData:n,graphQLShapedData:s})}),{itemsToRetain:c,autoLegacyAdapterData:o}}if(t?.kind==="PaginationLegacyData"){let n=e?.metadata?.connection?.[0]?.path?.length??null,a=(0,c.Z)(e.selections,t,n),r=a;if("Query"===e.type){let t=(0,f._0)(e,i.ROOT_ID);r=(0,s.Z)({cacheKey:t,data:a})}return{itemsToRetain:[{graphQLShapedData:r,legacyData:{id:"Query"===e.type?i.ROOT_ID:null}}],autoLegacyAdapterData:[a]}}return null},[t?.kind==="PaginationLegacyData"?t.paginationLegacyData:t?.data]);return!function({items:e,shouldCalculateStableReferences:t}){(0,o.useEffect)(()=>{if(e&&t)return e.forEach(e=>{let{key:t,data:n}=e;if(!(0,f.aL)(t)){let e=t.split("/")[0];(0,p.nP)("autoLegacyAdapter.stableReferences.useRetainWhileMounted.cacheItemMissing",{sampleRate:1,tags:{fragmentName:e}}),(0,f.ax)(t,{count:0,data:n})}(0,f.U5)(t)}),()=>{e.forEach(({key:e})=>(0,f.H8)(e))}},[e?.map(({key:e})=>e).join(","),t])}({items:g?.itemsToRetain?.map(t=>{let{legacyData:n,graphQLShapedData:a}=t,r=n&&"id"in n&&"string"==typeof n.id?n.id:null;return f.w3(e,"Query"===e.type?i.ROOT_ID:r,a)}).filter(e=>null!=e),shouldCalculateStableReferences:r.shouldCalculateStableReferences}),g?.autoLegacyAdapterData},y=function(e,t){let n=function(e,t){let n=t?(0,l.gP)(t):null,a=n?.kind!=="GraphQL",r=(0,i.getFragment)(e),o=g(r,n,a,()=>!0);return null===t||null==n?null:{dataKey:n,isUsingALA:a,actualFragment:r,autoLegacyAdapterData:o}}(e,t);if(null==n)return null;let{dataKey:o,actualFragment:u,autoLegacyAdapterData:c}=n;switch(o.kind){case"SingularLegacy":return c?.[0];case"PluralLegacy":return c;case"GraphQL":return(0,a.useFragment)(e,o.data);case"PaginationLegacyData":if(Array.isArray(t))throw Error("Unexpected Plural fragment");if(u?.metadata?.connection!=null)throw Error("Unexpected fragment containing a @connection directive. You should read this fragment with usePaginationFragmentOrLegacy instead.");return c?.[0];default:return(0,r.Z)(o,"Unexpected case")}}},885777:function(e,t,n){n.d(t,{P:function(){return d},h:function(){return f}});var a,r=n(667294),i=n(422578),l=n(244311),o=n(596040),u=n(131548);function c(e,t,r){return r.lookup({kind:"SingularReaderSelector",dataID:t.__id,isWithinUnmatchedTypeRefinement:!1,node:(0,l.getFragment)(e),owner:{identifier:Math.random()+"",node:(0,l.getRequest)(void 0!==a?a:a=n(597599)),variables:t.__fragmentOwner.variables,cacheConfig:null},variables:t.__fragmentOwner.variables})}function s(e,t,n){switch(n??"SuspendOnMissingData"){case"SuspendOnMissingData":default:return(0,i.useFragment)(e,t);case"RenderWithMissingData":{let n=(0,i.useRelayEnvironment)();if(null==t)return null;return c(e,t,n).data}case"RenderWithMissingDataAndSubscribe":return function(e,t){let n=t?.__fragmentOwner.identifier,a=(0,i.useRelayEnvironment)(),[l,o]=(0,r.useState)(()=>({fragmentRefIdentifier:n,snapshot:null!=t?c(e,t,a):null}));return l.fragmentRefIdentifier!==n&&o({fragmentRefIdentifier:n,snapshot:null!=t?c(e,t,a):null}),(0,r.useEffect)(()=>{if(null!=l.snapshot){let e=a.subscribe(l.snapshot,e=>{o({fragmentRefIdentifier:n,snapshot:e})});return()=>e.dispose()}},[n]),l.snapshot?.data??null}(e,t)}}let d=function(e,t,n){if(null==t)return null;let a=(0,o.gP)(t);return"GraphQL"===a.kind?s(e,a.data,n):(0,u.Z)(e,t)},f=s}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33927-6bee8ee40d80c348.mjs.map
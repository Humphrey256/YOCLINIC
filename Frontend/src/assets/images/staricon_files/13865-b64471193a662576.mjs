"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["13865"],{803237:function(e,t,r){r.d(t,{Z:function(){return n},m:function(){return i}});var a=r(142616),o=r(187531);let i=["female","male","unknown"],n=e=>{let{interests:t,ages:r,genders:n,country:s}=e;return{AGE_BUCKET:r||[],APPTYPE:a.jz,GENDER:n||i,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((s||o.UF).split("+"))]}}},339896:function(e,t,r){r.d(t,{Z:function(){return i}});let a=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let r=this._uidToData[e];r||(r=new a(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let i=o},200853:function(e,t,r){r.d(t,{default:()=>n});var a=r("25348"),o=r("916225"),i=r("357950");function n(e,t,r){var n;let s;if(!a.Z[e])throw Error(`unknown url key: ${e}`);r||(r={});let l=a.Z[e](r),d=(s=null,(n=r)&&(s=n.advertiserId||null),!s&&t&&(s=t.id),s),c=!!r.absolutify;return"string"==typeof d&&(l="/advertiser/"+d+l),c&&(l=(0,i.Z)(l,void 0,o.KUo)),l}},897460:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(916225),o=r(980265);function i(e,t){let r="";if(e&&(r=e,t)){let i=(0,o.Z)(e,!0),n="/advertiser/",{hostname:s}=i;(null===s||s===a.KUo)&&(e.startsWith(a.auO)&&(e=e.replace(a.auO,"")),r=e.startsWith(n)?e:n+t+e)}return r}},114338:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(667294),o=r(777658);function i({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:r,resourceName:i,resourceOptions:n,value:s}){let l=(0,o.Z)({allowSearchOnMount:e,resourceName:i,resourceOptions:n,value:s});return(0,a.useEffect)(()=>{l?.length&&r(l)},[l]),t||null}},777658:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(667294),o=r(339896),i=r(476878);function n({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:r={},value:n}){let s=(0,a.useRef)(!1),l=(0,a.useRef)({}),[d,c]=(0,a.useState)([]),u=function({resourceName:e,resourceOptions:t}){let r=(0,i.vL)(),n=(0,a.useRef)();return n.current||(n.current=function({resourceCreator:e,resourceName:t,resourceOptions:r}){let a=e(t,{...r,count:"count"in r?r.count:5}),i=new o.Z,n=()=>{a.abort()},s=async(e,t)=>{if(a.isCalling()){let r=a.options?.term,o=a.options?.pin_scope;if(e===r&&t===o)return;n()}let{bookmarks:r,...o}=a.options||{};a.options={...o,term:e,pin_scope:t};let{data:s}=(await a.callGet({showError:!1})).resource_response,l=s?.items,d=s?.hint||{};return i.set(`${t}-${e}`,{hint:d,items:l}),{term:e,items:l,hint:d}};return async function(e,t){let r=i.get(`${t}-${e}`);if(r){let{items:t}=r;if(t&&t.length){n();let{hint:a}=r;return{hint:a,items:t,term:e}}}return e.length>=0?s(e,t):{hint:{},items:[],term:e}}}({resourceCreator:r,resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:r}),h=r.pin_scope||"pins",_=`${h}-${n}`;return(0,a.useEffect)(()=>{(async()=>{if(null!=n&&""!==n&&(e||s.current)){if(_ in l.current)c(l.current[_]);else try{let e=await u(n,h);if(e){let{items:t}=e;l.current[_]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}s.current||(s.current=!0)})()},[n,h,_]),d}},130374:function(e,t,r){r.d(t,{Z:()=>i});var a=r("55077"),o=r("554281");function i(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;default:return"phone"===e||"tablet"===e?1:0}}({deviceType:(0,a.ZP)(),site:(0,o.uo)()})}},560315:function(e,t,r){r.d(t,{Z:function(){return o}});let a=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>a.test(e)},881251:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(897460),o=r(916225);function i({advertiser:e,isAdsSite:t,isAnalyticsSite:r,isTrendsSite:i,baseUrl:n,adsUrl:s,isQuickPromote:l,isShoppingCatalogs:d}){if(t&&!e&&!l)return"/";let c=n;return(t||r||i)&&!d?(s||(s=n),e?(c=(0,a.Z)(s,e.id),t||(c=o.auO+c)):c=t?s:o.auO+c):d?c=o.auO+(0,a.Z)(n,e?e.id:""):s||(c=o.auO+n),c}},768461:function(e,t,r){r.d(t,{Z:function(){return c},l:function(){return d}});var a=r(667294),o=r(3879),i=r(130374),n=r(196355),s=r(460515),l=r(193052);let d=(0,a.createContext)(void 0),c=function(){let{advertiser:e}=(0,o.B)(),t=function(){let{isSterlingSite:e}=(0,l.O9)((0,i.Z)());return(0,a.useContext)(d)??e}(),r=(0,s.Z)(),c=(n.K()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&c||r}},315976:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(959474),o=r(460515),i=r(237861);let n=()=>{let e=(0,a.Z)(),t=(0,o.Z)();return(0,i.lJ)(e,t)}},193052:function(e,t,r){r.d(t,{es:()=>z,i5:()=>F,xV:()=>k,O9:()=>P,bq:()=>R,HH:()=>N,Ti:()=>T,cG:()=>E,Hw:()=>w,YA:()=>L,HC:()=>O,Y8:()=>Z,$n:()=>U,d5:()=>y,if:()=>M,xQ:()=>S,NH:()=>v,Mz:()=>x,Mj:()=>D,LZ:()=>I,uB:()=>f,re:()=>C,Xc:()=>A,Lu:()=>B});var a=r("702209"),o=r("803237"),i=r("187531");let n=({values:e,pin:t,productGroup:r,country:a})=>{let{name:n,destination_url:s,budget:l,duration:d,inclusive_end_date:c,is_ongoing:u,advertiser_id:h,ages:_,interests:b,genders:m,ad_type:g,selected_ocpm_tag:p,isAutoTargeting:f}=e,C=Math.round(l*i.Az),x=(0,o.Z)({ages:_,interests:b,genders:m,country:a}),v={};g===i.Hl.WEB_CONVERSION&&(v.objective_type=i.Hl.WEB_CONVERSION,v.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:p.conversionTagId,conversion_event:p.conversionEvent}});let A={budget_in_micro_currency:C,campaign_name:n&&n.length<64?n:`${(n||"").substr(0,62)}…`,destination_url:t?s:null,duration:parseInt(d,10),auto_targeting_enabled:f,is_ongoing:u,start_now:!0,targeting_spec:x,advertiser_id:h,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:r?r.id:null,...v,flexible_daily_budget_enabled:!1};return!u&&c&&c.trim().length>0&&(A.inclusive_end_date=c),A};var s=r("980570"),l=r("200853"),d=r("543123"),c=r("193733"),u=r("144767"),h=r("3915"),_=r("916225"),b=r("137123"),m=r("49441"),g=r("881251"),p=r("320288");let f=472,C=364,x={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},v={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},A={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},P=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),E=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:r=!1,isWwwSite:a=!1,loggingType:o}=e,i="";t?i=".analytics":a?i=".www":r&&(i=".ads"),(0,p.nP)(`sterling.quick_promote.page${i}.${o}`,{sampleRate:1})},S=e=>e?i.vX.indexOf(e):-1,y=e=>{if(null!=e&&!(e<0)&&!(e>i.vX.length-1))return i.vX[e]},j=e=>e===i.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===i.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},B=(e,t)=>{let{component:r,element:a}=j(y(e));t({event_type:101,component:r,element:a,aux_data:{page:"GestaltQuickPromote"}})},I=(e,t)=>{let r=y(e),{component:a}=j(r);r===i.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):r===i.Gl.SUCCESS_MODAL&&t({event_type:6358,component:a,aux_data:{page:"GestaltQuickPromote"}})},z=(e,t)=>{let r=[...new Set(e?.split("+"))];return t&&r.filter(e=>e in t)},w=(e,t)=>{if(!t||!e)return"";let r=`https://${_.KUo}`,a=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${r}/advertiser/${e}/billing/${a}`},D=(e,t)=>{if(!e)return"";let{ad_group_id:r=""}=e,a=(0,l.default)("adgroup",t,{id:r,showAllEntities:!0});return(0,g.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:a,adsUrl:null,isQuickPromote:!0})},T=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),O=async e=>{let{pin:t,productGroup:r,country:a,onSaveSuccess:o,onSaveFailed:i,quickPromoteFormValues:s,advertiserId:l}=e;if(!t&&r)return;let u=`/ads/v4/advertisers/${l}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,c.Z)({url:u,method:"POST",data:n({values:s,pin:t,productGroup:r,country:a})});e.data&&o(e.data)}catch(r){let e=(0,d.Z)(r,"httpStatus"),t=(0,d.Z)(r,"message_detail");i(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},k=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:r,hasBillingInfo:a,hasBusinessInfo:o,serverErrorArea:n,stepIndex:s,isQuickPromotePage:l=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=T({hasValidBillingProfile:t,hasBusinessAddress:r,hasBillingInfo:a,hasBusinessInfo:o}),u=[void 0,null].includes(s)?0:s+1;return y(s)!==i.hf||(n?u="modal"===n?S(i.Gl.ERROR_MODAL):s:d&&c?u=S(i.Gl.SUCCESS_MODAL):d?u=S(i.Gl.BILLING_FORM):l||(u=S(i.Gl.BUSINESS_FORM))),u>i.vX.length-1?void 0:u},R=e=>{let t=i.Pq.WIDE;return e<870?t=i.Pq.NARROW:e>=870&&e<=1275&&(t=i.Pq.MEDIUM),t},N=(e,t,r)=>{let{crossSite:o}=(0,b.mB)(e.search);if(a.Z()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1){window.close();return}window?[...Array(r.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>o?window.history.back():t.goBack()):t.goBack()},F=e=>{switch(e){case 4:return m.YD;case 3:return _.KUo;case 0:return m.Vi;default:return null}},Z=(e,t,r)=>{h.ZP.setItem(s.hM,{...h.ZP.getItem(s.hM),[`${t}.${e}`]:{pin:r.pin,dailyBudget:r.dailyBudget,destinationUrl:r.destinationUrl,duration:r.duration,locale:r.locale,name:r.name,interests:r.interests,ages:r.ages,genders:r.genders,adType:r.adType}})},M=(e,t)=>{if(!e||!t)return null;{let r=`${t}.${e}`,a=h.ZP.getItem(s.hM);if(null===a)return null;let o=a[r];return(0,u.Z)(o)?null:o}},L=(e,t)=>{if(e&&t){let r=`${t}.${e}`,a=h.ZP.getItem(s.hM);null!==a&&(delete a[r],0===Object.keys(a).length?h.ZP.removeItem(s.hM):h.ZP.setItem(s.hM,a))}};function U(e,t){let r=[...e],a=r.indexOf(t);return a>-1?r.splice(a,1):r.push(t),r}},544202:function(e,t,r){r.d(t,{Z:function(){return f}});var a=r(667294),o=r(581722),i=r(883119),n=r(555597),s=r(708130),l=r(561162),d=r(959474),c=r(768461),u=r(237861),h=r(533023),_=r(574361),b=r(694175),m=r(785893);function g(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends a.Component{constructor(...e){super(...e),g(this,"handleSubmit",e=>{let{advertiserId:t,boardCreateSource:r,createBoard:a,onBoardCreate:o,viewer:i,orbacActingAs:n,shouldShowAddCollaborators:s,handleInviteSelectedCollaborators:l}=this.props,d=(0,u.lJ)(i,n),{name:c,description:h,privacy:_,collab_board_email:b,collaborator_invites_enabled:m}=e;return a({boardCreateOptions:{name:c,description:h,privacy:_,collab_board_email:b,collaborator_invites_enabled:m,aux_data:{source:r},...t?{advertiser_id:t}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{s&&l(e.id),o(e)})}),g(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:t,onClose:r,privacy:a,useModalWithNoLayer:o,showSecretBoardCreateToggle:s,shouldShowAddCollaborators:l,setSelectedContacts:d,selectedContacts:c,orbacActingAs:_,viewer:b}=this.props,g=(0,u.lJ)(b,_);return(0,m.jsx)(h.Z,{board:{...this.emptyBoardData,privacy:t?a:n.ZP.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!g,onClose:r,onSubmit:this.handleSubmit,selectedContacts:c,setSelectedContacts:d,shouldShowAddCollaborators:l,showSecretBoardCreateToggle:s,submitText:this.props.i18n._('Create', ' - ', ' -- '),title:(0,m.jsx)(i.xu,{paddingY:8,width:"100%",children:(0,m.jsx)(i.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})}),useModalWithNoLayer:o})}}function f(e){let t=(0,b.Z)(),r=(0,s.ZP)(),i=(0,d.Z)(),n=(0,o.v9)(({advertiser:e})=>e?e.id:void 0),u=(0,c.Z)(),h=(0,o.v9)(({advertiser:e})=>!e||i.isAuth&&e.owner_user_id===i.id),g=(0,_.zC)(),f=(0,_.DK)(),{checkExperiment:C}=(0,l.F)(),x=e.isBoardCreateFromProfile&&C("sg_dweb_create_board_add_collaborators_profile").anyEnabled,[v,A]=(0,a.useState)([]);return(0,m.jsx)(p,{...e,advertiserId:n,createBoard:t,dispatch:(0,o.I0)(),handleInviteSelectedCollaborators:e=>{let t=v.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),r=v.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);r.length>0&&f(e,r.map(e=>e.id)),t.length>0&&g(e,t.map(e=>e.id))},i18n:r,isAdAccountOwner:h,orbacActingAs:u,selectedContacts:v,setSelectedContacts:A,shouldShowAddCollaborators:x,viewer:i})}g(p,"defaultProps",{privacy:n.ZP.BoardPrivacy.PUBLIC})},533023:function(e,t,r){r.d(t,{Z:()=>Y});var a=r("667294"),o=r("883119"),i=r("555597"),n=r("543123"),s=r("558919"),l=r("708130"),d=r("967629"),c=r("3879"),u=r("789234"),h=r("537225"),_=r("465683"),b=r("55077"),m=r("481457"),g=r("968518"),p=r("971634"),f=r("561162"),C=r("820368"),x=r("114338"),v=r("560315"),A=r("785893");function P({selectedContacts:e=[],setSelectedContacts:t}){let r=(0,l.ZP)(),{checkExperiment:i}=(0,f.F)(),{group:n}=i("sg_dweb_create_board_add_collaborators_profile"),{data:s}=(0,C.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[d,c]=(0,a.useState)([]);(0,a.useEffect)(()=>{s&&"enabled_default_suggestions"===n&&c(s.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[s,n]);let[u,h]=(0,a.useState)(""),_=e.map(e=>e.id),b=[...e,(0,v.Z)(u)&&!_.includes(u)?{id:u,type:"email"}:null,...d.filter(e=>!_.includes(e.id))].filter(Boolean),m=r=>{_.includes(r.id)?t?.((e||[]).filter(e=>e.id!==r.id)):t?.([...e,r])};return(0,A.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,A.jsx)(o.xu,{paddingY:2,children:(0,A.jsx)(o.xv,{size:"100",children:r._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,A.jsx)(o.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,A.jsx)(o.xu,{children:(0,A.jsx)(x.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:u,children:(0,A.jsx)(o.Um,{accessibilityLabel:r._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{h(e)},placeholder:r._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:u})})})}),(0,A.jsx)(o.xu,{overflow:"scrollY",children:b.map(e=>(0,A.jsxs)(o.xu,{display:"flex",paddingY:2,children:[(0,A.jsxs)(o.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,A.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,A.jsx)(o.JO,{accessibilityLabel:r._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,A.jsx)(o.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,A.jsx)(p.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,A.jsx)(o.kC,{alignItems:"center",children:(0,A.jsx)(o.xu,{children:(0,A.jsx)(o.xv,{size:"300",children:e.id})})}):(0,A.jsxs)(o.kC,{direction:"column",justifyContent:"center",children:[(0,A.jsx)(o.xu,{marginBottom:1,tabIndex:0,children:(0,A.jsx)(o.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,A.jsx)(o.xu,{tabIndex:0,children:(0,A.jsx)(o.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,A.jsx)(o.kC,{flex:"none",children:(0,A.jsx)(o.zx,{onClick:()=>m(e),selected:_.includes(e.id),size:"lg",text:_.includes(e.id)?r._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):r._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id))})]})}var E=r("248233"),S=r("930086");let y=({label:e,labelId:t})=>t?(0,A.jsx)(o.__,{htmlFor:t,children:(0,A.jsx)(o.xv,{size:"100",children:e})}):(0,A.jsx)(o.xv,{size:"100",children:e});function j(e){let{children:t,label:r,labelId:i}=e;return(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)(o.xu,{marginBottom:2,children:(0,A.jsx)(y,{label:r,labelId:i})}),t]})}function B({coverPin:e,handleShowBoardCoverEditModal:t}){let r=(0,l.ZP)(),[i,n]=(0,a.useState)(!1),{isRTL:s}=(0,c.B)();return(0,A.jsx)(j,{label:r._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,A.jsx)(o.xu,{position:"relative",width:138,children:(0,A.jsx)(o.iP,{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onTap:t,rounding:4,children:e?.custom_cover?(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)(o.zd,{height:138,rounding:4,width:138,children:(0,A.jsx)(S.Z,{alt:e.image_url,color:"gray",customCover:e.custom_cover,height:138,imgPos:function(e){let{crop:t,size:r}=e||{};if(Array.isArray(t)&&Array.isArray(r))return{x:t[0]||0,y:t[1]||0,width:r[0]||0,height:r[1]||0}}(e),imgUrl:e.image_url||"",renderAsImage:!0,width:138})}),(0,A.jsx)(o.xu,{bottom:!0,left:s,padding:2,position:"absolute",right:!s,children:(0,A.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:i?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,A.jsx)(o.JO,{accessibilityLabel:r._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,A.jsx)(o.xu,{alignItems:"center",color:i?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,A.jsx)(o.JO,{accessibilityLabel:r._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function I({children:e,label:t,labelId:r,subtext:i}){return(0,A.jsx)(a.Fragment,{children:(0,A.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,A.jsx)(o.xu,{marginStart:2,children:(0,A.jsxs)(o.__,{htmlFor:r,children:[(0,A.jsx)(o.xv,{size:"300",weight:"bold",children:t}),i]})})]})})}function z({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:r}){let a=(0,l.ZP)();return t&&(0,A.jsx)(I,{label:a._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,A.jsx)(o.xv,{color:"subtle",size:"300",children:a._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,A.jsx)(o.xu,{marginEnd:1,children:(0,A.jsx)(o.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:r})})})})}var w=r("508993"),D=r("513331");function T({board:e,onCollaboratorInviteClick:t}){let r=(0,l.ZP)(),a=(0,D.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),i=a.slice(0,3).map(e=>e.name),n="";switch(a.length){case 3:n=(0,d.Wc)(`${r._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${i[0]}`,second:`${i[1]}`,last:`${i[2]}`});break;case 2:n=(0,d.Wc)(`${r._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${i[0]}`,second:`${i[1]}`});break;default:n=i.join(", ")}let s=a.length>3?(0,d.Wc)(r.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', a.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:n,leftCount:`${a.length-3}`}):(0,d.Wc)(`${r._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:n});return(0,A.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,A.jsx)(o.HE,{accessibilityLabel:s,collaborators:a.map(({name:e,src:t})=>({src:t?.endsWith("/default_75.png")?void 0:t,name:e})),size:"md"}),(0,A.jsx)(o.hU,{accessibilityLabel:r._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function O({board:e,onCollaboratorInviteClick:t}){let r=(0,l.ZP)(),a=(0,A.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,A.jsx)(o.xv,{inline:!0,size:"100",children:r._('Collaborators', ' - ', ' -- ')}),(0,A.jsx)(w.Z,{}),(0,A.jsx)(o.xv,{inline:!0,size:"100",weight:"bold",children:(0,A.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:r._('Learn more', ' - ', ' -- ')})})]});return(0,A.jsx)(j,{label:a,labelId:"collaborators",children:(0,A.jsx)(T,{board:e,onCollaboratorInviteClick:t})})}function k({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:r}){let a=(0,l.ZP)();return t&&(0,A.jsx)(I,{label:a._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,A.jsx)(o.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:r})})}function R({description:e,descriptionValidatorErrors:t,onChange:r}){let a=(0,l.ZP)(),i="boardEditDescription";return(0,A.jsx)(j,{label:a._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,A.jsx)(o.Kx,{errorMessage:t.join(", "),id:i,name:"description",onChange:r,placeholder:a._('What\'s your board about?', ' - ', ' -- '),value:e})})}let N=({children:e})=>(0,A.jsx)(o.xu,{paddingX:8,role:"list",children:a.Children.map(e,(t,r)=>t&&(0,A.jsx)(o.xu,{marginBottom:r===a.Children.count(e)-1?1:8,role:"listitem",children:t},r))});function F({name:e,nameValidatorErrors:t,onChange:r,disabled:a}){let i=(0,l.ZP)();return(0,A.jsx)(j,{label:i._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,A.jsx)(o.nv,{disabled:a,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:r,placeholder:i._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let Z=({board:e,collabBoardEmail:t,collaboratorInvitesEnabled:r,coverPin:a,currentUserIsOwner:i,description:n,descriptionValidatorErrors:s,handleBoardLeave:d,isCollaborative:c,showCoverEdit:u,name:h,nameValidatorErrors:_,handleShowBoardCoverEditModal:b,handleChangeName:m,handleChangeDescription:g,handleShowCollaboratorsModal:p,handleChangeCollabBoardEmail:f,handleChangeCollaboratorInvitesEnabled:C})=>{let x=(0,l.ZP)();return(0,A.jsxs)(N,{children:[u&&(0,A.jsx)(B,{coverPin:a,handleShowBoardCoverEditModal:b}),(0,A.jsx)(F,{disabled:!0,name:h,nameValidatorErrors:_,onChange:m}),(0,A.jsx)(R,{description:n,descriptionValidatorErrors:s,onChange:g}),i&&!!d&&(0,A.jsx)(O,{board:e,onCollaboratorInviteClick:p}),c&&(0,A.jsx)(o.xu,{marginBottom:-7,children:(0,A.jsx)(o.xv,{size:"100",children:x._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,A.jsx)(z,{hasCollabBoardEmail:t,isCollaborative:c,onCheckboxChange:f}),(0,A.jsx)(k,{collaboratorInvitesEnabled:r,isCollaborative:c,onCheckboxChange:C})]})};function M({isProtectedToggler:e,isToggleDisable:t,onChange:r,onCheckboxChange:n,privacy:s}){let d=(0,l.ZP)();if(!0===e)return(0,A.jsx)(I,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,A.jsx)(o.xu,{paddingY:2,children:(0,A.jsx)(o.rs,{disabled:t,id:"protected",onChange:r,switched:s===i.ZP.BoardPrivacy.PROTECTED})})});if(s!==i.ZP.BoardPrivacy.PROTECTED){let e=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),r=(0,A.jsx)(a.Fragment,{children:(0,A.jsxs)(o.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,A.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,A.jsx)(I,{label:e,labelId:"secret",subtext:r,children:(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,A.jsx)(o.XZ,{checked:s===i.ZP.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:n})})})}return null}function L({allowHomefeedRecommendations:e,onCheckboxChange:t}){let r=(0,l.ZP)();return(0,A.jsx)(I,{label:r._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,A.jsx)(o.xv,{color:"subtle",size:"300",children:r._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,A.jsx)(o.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function U(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let G=(0,a.lazy)(()=>Promise.all([r.e("25418"),r.e("79825")]).then(r.bind(r,148285))),$=(0,a.lazy)(()=>Promise.all([r.e("20983"),r.e("15438"),r.e("82378"),r.e("81152"),r.e("5654")]).then(r.bind(r,709587))),H=(e,t)=>(0,m.Gy)({max:e,maxErrorString:(0,h.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),W=e=>[H(i.ZP.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],V=e=>[(0,m.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),H(i.ZP.MAX_CHARS_FOR_BOARD_TITLE,e)],K=({condition:e,children:t})=>e?(0,A.jsx)(o.xu,{position:"absolute",zIndex:s.b7,children:t}):t;class X extends a.Component{constructor(e){super(e),U(this,"handleChangeName",({value:e})=>{let t=(0,m.FU)(V(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),U(this,"handleChangeDescription",({value:e})=>{let t=(0,m.FU)(W(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),U(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),U(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),U(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),U(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),U(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),U(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),U(this,"handleCheckboxChange",e=>({event:t,checked:r})=>e({event:t,value:r})),U(this,"handleSubmit",e=>{let{onSubmit:t}=this.props,{collab_board_email:r,collaboratorInvitesEnabled:a,description:o,name:i,privacy:s,allowHomefeedRecommendations:l}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let d=i.trim(),c=o.trim();this.setState({submitting:!0,submitError:""}),t({name:d,collab_board_email:r,collaborator_invites_enabled:a,description:c,privacy:s,allow_homefeed_recommendations:l}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- '),r=(0,n.Z)(e,"message");if(r){let a=(0,n.Z)(e,"message_detail");t=a?`${r} ${a}`:r}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),U(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),U(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),U(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),U(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),U(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:t}=this.props;t&&t(e)});let{board:{collab_board_email:t,collaborator_invites_enabled:r,description:a,name:o,pin_count:i,privacy:s,allow_homefeed_recommendations:l}}=e;this.state={collab_board_email:t,description:a,name:o,pin_count:i,privacy:s,allowHomefeedRecommendations:l,collaboratorInvitesEnabled:r,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:o,previousDescription:a,previousPrivacy:s}}static getDerivedStateFromProps(e,t){let r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,m.FU)(V(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,m.FU)(W(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}getFormFooter(){let{submitText:e}=this.props,{submitError:t}=this.state;return(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,A.jsx)(o.xu,{children:(0,A.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,A.jsx)(o.xu,{height:48,children:(0,A.jsx)(o.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,A.jsx)(o.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,A.jsx)(o.xv,{color:"error",children:t})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:t,nameValidatorErrors:r,submitting:a}=this.state;return!t||r.length>0||e.length>0||a}render(){let{board:e,board:{archived_by_me_at:t,cover_pin:r,id:i,is_collaborative:n},coverImageHeight:l,coverImageWidth:c,currentUserIsOwner:h,handleBoardLeave:_,isAdAccount:b,isAdAccountOwner:m,isDeletable:p,isDesktop:f,isEditable:C,isNameAndSecretView:x,onClose:v,onDeleteButtonClick:S,requestContext:y,title:j,useModalWithNoLayer:I,showSecretBoardCreateToggle:w,shouldShowAddCollaborators:D,setSelectedContacts:T,selectedContacts:U,isProfilePublisher:H}=this.props,{allowHomefeedRecommendations:W,collab_board_email:V,collaboratorInvitesEnabled:X,description:Y,descriptionValidatorErrors:q,name:Q,nameValidatorErrors:J,pin_count:ee,privacy:et,showBoardCoverEdit:er,showCollaboratorsModal:ea,showSecretConfirmation:eo}=this.state,ei=C&&ee>0,en=e.is_ads_only,es=(0,A.jsxs)(N,{children:[ei&&(0,A.jsx)(B,{coverPin:r,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,A.jsx)(F,{disabled:en,name:Q,nameValidatorErrors:J,onChange:this.handleChangeName}),(0,A.jsx)(R,{description:Y,descriptionValidatorErrors:q,onChange:this.handleChangeDescription}),h&&!!_&&(0,A.jsx)(O,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,A.jsx)(o.xu,{marginBottom:-7,children:(0,A.jsx)(o.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,A.jsx)(M,{isProtectedToggler:!!b,isToggleDisable:!!b&&!m&&!H,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!t&&(0,A.jsx)(L,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,A.jsx)(z,{hasCollabBoardEmail:V,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,A.jsx)(k,{collaboratorInvitesEnabled:X,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),p&&(0,A.jsxs)(o.xu,{marginTop:-6,paddingY:4,children:[(0,A.jsx)(o.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,A.jsxs)(o.iP,{onTap:S,children:[(0,A.jsx)(o.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,A.jsx)(o.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,A.jsx)(o.xv,{color:"subtle",size:"300",children:(0,d.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:g.Xq})})]})]})]});h?x&&(es=(0,A.jsxs)(N,{children:[(0,A.jsx)(F,{disabled:en,name:Q,nameValidatorErrors:J,onChange:this.handleChangeName}),!w&&(0,A.jsx)(M,{isProtectedToggler:!!b,isToggleDisable:!!b&&!m&&!H,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),D&&(0,A.jsx)(P,{selectedContacts:U,setSelectedContacts:T})]})):es=(0,A.jsxs)(N,{children:[!!_&&(0,A.jsx)(O,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,A.jsx)(z,{hasCollabBoardEmail:V,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&en&&(0,A.jsx)(L,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,A.jsx)(o.xv,{color:"subtle",size:"300",children:(0,d.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,A.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let el=I?o.u_:s.ZP,ed=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ec=(0,A.jsxs)(o.xu,{paddingY:8,position:"relative",children:[(0,A.jsx)(o.X6,{align:"center",size:"500",children:ed}),(0,A.jsx)(o.xu,{left:y.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!y.isRTL,top:!0,children:(0,A.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)(K,{condition:!!I,children:!er&&!ea&&(0,A.jsx)(el,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:j,onDismiss:v,size:"sm",children:(0,A.jsx)(o.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,A.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!en&&es,en&&(0,A.jsx)(Z,{board:e,collabBoardEmail:V,collaboratorInvitesEnabled:X,coverPin:r,currentUserIsOwner:h,description:Y,descriptionValidatorErrors:q,handleBoardLeave:_,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:n,name:Q,nameValidatorErrors:J,showCoverEdit:ei})]})})})}),er&&f&&(0,A.jsx)(u.Z,{children:(0,A.jsx)(G,{boardId:i,boardName:Q,coverPinId:r?.pin_id,frameHeight:l,frameWidth:c,heading:ec,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),eo&&(0,A.jsx)(E.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),ea&&(0,A.jsx)(u.Z,{children:(0,A.jsx)($,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function Y(e){let t=(0,l.ZP)(),r=(0,b.ZP)();return(0,A.jsx)(X,{...e,i18n:t,isDesktop:"desktop"===r,requestContext:(0,c.B)(),toastManagerContext:(0,_.F9)()})}U(X,"defaultProps",{isNameAndSecretView:!1})},248233:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(883119),o=r(558919),i=r(708130),n=r(785893);function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:r,message:s,onCancel:l,onConfirm:d}){let c=(0,i.ZP)(),u=r||c._('Are you sure?', ' - ', ' -- '),h=e||c._('Cancel', ' - ', ' -- ');return(0,n.jsx)(o.ZP,{accessibilityModalLabel:u,footer:(0,n.jsxs)(a.xu,{marginEnd:-1,marginStart:-1,children:[(0,n.jsx)(a.xu,{"data-test-id":"cancel-button",padding:1,children:(0,n.jsx)(a.zx,{fullWidth:!0,onClick:l,size:"lg",text:h})}),(0,n.jsx)(a.xu,{"data-test-id":"confirm-button",padding:1,children:(0,n.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:u,onDismiss:l,role:"alertdialog",children:(0,n.jsx)(a.xu,{padding:4,children:(0,n.jsx)(a.xv,{children:s})})})}},187531:function(e,t,r){r.d(t,{Az:function(){return p},DI:function(){return v},Gl:function(){return E},Hl:function(){return w},NA:function(){return a},NG:function(){return d},OC:function(){return I},Pq:function(){return j},QM:function(){return b},Sk:function(){return P},UF:function(){return C},Uo:function(){return B},WF:function(){return s},Xm:function(){return c},Zf:function(){return i},_N:function(){return _},ac:function(){return n},dt:function(){return g},e_:function(){return h},gf:function(){return f},hf:function(){return S},i_:function(){return l},jY:function(){return x},ni:function(){return A},qg:function(){return u},rX:function(){return o},vX:function(){return y},yG:function(){return m},yq:function(){return z}});let a="10",o=1,i=365,n=64,s=8,l=9,d=11,c=15,u=16,h=17,_=18,b=19,m=20,g=22,p=1e6,f=1e6,C="US";function x(e){let t="USD",r="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",r="€";break;case"AU":t="AUD",r="$";break;case"CA":t="CAD",r="$";break;case"CH":t="CHF",r="CHF";break;case"DK":t="DKK",r="kr";break;case"GB":t="GBP",r="£";break;case"NO":t="NOK",r="kr";break;case"NZ":t="NZD",r="$";break;case"SE":t="SEK",r="kr"}return[t,r]}let v={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},A={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},P={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},E={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},S="QUICK_PROMOTE_PAGE",y=[E.GDPR_MODAL,E.PIN_SELECTION_MODAL,S,E.BUSINESS_FORM,E.BILLING_FORM,E.SUCCESS_MODAL,E.ERROR_MODAL],j={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},B=e=>e>=1&&e<=2,I="qp-fac-education-id",z="qp-fac-modal-education-id",w={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},513331:function(e,t,r){r.d(t,{I:function(){return s},Z:function(){return n}});var a=r(820368),o=r(315976);let i=({boardId:e,ownerUsername:t,ownerName:r,ownerImgSrc:i})=>{let n=(0,o.Z)(),{data:s,isLoaded:l}=(0,a.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...n?{orbac_subject_id:n}:{}}}),d=[{name:r,src:i,href:`/${t}/`,isDim:!1}];return l&&s&&s.length>0&&s.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},n=i;function s({children:e,...t}){return e(i(t))}},694175:function(e,t,r){r.d(t,{Z:function(){return c}});var a=r(581722),o=r(782677),i=r(694623),n=r(798953),s=r(424428),l=r(854166),d=r(445029);function c(){let e=(0,a.I0)(),t=(0,a.v9)(e=>e.resources);return async function({boardCreateOptions:r,deprecatedSchemaForNormalization:a}){let c=await i.Z.create("BoardResource",r).callCreate(),u=c.resource_response.data,h=a?(0,o.Fv)(u,a):void 0;e((0,d.XM)("BoardResource",r,c,h)),e((0,n.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=t.BoardsResource||{},b=t.BoardsFeedResource||{};return Object.keys(_).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(b).forEach(t=>{(0,s.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},543871:function(e,t,r){function a(e){let[t,r]=e.split(/\/(.*)+/);return{filepath:r||"",site:t||""}}function o(e,t){return t?`${e||""}/${t}`:`/${e||""}`}r.d(t,{ac:function(){return a},ke:function(){return o}})},554281:function(e,t,r){r.d(t,{MM:function(){return n},uo:function(){return s},wH:function(){return i}});var a=r(486188),o=r(543871);let{Provider:i,useHook:n}=(0,a.Z)("HandlerId");function s(){let e=n();return(0,o.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/13865-b64471193a662576.mjs.map